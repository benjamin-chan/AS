1                                          The SAS System              18:37 Thursday, June 21, 2018

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M5) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70086550.
NOTE: This session is executing on the X64_DS08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 14.3
      SAS/ETS 14.3
      SAS/IML 14.3
      SAS/QC 14.3

NOTE: Additional host information:

 X64_DS08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any 
of the shared folders.

 


NOTE: SAS initialization used:
      real time           0.36 seconds
      cpu time            0.29 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                            *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=buildControlLookup; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref UCB64 was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB64\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
NOTE: Libref NDC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: W:\onenote\references\drug ndcs\sas data
143        footnote "&pgm.";
144        * footnote2 "%sysfunc(datetime(),datetime14.)";
145        title1 '--- AS project ---';
146        **********************************************************************;
147        options macrogen mlogic mprint symbolgen;
148        options nomacrogen nomlogic nomprint nosymbolgen;
2                                                                   The SAS System                                       18:37 Thursday, June 21, 2018

149        
150        
151        ods html
152          body = "output\&cmt..html"
153          style = Statistical;
NOTE: Writing HTML Body file: output\buildControlLookup.html
154        
155        
156        %let var = patid, indexDate, age, sex, enr_start_date, enr_end_date;
157        proc sql;
158          create table DT.controlLookup AS
159            select "MPCD"       as database, "Non-AS" as cohort, &var from UCB.cntlCohortStdMPCD union corr
160            select "Medicare"   as database, "Non-AS" as cohort, &var from UCB.cntlCohortStdC5PN where 65 <= age;
NOTE: Data set UCB.CNTLCOHORTSTDMPCD is in a format that is native to another host. Cross Environment Data Access will be used. This will require 
      additional CPU resources and may reduce performance.
NOTE: Table DT.CONTROLLOOKUP created, with 2586417 rows and 8 columns.

161          alter table DT.controlLookup add controlID numeric;
NOTE: Table DT.CONTROLLOOKUP has been modified, with 9 columns.
162          update DT.controlLookup
163            set controlID = monotonic();
NOTE: 2586417 rows were updated in DT.CONTROLLOOKUP.

164        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           7.70 seconds
      cpu time            9.31 seconds
      

165        
166        proc sort data = DT.controlLookup nodupkey;
167          by database cohort patid indexDate;
168        run;

NOTE: There were 2586417 observations read from the data set DT.CONTROLLOOKUP.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set DT.CONTROLLOOKUP has 2586417 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           1.15 seconds
      cpu time            3.12 seconds
      

169        
170        proc sql;
171          select database,
172                 cohort,
173                 . < ENR_START_DATE < indexDate as indIndexAfterEnr,
174                 count(distinct patid) format = comma12.0 as countDistinctPatid,
175                 count(distinct controlID) format = comma12.0 as countDistinctID,
176                 count(*) format = comma12.0 as countRows,
177                 min(indexDate - ENR_START_DATE) as minDaysFromEnrToIndex,
178                 max(indexDate - ENR_START_DATE) as maxDaysFromEnrToIndex
179            from DT.controlLookup
180            group by database, cohort, calculated indIndexAfterEnr;
                                                                  --- AS project ---                                 18:37 Thursday, June 21, 2018   1

                                                                count
                                               indIndex      Distinct         count                 minDaysFrom   maxDaysFrom
                         database  cohort      AfterEnr         Patid    DistinctID     countRows    EnrToIndex    EnrToIndex
                         ----------------------------------------------------------------------------------------------------
                         MPCD      Non-AS             1     1,139,225     1,139,225     1,139,225           183           183
                         Medicare  Non-AS             1     1,447,192     1,447,192     1,447,192           183           183
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                                buildControlLookup.sas
181        quit;
NOTE: The PROCEDURE SQL printed page 1.
NOTE: PROCEDURE SQL used (Total process time):
      real time           4.84 seconds
      cpu time            6.42 seconds
      

182        
183        
184        ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           14.85 seconds
      cpu time            19.68 seconds
      
