1                                                          The SAS System                               14:50 Thursday, June 8, 2017

NOTE: Copyright (c) 2002-2012 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M1) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70058223.
NOTE: This session is executing on the W32_ES08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 13.1
      SAS/ETS 13.1
      SAS/OR 13.1
      SAS/IML 13.1
      SAS/QC 13.1

NOTE: Additional host information:

 W32_ES08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any of the shared folders.

 


NOTE: SAS initialization used:
      real time           0.20 seconds
      cpu time            0.10 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                            *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=buildIndexLookup; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref CCW5STD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: h:\studies\osteo\data\CDM\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: h:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
89         footnote "&pgm.";
90         * footnote2 "%sysfunc(datetime(),datetime14.)";
91         title1 '--- AS project ---';
92         **********************************************************************;
93         options macrogen mlogic mprint symbolgen;
94         options nomacrogen nomlogic nomprint nosymbolgen;
95         
96         
97         ods html
98           body = "output\&cmt..html"
99           style = Statistical;
NOTE: Writing HTML Body file: output\buildIndexLookup.html
2                                                                   The SAS System                                        14:50 Thursday, June 8, 2017

100        
101        
102        %let var = patid, indexGNN, indexDate, age, sex, asDate, enr_start_date, enr_end_date, asCohortDate, death_date;
103        proc sql;
104          create table DT.indexLookup AS
105            select "Marketscan" as database, "TNF"   as exposure, &var from UCB.ASTNFCohortStdUCB_ex1     union corr
106            select "Marketscan" as database, "DMARD" as exposure, &var from UCB.ASDMARDCohortStdUCB_ex2   union corr
107            select "Marketscan" as database, "NSAID or no exposure" as exposure, &var from UCB.ASNSAIDCohortStdUCB_ex2   union corr
108            select "Marketscan" as database, "NSAID or no exposure" as exposure, &var from UCB.ASNoExpCohortStdUCB_ex2   union corr
109            select "MPCD"       as database, "TNF"   as exposure, &var from UCB.ASTNFCohortStdMPCD_ex1    union corr
110            select "MPCD"       as database, "DMARD" as exposure, &var from UCB.ASDMARDCohortStdMPCD_ex2  union corr
111            select "MPCD"       as database, "NSAID or no exposure" as exposure, &var from UCB.ASNSAIDCohortStdMPCD_ex2  union corr
112            select "MPCD"       as database, "NSAID or no exposure" as exposure, &var from UCB.ASNoExpCohortStdMPCD_ex2  union corr
113            select "Medicare"   as database, "TNF"   as exposure, &var from UCB.ASTNFCohortStd_SABR_ex1   union corr
114            select "Medicare"   as database, "DMARD" as exposure, &var from UCB.ASDMARDCohortStd_SABR_ex2 union corr
115            select "Medicare"   as database, "NSAID or no exposure" as exposure, &var from UCB.ASNSAIDCohortStd_SABR_ex2 union corr
116            select "Medicare"   as database, "NSAID or no exposure" as exposure, &var from UCB.ASNoExpCohortStd_SABR_ex2 ;
NOTE: Table DT.INDEXLOOKUP created, with 63511 rows and 12 columns.

117          alter table DT.indexLookup add indexID numeric;
NOTE: Table DT.INDEXLOOKUP has been modified, with 13 columns.
118          update DT.indexLookup
119            set indexID = monotonic();
NOTE: 63511 rows were updated in DT.INDEXLOOKUP.

120        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           1.37 seconds
      cpu time            0.63 seconds
      

121        
122        proc sort data = DT.indexLookup nodupkey;
123          by database exposure patid indexGNN indexDate;
124        run;

NOTE: There were 63511 observations read from the data set DT.INDEXLOOKUP.
NOTE: 3501 observations with duplicate key values were deleted.
NOTE: The data set DT.INDEXLOOKUP has 60010 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.12 seconds
      cpu time            0.11 seconds
      

125        
126        proc sql;
127          select database,
128                 exposure,
129                 count(distinct patid) as countDistinctPatid,
130                 count(distinct indexID) as countDistinctIndexes,
131                 count(*) as countRows
132            from DT.indexLookup
133            group by database, exposure;
                                                                  --- AS project ---                                  14:50 Thursday, June 8, 2017   1

                                                                                count         count
                                                                             Distinct      Distinct
                                       database    exposure                     Patid       Indexes  countRows
                                       -----------------------------------------------------------------------
                                       MPCD        DMARD                          421           481        481
                                       MPCD        NSAID or no exposure          2083          2593       2593
                                       MPCD        TNF                           1107          1279       1279
                                       Marketscan  DMARD                         1799          2045       2045
                                       Marketscan  NSAID or no exposure          8025         10589      10589
                                       Marketscan  TNF                           4797          5779       5779
                                       Medicare    DMARD                         4231          5193       5193
                                       Medicare    NSAID or no exposure         17983         26122      26122
                                       Medicare    TNF                           4866          5929       5929
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                                 buildIndexLookup.sas
134        quit;
NOTE: The PROCEDURE SQL printed page 1.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.21 seconds
      cpu time            0.17 seconds
      

135        
136        
137        ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           2.17 seconds
      cpu time            1.24 seconds
      
