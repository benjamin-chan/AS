1                                                          The SAS System                            16:50 Friday, September 8, 2017

NOTE: Copyright (c) 2002-2012 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M1) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70058223.
NOTE: This session is executing on the W32_ES08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 13.1
      SAS/ETS 13.1
      SAS/OR 13.1
      SAS/IML 13.1
      SAS/QC 13.1

NOTE: Additional host information:

 W32_ES08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any of the shared folders.

 


NOTE: SAS initialization used:
      real time           0.11 seconds
      cpu time            0.10 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                            *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=buildIndexLookup; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: h:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
92         footnote "&pgm.";
93         * footnote2 "%sysfunc(datetime(),datetime14.)";
94         title1 '--- AS project ---';
95         **********************************************************************;
96         options macrogen mlogic mprint symbolgen;
97         options nomacrogen nomlogic nomprint nosymbolgen;
98         
99         
100        ods html
101          body = "output\&cmt..html"
102          style = Statistical;
NOTE: Writing HTML Body file: output\buildIndexLookup.html
2                                                                   The SAS System                                     16:50 Friday, September 8, 2017

103        
104        
105        %let var = patid, indexGNN, indexDate, age, sex, asDate, enr_start_date, enr_end_date, asCohortDate, death_date;
106        proc sql;
107          create table DT.indexLookup AS
108            select "Marketscan" as database, "TNF"   as exposure, &var from UCB.ASTNFCohortStdUCB_ex1     union corr
109            select "Marketscan" as database, "DMARD" as exposure, &var from UCB.ASDMARDCohortStdUCB_ex2   union corr
110            select "Marketscan" as database, "NSAID or no exposure" as exposure, &var from UCB.ASNSAIDCohortStdUCB_ex2   union corr
111            select "Marketscan" as database, "NSAID or no exposure" as exposure, &var from UCB.ASNoExpCohortStdUCB_ex2   union corr
112            select "MPCD"       as database, "TNF"   as exposure, &var from UCB.ASTNFCohortStdMPCD_ex1    union corr
113            select "MPCD"       as database, "DMARD" as exposure, &var from UCB.ASDMARDCohortStdMPCD_ex2  union corr
114            select "MPCD"       as database, "NSAID or no exposure" as exposure, &var from UCB.ASNSAIDCohortStdMPCD_ex2  union corr
115            select "MPCD"       as database, "NSAID or no exposure" as exposure, &var from UCB.ASNoExpCohortStdMPCD_ex2  union corr
116            select "Medicare"   as database, "TNF"   as exposure, &var from UCB.ASTNFCohortStd_SABR_ex1   union corr
117            select "Medicare"   as database, "DMARD" as exposure, &var from UCB.ASDMARDCohortStd_SABR_ex2 union corr
118            select "Medicare"   as database, "NSAID or no exposure" as exposure, &var from UCB.ASNSAIDCohortStd_SABR_ex2 union corr
119            select "Medicare"   as database, "NSAID or no exposure" as exposure, &var from UCB.ASNoExpCohortStd_SABR_ex2 ;
NOTE: Table DT.INDEXLOOKUP created, with 63511 rows and 12 columns.

120          alter table DT.indexLookup add indexID numeric;
NOTE: Table DT.INDEXLOOKUP has been modified, with 13 columns.
121          update DT.indexLookup
122            set indexID = monotonic();
NOTE: 63511 rows were updated in DT.INDEXLOOKUP.

123        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           1.38 seconds
      cpu time            0.76 seconds
      

124        
125        proc sort data = DT.indexLookup nodupkey;
126          by database exposure patid indexGNN indexDate;
127        run;

NOTE: There were 63511 observations read from the data set DT.INDEXLOOKUP.
NOTE: 3501 observations with duplicate key values were deleted.
NOTE: The data set DT.INDEXLOOKUP has 60010 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.14 seconds
      cpu time            0.10 seconds
      

128        
129        proc sql;
130          select database,
131                 exposure,
132                 count(distinct patid) as countDistinctPatid,
133                 count(distinct indexID) as countDistinctIndexes,
134                 count(*) as countRows
135            from DT.indexLookup
136            group by database, exposure;
                                                                  --- AS project ---                               16:50 Friday, September 8, 2017   1

                                                                                count         count
                                                                             Distinct      Distinct
                                       database    exposure                     Patid       Indexes  countRows
                                       -----------------------------------------------------------------------
                                       MPCD        DMARD                          421           481        481
                                       MPCD        NSAID or no exposure          2083          2593       2593
                                       MPCD        TNF                           1107          1279       1279
                                       Marketscan  DMARD                         1799          2045       2045
                                       Marketscan  NSAID or no exposure          8025         10589      10589
                                       Marketscan  TNF                           4797          5779       5779
                                       Medicare    DMARD                         4231          5193       5193
                                       Medicare    NSAID or no exposure         17983         26122      26122
                                       Medicare    TNF                           4866          5929       5929
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                                 buildIndexLookup.sas
137        quit;
NOTE: The PROCEDURE SQL printed page 1.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.20 seconds
      cpu time            0.17 seconds
      

138        
139        
140        ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           2.12 seconds
      cpu time            1.38 seconds
      
