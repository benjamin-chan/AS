1                                                          The SAS System                           10:26 Monday, September 18, 2017

NOTE: Copyright (c) 2002-2012 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M1) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70058223.
NOTE: This session is executing on the W32_ES08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 13.1
      SAS/ETS 13.1
      SAS/OR 13.1
      SAS/IML 13.1
      SAS/QC 13.1

NOTE: Additional host information:

 W32_ES08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any of the shared folders.

 


NOTE: SAS initialization used:
      real time           0.21 seconds
      cpu time            0.12 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                            *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=importOutcomeCodebook; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: h:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
92         footnote "&pgm.";
93         * footnote2 "%sysfunc(datetime(),datetime14.)";
94         title1 '--- AS project ---';
95         **********************************************************************;
96         options macrogen mlogic mprint symbolgen;
97         options nomacrogen nomlogic nomprint nosymbolgen;
98         
99         
100        /*
101        NEED TO OPERATIONALIZE
102        
103        The outcome definition for osteoporotic fracture is complex.
2                                                                   The SAS System                                    10:26 Monday, September 18, 2017

104        See *ALGORITHMS TO ENHANCE SPECIFICITY OF FRACTURE IDENTIFICATION_ 100316.docx*
105        
106        Osteoporotic fracture Clinical vertebral fracture
107        Non-vertebral osteoporotic fracture (hip, pelvis, femur, humerus, distal radius/ulna)
108         */
109        
110        
111        ods html
112          body = "output\&cmt..html"
113          style = Statistical;
NOTE: Writing HTML Body file: output\importOutcomeCodebook.html
114        
115        
116        filename f "data\raw\AS Project Codebooks - 20170410\AS Project Cohort Outcome Codebook-20170410.xlsx";
117        
118        proc sql;
119          create table Work.worksheets (worksheet varchar(40), outfile varchar(20));
NOTE: Table WORK.WORKSHEETS created, with 0 rows and 2 columns.
120          insert into Work.worksheets
121            values ("Detail Outcome-Cardiac", "defCardiac")
122            values ("Detail Outcome-Cancer", "defCancer")
123            values ("Detail Outcome-Hospit Infection", "defHospInf")
124            values ("Detail Outcome-OI", "defOI")
125            values ("Detail Outcome-Spondyloarthri", "defSpondy")
126            values ("Detail Outcome-Lung-Neur-Kidn", "defLNK");
NOTE: 6 rows were inserted into WORK.WORKSHEETS.

127        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

128        
129        %macro import;
130          %do i = 1 %to 6;
131            data _null_;
132              set Work.worksheets;
133              if _n_ = &i then do;
134                call symput ("worksheet", strip(worksheet));
135                call symput ("outfile", strip(outfile));
136              end;
137            run;
138            proc import datafile = f dbms = xlsx out = Work.&outfile;
139              sheet = "&worksheet";
140            run;
141          %end;
142        %mend;
143        
144        %import;

NOTE: There were 6 observations read from the data set WORK.WORKSHEETS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


ERROR: XLSX file does not exist -> U:\studies\AS\pgms\bchan\data\raw\AS Project Codebooks - 20170410\AS Project Cohort Outcome Codebook-20170410.xlsx

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      



NOTE: There were 6 observations read from the data set WORK.WORKSHEETS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
3                                                                   The SAS System                                    10:26 Monday, September 18, 2017

      


ERROR: XLSX file does not exist -> U:\studies\AS\pgms\bchan\data\raw\AS Project Codebooks - 20170410\AS Project Cohort Outcome Codebook-20170410.xlsx

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      



NOTE: There were 6 observations read from the data set WORK.WORKSHEETS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


ERROR: XLSX file does not exist -> U:\studies\AS\pgms\bchan\data\raw\AS Project Codebooks - 20170410\AS Project Cohort Outcome Codebook-20170410.xlsx

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      



NOTE: There were 6 observations read from the data set WORK.WORKSHEETS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


ERROR: XLSX file does not exist -> U:\studies\AS\pgms\bchan\data\raw\AS Project Codebooks - 20170410\AS Project Cohort Outcome Codebook-20170410.xlsx

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      



NOTE: There were 6 observations read from the data set WORK.WORKSHEETS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


ERROR: XLSX file does not exist -> U:\studies\AS\pgms\bchan\data\raw\AS Project Codebooks - 20170410\AS Project Cohort Outcome Codebook-20170410.xlsx

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      



NOTE: There were 6 observations read from the data set WORK.WORKSHEETS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


ERROR: XLSX file does not exist -> U:\studies\AS\pgms\bchan\data\raw\AS Project Codebooks - 20170410\AS Project Cohort Outcome Codebook-20170410.xlsx
4                                                                   The SAS System                                    10:26 Monday, September 18, 2017


NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
145        
146        


147        proc sql;
148          create table Work.defOutcomesICD9 as
149            select "Cardiac disease" as outcomeCategory, disease, icd9_list, description from Work.defCardiac union corr
150            select "Cancer" as outcomeCategory, disease, icd9_list, description from Work.defCancer union corr
151            select "Infection" as outcomeCategory, "Hospitalized infection" as disease, icd9_list, Descriptions as description from Work.defHospInf
151      !  union corr
152            select "Infection" as outcomeCategory, "Opportunistic infection" as disease, icd9_list, Descriptions as description from Work.defOI
152      ! union corr
153            select case
154                     when disease in ("Psoriasis", "Psoriatic arthritis") then "PsO/PsA"
155                     when disease in ("Crohnâ€™s Disease", "Ulcerative Colitis") then "Inflammatory bowel disease"
156                     when prxmatch("/Crohn.s Disease/", disease) then "Inflammatory bowel disease"
157                     when disease in ("Uveitis") then "Uveitis"
158                     else ""
159                     end as outcomeCategory,
160                   A.disease,
161                   A.icd9_list,
162                   A.description
163              from Work.defSpondy A;
ERROR: File WORK.DEFCARDIAC.DATA does not exist.
ERROR: File WORK.DEFCANCER.DATA does not exist.
ERROR: File WORK.DEFHOSPINF.DATA does not exist.
ERROR: File WORK.DEFOI.DATA does not exist.
ERROR: File WORK.DEFSPONDY.DATA does not exist.
NOTE: PROC SQL set option NOEXEC and will continue to check the syntax of statements.
164          alter table Work.defOutcomesICD9 add codeType varchar(7), code varchar(5), enc_type varchar(2);
NOTE: Statement not executed due to NOEXEC option.
165          update Work.defOutcomesICD9
166            set codeType = "ICD9-DX";
ERROR: File WORK.DEFOUTCOMESICD9.DATA does not exist.
167          update Work.defOutcomesICD9
168            set code = dequote(icd9_list);
ERROR: File WORK.DEFOUTCOMESICD9.DATA does not exist.
169          update Work.defOutcomesICD9
170            set enc_type = case when disease = "Myocardial infarction" then "IP" else "" end;
ERROR: File WORK.DEFOUTCOMESICD9.DATA does not exist.
171          alter table Work.defOutcomesICD9 drop icd9_list;
NOTE: Statement not executed due to NOEXEC option.
172          create table DT.defOutcomes as
173            select * from Work.defOutcomesICD9 union corr
174            select disease_category as outcomeCategory, disease, code_type as codeType, dequote(codes) as code, "" as enc_type, description
175              from Work.defLNK;
NOTE: Statement not executed due to NOEXEC option.
176          select outcomeCategory, disease, count(distinct codeType) as countCodeTypes, count(distinct code) as countCodes
177            from DT.defOutcomes
178            where outcomeCategory ^in ("Hospitalized infection", "Opportunistic infection")
179            group by outcomeCategory, disease;
NOTE: Statement not executed due to NOEXEC option.
180        quit;
NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.00 seconds
      
181        
182        
183        ods html close;

ERROR: Errors printed on page 4.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
5                                                                   The SAS System                                    10:26 Monday, September 18, 2017

      real time           0.82 seconds
      cpu time            0.42 seconds
      
