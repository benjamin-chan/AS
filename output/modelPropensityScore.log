1                                                          The SAS System                            15:16 Friday, November 17, 2017

NOTE: Unable to open SASUSER.REGSTRY. WORK.REGSTRY will be opened instead.
NOTE: All registry changes will be lost at the end of the session.

WARNING: Unable to copy SASUSER registry to WORK registry. Because of this, you will not see registry customizations during this 
         session.
NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2002-2012 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M1) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70058223.
NOTE: This session is executing on the W32_ES08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 13.1
      SAS/ETS 13.1
      SAS/OR 13.1
      SAS/IML 13.1
      SAS/QC 13.1

NOTE: Additional host information:

 W32_ES08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any of the shared folders.

 


NOTE: SAS initialization used:
      real time           0.76 seconds
      cpu time            0.15 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                                        *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=modelPropensityScore; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: h:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
NOTE: Libref NDC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: W:\onenote\references\drug ndcs\sas data
127        footnote "&pgm.";
128        * footnote2 "%sysfunc(datetime(),datetime14.)";
2                                                                   The SAS System                                     15:16 Friday, November 17, 2017

129        title1 '--- AS project ---';
130        **********************************************************************;
131        options macrogen mlogic mprint symbolgen;
132        options nomacrogen nomlogic nomprint nosymbolgen;
133        
134        
135        ods html
136          body = "output\&cmt..html"
137          style = Statistical;
NOTE: Writing HTML Body file: output\modelPropensityScore.html
138        
139        
140        proc sql;
141          create table Work.allCovariates as
142            select A.database,
143                   A.exposure as exposure4,
144                   case
145                     when A.exposure in ("No exposure", "NSAID") then "NSAID or no exposure"
146                     else A.exposure
147                     end as exposure3,
148                   A.PATID,
149                   A.age,
150                   A.SEX,
151                   A.indexID,
152                   max(0, B.indAmyloidosis     ) as indAmyloidosis,
153                   max(0, C.indAortInsuffRegurg) as indAortInsuffRegurg,
154                   max(0, D.indApicalPulmFib   ) as indApicalPulmFib,
155                   max(0, E.indCaudaEquina     ) as indCaudaEquina,
156                   max(0, F.indVertFrac        ) as indVertFrac,
157                   max(0, G.indConductBlock    ) as indConductBlock,
158                   max(0, H.indCrohnsDis       ) as indCrohnsDis,
159                   max(0, I.indHematCa         ) as indHematCa,
160                   max(0, J.indHospInf         ) as indHospInf,
161                   max(0, K.indIgANeph         ) as indIgANeph,
162                   max(0, L.indInterstLungDis  ) as indInterstLungDis,
163                   max(0, M.indMI              ) as indMI,
164                   max(0, N.indNephSyn         ) as indNephSyn,
165                   max(0, O.indNMSC            ) as indNMSC,
166                   max(0, P.indNonVertOsFrac   ) as indNonVertOsFrac,
167                   max(0, Q.indOppInf          ) as indOppInf,
168                   max(0, R.indPsoriasis       ) as indPsoriasis,
169                   max(0, S.indPSA             ) as indPSA,
170                   max(0, T.indRestrictLungDis ) as indRestrictLungDis,
171                   max(0, U.indSolidCa         ) as indSolidCa,
172                   max(0, V.indSpinalCordComp  ) as indSpinalCordComp,
173                   max(0, W.indUlcerColitis    ) as indUlcerColitis,
174                   max(0, X.indUveitis         ) as indUveitis,
175                   max(0, AA.indDiabetes       ) as indDiabetes,
176                   max(0, BB.indHT             ) as indHT,
177                   max(0, CC.indMetabSyn       ) as indMetabSyn,
178                   max(0, DD.indNAFattyLiverDis) as indNAFattyLiverDis
179            from
180              DT.indexLookup A left join
181              (select indexID, 1 as indAmyloidosis      from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Amyloidosis/"
181      !                        , disease    )) B  on (A.indexID = B.indexID ) left join
182              (select indexID, 1 as indAortInsuffRegurg from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Aortic
182      ! Insufficiency\/Aortic Regurgitation/", disease    )) C  on (A.indexID = C.indexID ) left join
183              (select indexID, 1 as indApicalPulmFib    from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Apical Pulmonary
183      ! fibrosis/"                 , disease    )) D  on (A.indexID = D.indexID ) left join
184              (select indexID, 1 as indCaudaEquina      from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Cauda Equina
184      ! syndrome/"                     , disease    )) E  on (A.indexID = E.indexID ) left join
185              (select indexID, 1 as indVertFrac         from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Clinical vertebral
185      ! fracture/"               , disease    )) F  on (A.indexID = F.indexID ) left join
186              (select indexID, 1 as indConductBlock     from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Conduction Block/"
186      !                        , disease    )) G  on (A.indexID = G.indexID ) left join
187              (select indexID, 1 as indCrohnsDis        from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Crohnâ€™s Disease/"
187      !                          , disease    )) H  on (A.indexID = H.indexID ) left join
188              (select indexID, 1 as indHematCa          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Hematologic Cancer/"
188      !                        , disease    )) I  on (A.indexID = I.indexID ) left join
189              (select indexID, 1 as indHospInf          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Hospitalized
189      ! infection/"                    , disease    )) J  on (A.indexID = J.indexID ) left join
190              (select indexID, 1 as indIgANeph          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/IgA nephropathy/"
3                                                                   The SAS System                                     15:16 Friday, November 17, 2017

190      !                        , disease    )) K  on (A.indexID = K.indexID ) left join
191              (select indexID, 1 as indInterstLungDis   from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Interstitial lung
191      ! disease/"                 , disease    )) L  on (A.indexID = L.indexID ) left join
192              (select indexID, 1 as indMI               from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Myocardial
192      ! infarction/"                     , disease    )) M  on (A.indexID = M.indexID ) left join
193              (select indexID, 1 as indNephSyn          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Nephrotic syndrome/"
193      !                        , disease    )) N  on (A.indexID = N.indexID ) left join
194              (select indexID, 1 as indNMSC             from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Non Melanoma Skin
194      ! Cancer/"                  , disease    )) O  on (A.indexID = O.indexID ) left join
195              (select indexID, 1 as indNonVertOsFrac    from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Non-vertebral
195      ! osteoporotic fracture/"       , disease    )) P  on (A.indexID = P.indexID ) left join
196              (select indexID, 1 as indOppInf           from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Opportunistic
196      ! infection/"                   , disease    )) Q  on (A.indexID = Q.indexID ) left join
197              (select indexID, 1 as indPsoriasis        from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Psoriasis/"
197      !                        , disease    )) R  on (A.indexID = R.indexID ) left join
198              (select indexID, 1 as indPSA              from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Psoriatic arthritis/"
198      !                        , disease    )) S  on (A.indexID = S.indexID ) left join
199              (select indexID, 1 as indRestrictLungDis  from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Restrictive lung
199      ! disease/"                  , disease    )) T  on (A.indexID = T.indexID ) left join
200              (select indexID, 1 as indSolidCa          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Solid Cancer/"
200      !                        , disease    )) U  on (A.indexID = U.indexID ) left join
201              (select indexID, 1 as indSpinalCordComp   from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Spinal Cord
201      ! compression/"                   , disease    )) V  on (A.indexID = V.indexID ) left join
202              (select indexID, 1 as indUlcerColitis     from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Ulcerative Colitis/"
202      !                        , disease    )) W  on (A.indexID = W.indexID ) left join
203              (select indexID, 1 as indUveitis          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Uveitis/"
203      !                        , disease    )) X  on (A.indexID = X.indexID ) left join
204              (select indexID, 1 as indDiabetes         from DT.comorbiditiesOther where                           prxmatch("/Diabetes/"
204      !                        , comorbidity)) AA on (A.indexID = AA.indexID) left join
205              (select indexID, 1 as indHT               from DT.comorbiditiesOther where                           prxmatch("/Hypertention/"
205      !                        , comorbidity)) BB on (A.indexID = BB.indexID) left join
206              (select indexID, 1 as indMetabSyn         from DT.comorbiditiesOther where                           prxmatch("/Metabolic syndrome/"
206      !                        , comorbidity)) CC on (A.indexID = CC.indexID) left join
207              (select indexID, 1 as indNAFattyLiverDis  from DT.comorbiditiesOther where                           prxmatch("/Non-alcoholic fatty
207      ! liver disease/"         , comorbidity)) DD on (A.indexID = DD.indexID) ;
NOTE: Table WORK.ALLCOVARIATES created, with 60010 rows and 34 columns.

208        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           1.82 seconds
      cpu time            1.26 seconds
      

209        
210        
211        proc means data = Work.allCovariates;
212          var indAmyloidosis
213              indAortInsuffRegurg
214              indApicalPulmFib
215              indCaudaEquina
216              indVertFrac
217              indConductBlock
218              indCrohnsDis
219              indHematCa
220              indHospInf
221              indIgANeph
222              indInterstLungDis
223              indMI
224              indNephSyn
225              indNMSC
226              indNonVertOsFrac
227              indOppInf
228              indPsoriasis
229              indPSA
230              indRestrictLungDis
231              indSolidCa
232              indSpinalCordComp
233              indUlcerColitis
234              indUveitis
235              indDiabetes
236              indHT
237              indMetabSyn
4                                                                   The SAS System                                     15:16 Friday, November 17, 2017

238              indNAFattyLiverDis;
239        run;

                                                                  --- AS project ---                               15:16 Friday, November 17, 2017   1

                                                                 The MEANS Procedure

                             Variable                   N            Mean         Std Dev         Minimum         Maximum
                             --------------------------------------------------------------------------------------------
                             indAmyloidosis         60010     0.000333278       0.0182530               0       1.0000000
                             indAortInsuffRegurg    60010       0.0194634       0.1381482               0       1.0000000
                             indApicalPulmFib       60010     0.000099983       0.0099988               0       1.0000000
                             indCaudaEquina         60010     0.000716547       0.0267590               0       1.0000000
                             indVertFrac            60010       0.0294618       0.1690983               0       1.0000000
                             indConductBlock        60010       0.0187802       0.1357491               0       1.0000000
                             indCrohnsDis           60010               0               0               0               0
                             indHematCa             60010       0.0070988       0.0839556               0       1.0000000
                             indHospInf             60010       0.0975837       0.2967535               0       1.0000000
                             indIgANeph             60010       0.0014331       0.0378294               0       1.0000000
                             indInterstLungDis      60010       0.0038994       0.0623234               0       1.0000000
                             indMI                  60010       0.0072821       0.0850248               0       1.0000000
                             indNephSyn             60010     0.000616564       0.0248233               0       1.0000000
                             indNMSC                60010       0.0074154       0.0857937               0       1.0000000
                             indNonVertOsFrac       60010       0.0291785       0.1683079               0       1.0000000
                             indOppInf              60010       0.0151308       0.1220742               0       1.0000000
                             indPsoriasis           60010       0.0271621       0.1625571               0       1.0000000
                             indPSA                 60010       0.0390102       0.1936208               0       1.0000000
                             indRestrictLungDis     60010       0.0181636       0.1335441               0       1.0000000
                             indSolidCa             60010       0.0409265       0.1981216               0       1.0000000
                             indSpinalCordComp      60010       0.0033161       0.0574906               0       1.0000000
                             indUlcerColitis        60010       0.0189135       0.1362208               0       1.0000000
                             indUveitis             60010       0.0423096       0.2012963               0       1.0000000
                             indDiabetes            60010       0.2952508       0.4561592               0       1.0000000
                             indHT                  60010       0.6665389       0.4714536               0       1.0000000
                             indMetabSyn            60010       0.0194968       0.1382640               0       1.0000000
                             indNAFattyLiverDis     60010       0.0365772       0.1877230               0       1.0000000
                             --------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 60010 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The PROCEDURE MEANS printed page 1.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.14 seconds
      cpu time            0.15 seconds
      

240        
241        
242        /*
243        Fit 4-level model
244        4 levels of treatment exposure: TNF, DMARD, NSAID, no exposure
245         */
246        proc logistic data = Work.allCovariates outest = Work.psBetas4Level;
247          class exposure4 (ref = "No exposure")
248                database (ref = "Medicare")
249                sex (ref = "M")
250                / param = ref;
251          model exposure4 = database
252                            age
253                            sex
254                            indAmyloidosis
255                            indAortInsuffRegurg
256                            indApicalPulmFib
257                            indCaudaEquina
258                            indVertFrac
259                            indConductBlock
260                            indCrohnsDis
261                            indHematCa
262                            indHospInf
263                            indIgANeph
264                            indInterstLungDis
265                            indMI
266                            indNephSyn
267                            indNMSC
268                            indNonVertOsFrac
269                            indOppInf
270                            indPsoriasis
271                            indPSA
272                            indRestrictLungDis
273                            indSolidCa
274                            indSpinalCordComp
275                            indUlcerColitis
276                            indUveitis
277                            indDiabetes
278                            indHT
279                            indMetabSyn
280                            indNAFattyLiverDis
281                            / link = glogit rsquare;
282          output out = Work.ps4Level predicted = ps xbeta = xbeta;
283        run;

                                                                  --- AS project ---                               15:16 Friday, November 17, 2017   2

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure4         
                                                   Number of Response Levels     4                 
                                                   Model                         generalized logit 
                                                   Optimization Technique        Newton-Raphson    


                                                       Number of Observations Read       60010
                                                       Number of Observations Used       60009


                                                                   Response Profile
 
                                                         Ordered                         Total
                                                           Value     exposure4       Frequency

                                                               1     DMARD                7719
                                                               2     NSAID               18740
                                                               3     No exposure         20564
                                                               4     TNF                 12986

                                        Logits modeled use exposure4='No exposure' as the reference category.

NOTE: 1 observation was deleted due to missing values for the response or explanatory variables.
NOTE: PROC LOGISTIC is fitting the generalized logit model. The logits modeled contrast each response category against the reference category 
      (exposure4='No exposure').


                                                               Class Level Information
 
                                                                                      Design
                                                        Class        Value          Variables

                                                        database     MPCD            1      0
                                                                     Marketscan      0      1
                                                                     Medicare        0      0

                                                        SEX          F               1       
                                                                     M               0       


                                                               Model Convergence Status

                                                    Convergence criterion (GCONV=1E-8) satisfied.          
NOTE: Convergence criterion (GCONV=1E-8) satisfied.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC           159086.38      146017.58
                                                        SC            159113.39      146854.79
                                                        -2 Log L      159080.38      145831.58


                                                R-Square    0.1981    Max-rescaled R-Square    0.2132


                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio     13248.8017       90         <.0001
                                               Score                11725.6009       90         <.0001
                                               Wald                  9888.6188       90         <.0001
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017   3

                                                                The LOGISTIC Procedure

                                                             Type 3 Analysis of Effects
 
                                                                                    Wald
                                               Effect                   DF    Chi-Square    Pr > ChiSq

                                               database                  6      629.6951        <.0001
                                               age                       3     3438.9716        <.0001
                                               SEX                       3      620.0740        <.0001
                                               indAmyloidosis            3        1.6795        0.6415
                                               indAortInsuffRegurg       3      205.6945        <.0001
                                               indApicalPulmFib          3        0.7861        0.8528
                                               indCaudaEquina            3        1.8366        0.6070
                                               indVertFrac               3       58.4718        <.0001
                                               indConductBlock           3      142.5329        <.0001
                                               indCrohnsDis              0                            
                                               indHematCa                3       80.0872        <.0001
                                               indHospInf                3      225.6945        <.0001
                                               indIgANeph                3        9.5366        0.0229
                                               indInterstLungDis         3       17.7708        0.0005
                                               indMI                     3        2.3868        0.4961
                                               indNephSyn                3        5.0302        0.1696
                                               indNMSC                   3       91.2928        <.0001
                                               indNonVertOsFrac          3      294.8700        <.0001
                                               indOppInf                 3      158.9131        <.0001
                                               indPsoriasis              3      168.9005        <.0001
                                               indPSA                    3      713.3400        <.0001
                                               indRestrictLungDis        3      147.0978        <.0001
                                               indSolidCa                3      613.4559        <.0001
                                               indSpinalCordComp         3       26.2937        <.0001
                                               indUlcerColitis           3      241.7497        <.0001
                                               indUveitis                3      507.1916        <.0001
                                               indDiabetes               3        8.6066        0.0350
                                               indHT                     3      100.6069        <.0001
                                               indMetabSyn               3       10.6465        0.0138
                                               indNAFattyLiverDis        3       22.1735        <.0001


NOTE: The following parameters have been set to 0, since the variables are a linear combination of other variables as shown.


                                                               indCrohnsDis_DMARD =  0
                                                               indCrohnsDis_NSAID =  0
                                                                 indCrohnsDis_TNF =  0


                                                      Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                       Parameter                         exposure4      DF    Estimate       Error    Chi-Square    Pr > ChiSq

                       Intercept                         DMARD           1      0.2396      0.0650       13.5934        0.0002
                       Intercept                         NSAID           1      1.4246      0.0506      792.0780        <.0001
                       Intercept                         TNF             1      1.7650      0.0550     1030.7578        <.0001
                       database            MPCD          DMARD           1     -0.4686      0.0587       63.7734        <.0001
                       database            MPCD          NSAID           1     -0.6355      0.0458      192.4315        <.0001
                       database            MPCD          TNF             1     0.00409      0.0460        0.0079        0.9291
                       database            Marketscan    DMARD           1     -0.3286      0.0361       82.9921        <.0001
                       database            Marketscan    NSAID           1     -0.3417      0.0277      152.5299        <.0001
                       database            Marketscan    TNF             1      0.2562      0.0298       73.9822        <.0001
                       age                               DMARD           1     -0.0327     0.00107      933.1131        <.0001
                       age                               NSAID           1     -0.0353    0.000832     1795.8276        <.0001
                       age                               TNF             1     -0.0529    0.000950     3104.4245        <.0001
                       SEX                 F             DMARD           1      0.6643      0.0278      569.4666        <.0001
                       SEX                 F             NSAID           1      0.3469      0.0216      258.2161        <.0001
                       SEX                 F             TNF             1      0.2978      0.0244      149.0212        <.0001
                       indAmyloidosis                    DMARD           1      0.1808      1.2676        0.0203        0.8866
                       indAmyloidosis                    NSAID           1      0.7740      1.0918        0.5025        0.4784
                       indAmyloidosis                    TNF             1      1.0428      1.1245        0.8599        0.3538
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017   4

                                                                The LOGISTIC Procedure

                                                      Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                       Parameter                         exposure4      DF    Estimate       Error    Chi-Square    Pr > ChiSq

                       indAortInsuffRegurg               DMARD           1      1.1939      0.1226       94.8287        <.0001
                       indAortInsuffRegurg               NSAID           1      1.4635      0.1039      198.3613        <.0001
                       indAortInsuffRegurg               TNF             1      1.4253      0.1184      144.9105        <.0001
                       indApicalPulmFib                  DMARD           1      1.0853      1.3638        0.6334        0.4261
                       indApicalPulmFib                  NSAID           1      0.4903      1.3028        0.1416        0.7067
                       indApicalPulmFib                  TNF             1     -8.3102     59.9583        0.0192        0.8898
                       indCaudaEquina                    DMARD           1      0.1486      0.5034        0.0871        0.7678
                       indCaudaEquina                    NSAID           1      0.0585      0.4083        0.0205        0.8861
                       indCaudaEquina                    TNF             1     -0.7383      0.6653        1.2313        0.2671
                       indVertFrac                       DMARD           1     -0.1808      0.0913        3.9243        0.0476
                       indVertFrac                       NSAID           1      0.3001      0.0643       21.7668        <.0001
                       indVertFrac                       TNF             1     -0.1608      0.0903        3.1698        0.0750
                       indConductBlock                   DMARD           1      0.6221      0.1174       28.0650        <.0001
                       indConductBlock                   NSAID           1      1.0621      0.0904      137.9743        <.0001
                       indConductBlock                   TNF             1      0.7343      0.1150       40.7471        <.0001
                       indCrohnsDis                      DMARD           0           0                                        
                       indCrohnsDis                      NSAID           0           0                                        
                       indCrohnsDis                      TNF             0           0                                        
                       indHematCa                        DMARD           1      1.0865      0.1733       39.3269        <.0001
                       indHematCa                        NSAID           1      1.0764      0.1502       51.3408        <.0001
                       indHematCa                        TNF             1      0.0312      0.2167        0.0207        0.8856
                       indHospInf                        DMARD           1      0.3223      0.0504       40.8910        <.0001
                       indHospInf                        NSAID           1      0.4914      0.0399      151.6995        <.0001
                       indHospInf                        TNF             1     -0.0272      0.0513        0.2820        0.5954
                       indIgANeph                        DMARD           1      1.1449      0.5086        5.0685        0.0244
                       indIgANeph                        NSAID           1      1.3509      0.4541        8.8492        0.0029
                       indIgANeph                        TNF             1      1.3804      0.4766        8.3883        0.0038
                       indInterstLungDis                 DMARD           1      0.8373      0.2397       12.2005        0.0005
                       indInterstLungDis                 NSAID           1      0.2422      0.2259        1.1494        0.2837
                       indInterstLungDis                 TNF             1      0.5627      0.2592        4.7134        0.0299
                       indMI                             DMARD           1      0.0550      0.1709        0.1037        0.7474
                       indMI                             NSAID           1      0.0935      0.1329        0.4952        0.4816
                       indMI                             TNF             1      0.2406      0.1598        2.2666        0.1322
                       indNephSyn                        DMARD           1      2.3759      1.0882        4.7673        0.0290
                       indNephSyn                        NSAID           1      2.3058      1.0538        4.7877        0.0287
                       indNephSyn                        TNF             1      2.1799      1.0824        4.0559        0.0440
                       indNMSC                           DMARD           1      3.0536      0.4028       57.4578        <.0001
                       indNMSC                           NSAID           1      3.5375      0.3865       83.7495        <.0001
                       indNMSC                           TNF             1      3.4284      0.3958       75.0404        <.0001
                       indNonVertOsFrac                  DMARD           1      1.0462      0.0996      110.2191        <.0001
                       indNonVertOsFrac                  NSAID           1      1.4197      0.0838      287.1601        <.0001
                       indNonVertOsFrac                  TNF             1      1.0239      0.0977      109.7916        <.0001
                       indOppInf                         DMARD           1      2.0635      0.1851      124.2417        <.0001
                       indOppInf                         NSAID           1      1.9014      0.1763      116.3755        <.0001
                       indOppInf                         TNF             1      2.2699      0.1817      156.0379        <.0001
                       indPsoriasis                      DMARD           1      1.3026      0.1228      112.5205        <.0001
                       indPsoriasis                      NSAID           1      1.3475      0.1128      142.6869        <.0001
                       indPsoriasis                      TNF             1      1.4738      0.1158      161.9185        <.0001
                       indPSA                            DMARD           1      1.7702      0.0953      345.1391        <.0001
                       indPSA                            NSAID           1      1.0663      0.0921      134.1665        <.0001
                       indPSA                            TNF             1      2.0988      0.0893      552.6868        <.0001
                       indRestrictLungDis                DMARD           1      1.4185      0.1310      117.2407        <.0001
                       indRestrictLungDis                NSAID           1      1.3841      0.1185      136.3945        <.0001
                       indRestrictLungDis                TNF             1      1.3614      0.1307      108.5780        <.0001
                       indSolidCa                        DMARD           1      1.4857      0.0843      310.6528        <.0001
                       indSolidCa                        NSAID           1      1.7679      0.0721      601.7486        <.0001
                       indSolidCa                        TNF             1      1.2831      0.0855      225.0346        <.0001
                       indSpinalCordComp                 DMARD           1      0.8719      0.2720       10.2714        0.0014
                       indSpinalCordComp                 NSAID           1      1.1008      0.2280       23.3080        <.0001
                       indSpinalCordComp                 TNF             1      0.5067      0.2868        3.1202        0.0773
                       indUlcerColitis                   DMARD           1      1.4664      0.1194      150.7405        <.0001
                       indUlcerColitis                   NSAID           1      0.9726      0.1126       74.6244        <.0001
                       indUlcerColitis                   TNF             1      1.6172      0.1126      206.1000        <.0001
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017   5

                                                                The LOGISTIC Procedure

                                                      Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                       Parameter                         exposure4      DF    Estimate       Error    Chi-Square    Pr > ChiSq

                       indUveitis                        DMARD           1      1.7289      0.0922      351.9794        <.0001
                       indUveitis                        NSAID           1      1.6743      0.0839      398.5931        <.0001
                       indUveitis                        TNF             1      1.8947      0.0850      496.3426        <.0001
                       indDiabetes                       DMARD           1     -0.0290      0.0325        0.7949        0.3726
                       indDiabetes                       NSAID           1     0.00948      0.0251        0.1427        0.7056
                       indDiabetes                       TNF             1     -0.0733      0.0305        5.8002        0.0160
                       indHT                             DMARD           1      0.2771      0.0368       56.6026        <.0001
                       indHT                             NSAID           1      0.2338      0.0284       67.6830        <.0001
                       indHT                             TNF             1      0.2384      0.0310       59.1102        <.0001
                       indMetabSyn                       DMARD           1      0.2353      0.0990        5.6495        0.0175
                       indMetabSyn                       NSAID           1      0.1915      0.0807        5.6264        0.0177
                       indMetabSyn                       TNF             1      0.2721      0.0909        8.9669        0.0027
                       indNAFattyLiverDis                DMARD           1      0.0648      0.0754        0.7387        0.3901
                       indNAFattyLiverDis                NSAID           1      0.1122      0.0595        3.5515        0.0595
                       indNAFattyLiverDis                TNF             1      0.2991      0.0659       20.6295        <.0001


                                                                Odds Ratio Estimates
                                                                          
                                                                                            Point          95% Wald
                            Effect                                        exposure4      Estimate      Confidence Limits

                            database            MPCD       vs Medicare    DMARD             0.626       0.558       0.702
                            database            MPCD       vs Medicare    NSAID             0.530       0.484       0.579
                            database            MPCD       vs Medicare    TNF               1.004       0.918       1.099
                            database            Marketscan vs Medicare    DMARD             0.720       0.671       0.773
                            database            Marketscan vs Medicare    NSAID             0.711       0.673       0.750
                            database            Marketscan vs Medicare    TNF               1.292       1.219       1.370
                            age                                           DMARD             0.968       0.966       0.970
                            age                                           NSAID             0.965       0.964       0.967
                            age                                           TNF               0.948       0.947       0.950
                            SEX                 F vs M                    DMARD             1.943       1.840       2.052
                            SEX                 F vs M                    NSAID             1.415       1.356       1.476
                            SEX                 F vs M                    TNF               1.347       1.284       1.413
                            indAmyloidosis                                DMARD             1.198       0.100      14.371
                            indAmyloidosis                                NSAID             2.168       0.255      18.429
                            indAmyloidosis                                TNF               2.837       0.313      25.709
                            indAortInsuffRegurg                           DMARD             3.300       2.595       4.196
                            indAortInsuffRegurg                           NSAID             4.321       3.525       5.297
                            indAortInsuffRegurg                           TNF               4.159       3.298       5.245
                            indApicalPulmFib                              DMARD             2.960       0.204      42.874
                            indApicalPulmFib                              NSAID             1.633       0.127      20.983
                            indApicalPulmFib                              TNF              <0.001      <0.001    >999.999
                            indCaudaEquina                                DMARD             1.160       0.433       3.112
                            indCaudaEquina                                NSAID             1.060       0.476       2.360
                            indCaudaEquina                                TNF               0.478       0.130       1.761
                            indVertFrac                                   DMARD             0.835       0.698       0.998
                            indVertFrac                                   NSAID             1.350       1.190       1.531
                            indVertFrac                                   TNF               0.851       0.713       1.016
                            indConductBlock                               DMARD             1.863       1.480       2.345
                            indConductBlock                               NSAID             2.892       2.423       3.453
                            indConductBlock                               TNF               2.084       1.663       2.611
                            indHematCa                                    DMARD             2.964       2.111       4.162
                            indHematCa                                    NSAID             2.934       2.186       3.939
                            indHematCa                                    TNF               1.032       0.675       1.578
                            indHospInf                                    DMARD             1.380       1.250       1.524
                            indHospInf                                    NSAID             1.635       1.512       1.767
                            indHospInf                                    TNF               0.973       0.880       1.076
                            indIgANeph                                    DMARD             3.142       1.160       8.514
                            indIgANeph                                    NSAID             3.861       1.585       9.402
                            indIgANeph                                    TNF               3.977       1.562      10.120
                            indInterstLungDis                             DMARD             2.310       1.444       3.696
                            indInterstLungDis                             NSAID             1.274       0.818       1.984
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017   6

                                                                The LOGISTIC Procedure

                                                                Odds Ratio Estimates
                                                                          
                                                                                            Point          95% Wald
                            Effect                                        exposure4      Estimate      Confidence Limits

                            indInterstLungDis                             TNF               1.755       1.056       2.917
                            indMI                                         DMARD             1.057       0.756       1.477
                            indMI                                         NSAID             1.098       0.846       1.425
                            indMI                                         TNF               1.272       0.930       1.740
                            indNephSyn                                    DMARD            10.761       1.275      90.796
                            indNephSyn                                    NSAID            10.033       1.272      79.146
                            indNephSyn                                    TNF               8.846       1.060      73.809
                            indNMSC                                       DMARD            21.191       9.622      46.672
                            indNMSC                                       NSAID            34.380      16.117      73.339
                            indNMSC                                       TNF              30.826      14.192      66.957
                            indNonVertOsFrac                              DMARD             2.847       2.342       3.461
                            indNonVertOsFrac                              NSAID             4.136       3.509       4.874
                            indNonVertOsFrac                              TNF               2.784       2.299       3.372
                            indOppInf                                     DMARD             7.873       5.477      11.317
                            indOppInf                                     NSAID             6.696       4.740       9.458
                            indOppInf                                     TNF               9.679       6.779      13.820
                            indPsoriasis                                  DMARD             3.679       2.892       4.680
                            indPsoriasis                                  NSAID             3.848       3.085       4.800
                            indPsoriasis                                  TNF               4.366       3.479       5.478
                            indPSA                                        DMARD             5.872       4.872       7.078
                            indPSA                                        NSAID             2.905       2.425       3.479
                            indPSA                                        TNF               8.157       6.847       9.716
                            indRestrictLungDis                            DMARD             4.131       3.195       5.340
                            indRestrictLungDis                            NSAID             3.991       3.164       5.035
                            indRestrictLungDis                            TNF               3.902       3.020       5.040
                            indSolidCa                                    DMARD             4.418       3.745       5.212
                            indSolidCa                                    NSAID             5.858       5.087       6.747
                            indSolidCa                                    TNF               3.608       3.051       4.266
                            indSpinalCordComp                             DMARD             2.391       1.403       4.076
                            indSpinalCordComp                             NSAID             3.007       1.923       4.701
                            indSpinalCordComp                             TNF               1.660       0.946       2.912
                            indUlcerColitis                               DMARD             4.333       3.429       5.476
                            indUlcerColitis                               NSAID             2.645       2.121       3.298
                            indUlcerColitis                               TNF               5.039       4.041       6.284
                            indUveitis                                    DMARD             5.635       4.704       6.750
                            indUveitis                                    NSAID             5.335       4.526       6.288
                            indUveitis                                    TNF               6.651       5.629       7.857
                            indDiabetes                                   DMARD             0.971       0.911       1.035
                            indDiabetes                                   NSAID             1.010       0.961       1.060
                            indDiabetes                                   TNF               0.929       0.875       0.986
                            indHT                                         DMARD             1.319       1.227       1.418
                            indHT                                         NSAID             1.263       1.195       1.336
                            indHT                                         TNF               1.269       1.194       1.349
                            indMetabSyn                                   DMARD             1.265       1.042       1.536
                            indMetabSyn                                   NSAID             1.211       1.034       1.419
                            indMetabSyn                                   TNF               1.313       1.099       1.569
                            indNAFattyLiverDis                            DMARD             1.067       0.920       1.237
                            indNAFattyLiverDis                            NSAID             1.119       0.996       1.257
                            indNAFattyLiverDis                            TNF               1.349       1.185       1.534
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 60010 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The data set WORK.PSBETAS4LEVEL has 1 observations and 102 variables.
NOTE: The data set WORK.PS4LEVEL has 240040 observations and 37 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 2-6.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           20.45 seconds
      cpu time            19.74 seconds
      

284        
285        /*
286        Fit 3-level model
287        3 levels of treatment exposure: TNF, DMARD, NSAID or no exposure
288         */
5                                                                   The SAS System                                     15:16 Friday, November 17, 2017

289         proc logistic data = Work.allCovariates outest = Work.psBetas3Level;
290          class exposure3 (ref = "NSAID or no exposure")
291                database (ref = "Medicare")
292                sex (ref = "M")
293                / param = ref;
294          model exposure3 = database
295                            age
296                            sex
297                            indAmyloidosis
298                            indAortInsuffRegurg
299                            indApicalPulmFib
300                            indCaudaEquina
301                            indVertFrac
302                            indConductBlock
303                            indCrohnsDis
304                            indHematCa
305                            indHospInf
306                            indIgANeph
307                            indInterstLungDis
308                            indMI
309                            indNephSyn
310                            indNMSC
311                            indNonVertOsFrac
312                            indOppInf
313                            indPsoriasis
314                            indPSA
315                            indRestrictLungDis
316                            indSolidCa
317                            indSpinalCordComp
318                            indUlcerColitis
319                            indUveitis
320                            indDiabetes
321                            indHT
322                            indMetabSyn
323                            indNAFattyLiverDis
324                            / link = glogit rsquare;
325          output out = Work.ps3Level predicted = ps xbeta = xbeta;
326        run;

                                                                  --- AS project ---                               15:16 Friday, November 17, 2017   7

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure3         
                                                   Number of Response Levels     3                 
                                                   Model                         generalized logit 
                                                   Optimization Technique        Newton-Raphson    


                                                       Number of Observations Read       60010
                                                       Number of Observations Used       60009


                                                                   Response Profile
 
                                                    Ordered                                  Total
                                                      Value     exposure3                Frequency

                                                          1     DMARD                         7719
                                                          2     NSAID or no exposure         39304
                                                          3     TNF                          12986

                                    Logits modeled use exposure3='NSAID or no exposure' as the reference category.

NOTE: 1 observation was deleted due to missing values for the response or explanatory variables.
NOTE: PROC LOGISTIC is fitting the generalized logit model. The logits modeled contrast each response category against the reference category 
      (exposure3='NSAID or no exposure').


                                                               Class Level Information
 
                                                                                      Design
                                                        Class        Value          Variables

                                                        database     MPCD            1      0
                                                                     Marketscan      0      1
                                                                     Medicare        0      0

                                                        SEX          F               1       
                                                                     M               0       


                                                               Model Convergence Status

                                                    Convergence criterion (GCONV=1E-8) satisfied.          
NOTE: Convergence criterion (GCONV=1E-8) satisfied.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC           104682.14      98269.679
                                                        SC            104700.15      98827.819
                                                        -2 Log L      104678.14      98145.679


                                                R-Square    0.1031    Max-rescaled R-Square    0.1250


                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio      6532.4643       60         <.0001
                                               Score                 6433.8355       60         <.0001
                                               Wald                  5763.9290       60         <.0001
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017   8

                                                                The LOGISTIC Procedure

                                                             Type 3 Analysis of Effects
 
                                                                                    Wald
                                               Effect                   DF    Chi-Square    Pr > ChiSq

                                               database                  4      367.5048        <.0001
                                               age                       2     1786.0347        <.0001
                                               SEX                       2      369.8459        <.0001
                                               indAmyloidosis            2        1.2217        0.5429
                                               indAortInsuffRegurg       2       18.3536        0.0001
                                               indApicalPulmFib          2        0.5180        0.7718
                                               indCaudaEquina            2        1.8418        0.3982
                                               indVertFrac               2       38.5843        <.0001
                                               indConductBlock           2        1.2289        0.5409
                                               indCrohnsDis              0                            
                                               indHematCa                2       29.1450        <.0001
                                               indHospInf                2       70.8020        <.0001
                                               indIgANeph                2        1.1969        0.5497
                                               indInterstLungDis         2       14.5566        0.0007
                                               indMI                     2        2.2420        0.3260
                                               indNephSyn                2        0.6247        0.7317
                                               indNMSC                   2       12.9652        0.0015
                                               indNonVertOsFrac          2        0.2825        0.8683
                                               indOppInf                 2       76.4048        <.0001
                                               indPsoriasis              2       40.7013        <.0001
                                               indPSA                    2      671.5771        <.0001
                                               indRestrictLungDis        2       21.6872        <.0001
                                               indSolidCa                2       15.3518        0.0005
                                               indSpinalCordComp         2        2.1344        0.3440
                                               indUlcerColitis           2      192.2074        <.0001
                                               indUveitis                2      227.5490        <.0001
                                               indDiabetes               2        9.4257        0.0090
                                               indHT                     2       31.8438        <.0001
                                               indMetabSyn               2        4.5508        0.1028
                                               indNAFattyLiverDis        2       17.3329        0.0002


NOTE: The following parameters have been set to 0, since the variables are a linear combination of other variables as shown.


                                                               indCrohnsDis_DMARD =  0
                                                                 indCrohnsDis_TNF =  0


                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                               Standard          Wald
                   Parameter                         exposure3               DF    Estimate       Error    Chi-Square    Pr > ChiSq

                   Intercept                         DMARD                    1     -1.2209      0.0580      443.0164        <.0001
                   Intercept                         TNF                      1      0.3016      0.0464       42.3215        <.0001
                   database            MPCD          DMARD                    1     -0.1618      0.0549        8.7011        0.0032
                   database            MPCD          TNF                      1      0.3196      0.0407       61.7622        <.0001
                   database            Marketscan    DMARD                    1     -0.1464      0.0331       19.5363        <.0001
                   database            Marketscan    TNF                      1      0.4409      0.0260      287.4165        <.0001
                   age                               DMARD                    1     -0.0141    0.000955      218.6102        <.0001
                   age                               TNF                      1     -0.0343    0.000819     1753.3715        <.0001
                   SEX                 F             DMARD                    1      0.4875      0.0254      368.0765        <.0001
                   SEX                 F             TNF                      1      0.1176      0.0215       29.9191        <.0001
                   indAmyloidosis                    DMARD                    1     -0.4735      0.7856        0.3632        0.5467
                   indAmyloidosis                    TNF                      1      0.3832      0.5247        0.5332        0.4653
                   indAortInsuffRegurg               DMARD                    1      0.1283      0.0884        2.1082        0.1465
                   indAortInsuffRegurg               TNF                      1      0.3520      0.0827       18.1313        <.0001
                   indApicalPulmFib                  DMARD                    1      0.6266      0.8921        0.4933        0.4825
                   indApicalPulmFib                  TNF                      1     -8.6755     56.7988        0.0233        0.8786
                   indCaudaEquina                    DMARD                    1      0.0866      0.4239        0.0418        0.8380
                   indCaudaEquina                    TNF                      1     -0.7929      0.6095        1.6927        0.1933
                   indVertFrac                       DMARD                    1     -0.3893      0.0816       22.7836        <.0001
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017   9

                                                                The LOGISTIC Procedure

                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                               Standard          Wald
                   Parameter                         exposure3               DF    Estimate       Error    Chi-Square    Pr > ChiSq

                   indVertFrac                       TNF                      1     -0.3792      0.0808       22.0035        <.0001
                   indConductBlock                   DMARD                    1     -0.1037      0.0957        1.1743        0.2785
                   indConductBlock                   TNF                      1     0.00279      0.0932        0.0009        0.9762
                   indCrohnsDis                      DMARD                    0           0                                        
                   indCrohnsDis                      TNF                      0           0                                        
                   indHematCa                        DMARD                    1      0.3079      0.1277        5.8145        0.0159
                   indHematCa                        TNF                      1     -0.7905      0.1842       18.4231        <.0001
                   indHospInf                        DMARD                    1     0.00758      0.0432        0.0308        0.8606
                   indHospInf                        TNF                      1     -0.3598      0.0440       66.9928        <.0001
                   indIgANeph                        DMARD                    1      0.0145      0.3188        0.0021        0.9638
                   indIgANeph                        TNF                      1      0.2828      0.2658        1.1316        0.2874
                   indInterstLungDis                 DMARD                    1      0.6180      0.1644       14.1385        0.0002
                   indInterstLungDis                 TNF                      1      0.3356      0.1923        3.0472        0.0809
                   indMI                             DMARD                    1     0.00999      0.1472        0.0046        0.9459
                   indMI                             TNF                      1      0.1999      0.1353        2.1829        0.1396
                   indNephSyn                        DMARD                    1      0.3585      0.4545        0.6220        0.4303
                   indNephSyn                        TNF                      1      0.1149      0.4329        0.0704        0.7907
                   indNMSC                           DMARD                    1      0.0469      0.1460        0.1031        0.7481
                   indNMSC                           TNF                      1      0.4522      0.1270       12.6798        0.0004
                   indNonVertOsFrac                  DMARD                    1    -0.00870      0.0721        0.0146        0.9040
                   indNonVertOsFrac                  TNF                      1     -0.0370      0.0695        0.2825        0.5951
                   indOppInf                         DMARD                    1      0.4968      0.0923       28.9851        <.0001
                   indOppInf                         TNF                      1      0.7090      0.0855       68.7025        <.0001
                   indPsoriasis                      DMARD                    1      0.2506      0.0787       10.1476        0.0014
                   indPsoriasis                      TNF                      1      0.4213      0.0668       39.7941        <.0001
                   indPSA                            DMARD                    1      1.0458      0.0643      264.5476        <.0001
                   indPSA                            TNF                      1      1.3773      0.0549      629.6275        <.0001
                   indRestrictLungDis                DMARD                    1      0.3380      0.0851       15.7660        <.0001
                   indRestrictLungDis                TNF                      1      0.2894      0.0846       11.7092        0.0006
                   indSolidCa                        DMARD                    1      0.2323      0.0599       15.0476        0.0001
                   indSolidCa                        TNF                      1      0.0193      0.0616        0.0979        0.7543
                   indSpinalCordComp                 DMARD                    1      0.0319      0.2011        0.0252        0.8738
                   indSpinalCordComp                 TNF                      1     -0.3097      0.2222        1.9423        0.1634
                   indUlcerColitis                   DMARD                    1      0.7782      0.0821       89.8330        <.0001
                   indUlcerColitis                   TNF                      1      0.9316      0.0719      167.7016        <.0001
                   indUveitis                        DMARD                    1      0.5117      0.0591       74.9747        <.0001
                   indUveitis                        TNF                      1      0.6877      0.0473      210.9610        <.0001
                   indDiabetes                       DMARD                    1     -0.0375      0.0298        1.5898        0.2074
                   indDiabetes                       TNF                      1     -0.0822      0.0274        8.9626        0.0028
                   indHT                             DMARD                    1      0.1554      0.0338       21.1512        <.0001
                   indHT                             TNF                      1      0.1151      0.0272       17.8552        <.0001
                   indMetabSyn                       DMARD                    1      0.1141      0.0865        1.7405        0.1871
                   indMetabSyn                       TNF                      1      0.1506      0.0771        3.8123        0.0509
                   indNAFattyLiverDis                DMARD                    1     -0.0138      0.0668        0.0429        0.8359
                   indNAFattyLiverDis                TNF                      1      0.2222      0.0558       15.8822        <.0001


                                                                 Odds Ratio Estimates
                                                                           
                                                                                                 Point          95% Wald
                        Effect                                        exposure3               Estimate      Confidence Limits

                        database            MPCD       vs Medicare    DMARD                      0.851       0.764       0.947
                        database            MPCD       vs Medicare    TNF                        1.377       1.271       1.491
                        database            Marketscan vs Medicare    DMARD                      0.864       0.809       0.922
                        database            Marketscan vs Medicare    TNF                        1.554       1.477       1.635
                        age                                           DMARD                      0.986       0.984       0.988
                        age                                           TNF                        0.966       0.965       0.968
                        SEX                 F vs M                    DMARD                      1.628       1.549       1.711
                        SEX                 F vs M                    TNF                        1.125       1.078       1.173
                        indAmyloidosis                                DMARD                      0.623       0.134       2.905
                        indAmyloidosis                                TNF                        1.467       0.525       4.102
                        indAortInsuffRegurg                           DMARD                      1.137       0.956       1.352
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  10

                                                                The LOGISTIC Procedure

                                                                 Odds Ratio Estimates
                                                                           
                                                                                                 Point          95% Wald
                        Effect                                        exposure3               Estimate      Confidence Limits

                        indAortInsuffRegurg                           TNF                        1.422       1.209       1.672
                        indApicalPulmFib                              DMARD                      1.871       0.326      10.751
                        indApicalPulmFib                              TNF                       <0.001      <0.001    >999.999
                        indCaudaEquina                                DMARD                      1.091       0.475       2.503
                        indCaudaEquina                                TNF                        0.453       0.137       1.494
                        indVertFrac                                   DMARD                      0.678       0.577       0.795
                        indVertFrac                                   TNF                        0.684       0.584       0.802
                        indConductBlock                               DMARD                      0.901       0.747       1.088
                        indConductBlock                               TNF                        1.003       0.835       1.204
                        indHematCa                                    DMARD                      1.361       1.059       1.748
                        indHematCa                                    TNF                        0.454       0.316       0.651
                        indHospInf                                    DMARD                      1.008       0.926       1.097
                        indHospInf                                    TNF                        0.698       0.640       0.761
                        indIgANeph                                    DMARD                      1.015       0.543       1.895
                        indIgANeph                                    TNF                        1.327       0.788       2.234
                        indInterstLungDis                             DMARD                      1.855       1.344       2.560
                        indInterstLungDis                             TNF                        1.399       0.960       2.039
                        indMI                                         DMARD                      1.010       0.757       1.348
                        indMI                                         TNF                        1.221       0.937       1.592
                        indNephSyn                                    DMARD                      1.431       0.587       3.488
                        indNephSyn                                    TNF                        1.122       0.480       2.621
                        indNMSC                                       DMARD                      1.048       0.787       1.395
                        indNMSC                                       TNF                        1.572       1.225       2.016
                        indNonVertOsFrac                              DMARD                      0.991       0.861       1.142
                        indNonVertOsFrac                              TNF                        0.964       0.841       1.104
                        indOppInf                                     DMARD                      1.643       1.372       1.969
                        indOppInf                                     TNF                        2.032       1.718       2.403
                        indPsoriasis                                  DMARD                      1.285       1.101       1.499
                        indPsoriasis                                  TNF                        1.524       1.337       1.737
                        indPSA                                        DMARD                      2.846       2.509       3.228
                        indPSA                                        TNF                        3.964       3.560       4.415
                        indRestrictLungDis                            DMARD                      1.402       1.187       1.657
                        indRestrictLungDis                            TNF                        1.336       1.132       1.577
                        indSolidCa                                    DMARD                      1.261       1.122       1.419
                        indSolidCa                                    TNF                        1.019       0.904       1.150
                        indSpinalCordComp                             DMARD                      1.032       0.696       1.531
                        indSpinalCordComp                             TNF                        0.734       0.475       1.134
                        indUlcerColitis                               DMARD                      2.178       1.854       2.558
                        indUlcerColitis                               TNF                        2.539       2.205       2.923
                        indUveitis                                    DMARD                      1.668       1.486       1.873
                        indUveitis                                    TNF                        1.989       1.813       2.182
                        indDiabetes                                   DMARD                      0.963       0.909       1.021
                        indDiabetes                                   TNF                        0.921       0.873       0.972
                        indHT                                         DMARD                      1.168       1.093       1.248
                        indHT                                         TNF                        1.122       1.064       1.184
                        indMetabSyn                                   DMARD                      1.121       0.946       1.328
                        indMetabSyn                                   TNF                        1.163       0.999       1.352
                        indNAFattyLiverDis                            DMARD                      0.986       0.865       1.124
                        indNAFattyLiverDis                            TNF                        1.249       1.120       1.393
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 60010 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The data set WORK.PSBETAS3LEVEL has 1 observations and 70 variables.
NOTE: The data set WORK.PS3LEVEL has 180030 observations and 37 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 7-10.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.67 seconds
      cpu time            9.28 seconds
      

327        
328        
329        /*
330        Check
331         */
332        proc sql;
333          select indexID,
334                 sum(ps) as sumPS
335            from Work.ps4Level
336            group by indexID
337            having calculated sumPS < 1 - 1e-12;
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  11

                                                                   indexID     sumPS
                                                                  ------------------
                                                                      6584          
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
338          select indexID,
339                 sum(ps) as sumPS
340            from Work.ps3Level
341            group by indexID
342            having calculated sumPS < 1 - 1e-12;
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  12

                                                                   indexID     sumPS
                                                                  ------------------
                                                                      6584          
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
343        quit;
NOTE: The PROCEDURE SQL printed pages 11-12.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.29 seconds
      cpu time            0.32 seconds
6                                                                   The SAS System                                     15:16 Friday, November 17, 2017

      

344        
345        
346        /*
347        Union model coefficients from the 4-level model and the 3-level model
348         */
349        proc sql;
350          create table Work.psBetas as
351            select * from Work.psBetas4Level union corr
352            select * from Work.psBetas3Level ;
NOTE: Table WORK.PSBETAS created, with 2 rows and 70 columns.

353        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

354        
355        
356        /*
357        Union propensity scores from the 4-level model and the 3-level model
358        Calculate IPTW
359         */
360        %let varlist = indexID, database, _level_, ps,
361                       age,
362                       sex,
363                       indAmyloidosis,
364                       indAortInsuffRegurg,
365                       indApicalPulmFib,
366                       indCaudaEquina,
367                       indVertFrac,
368                       indConductBlock,
369                       indCrohnsDis,
370                       indHematCa,
371                       indHospInf,
372                       indIgANeph,
373                       indInterstLungDis,
374                       indMI,
375                       indNephSyn,
376                       indNMSC,
377                       indNonVertOsFrac,
378                       indOppInf,
379                       indPsoriasis,
380                       indPSA,
381                       indRestrictLungDis,
382                       indSolidCa,
383                       indSpinalCordComp,
384                       indUlcerColitis,
385                       indUveitis,
386                       indDiabetes,
387                       indHT,
388                       indMetabSyn,
389                       indNAFattyLiverDis;
390        proc sql;
391          create table Work.ps as
392            select "4-level exposure" as model, exposure4 as exposure, &varlist from Work.ps4Level union corr
393            select "3-level exposure" as model, exposure3 as exposure, &varlist from Work.ps3Level
394            order by indexID, model, exposure;
NOTE: Table WORK.PS created, with 420070 rows and 35 columns.

395          alter table Work.ps add iptw numeric;
NOTE: Table WORK.PS has been modified, with 36 columns.
396          update Work.ps set iptw = (exposure  = _level_) / ps + (exposure ^= _level_) / (1 - ps);
NOTE: 420070 rows were updated in WORK.PS.

397        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           2.69 seconds
      cpu time            3.65 seconds
      
7                                                                   The SAS System                                     15:16 Friday, November 17, 2017


398        
399        
400        /*
401        Determine common support region
402        For propensity of TNF
403         */
404        %let exposure = "TNF";
405        proc means data = Work.ps n nmiss min max mean median stddev;
406          where _level_ in (&exposure);
407          class model _level_ exposure;
408          var ps;
409        run;

                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  13

                                                                 The MEANS Procedure

                                                    Analysis Variable : ps Estimated Probability
 
model              Response Value         exposure                N Obs        N   N Miss        Minimum        Maximum           Mean         Median
-----------------------------------------------------------------------------------------------------------------------------------------------------
3-level exposure   TNF                    DMARD                    7719     7719        0    0.000070422      0.7990511      0.2198703      0.1950479

                                          NSAID or no exposure    39304    39304        0    0.000013802      0.7616191      0.1931955      0.1614855

                                          TNF                     12987    12986        1      0.0312083      0.8103580      0.2845732      0.2678016

4-level exposure   TNF                    DMARD                    7719     7719        0    0.000053275      0.7786478      0.2208815      0.1962467

                                          NSAID                   18740    18740        0    0.000024978      0.7357238      0.2116274      0.1875358

                                          No exposure             20564    20564        0    0.000014118      0.7297668      0.1755284      0.1381782

                                          TNF                     12987    12986        1      0.0262153      0.7786478      0.2853499      0.2694278
-----------------------------------------------------------------------------------------------------------------------------------------------------

                                                     Analysis Variable : ps Estimated Probability
 
                                model              Response Value         exposure                N Obs        Std Dev
                                --------------------------------------------------------------------------------------
                                3-level exposure   TNF                    DMARD                    7719      0.1222423

                                                                          NSAID or no exposure    39304      0.1118907

                                                                          TNF                     12987      0.1312807

                                4-level exposure   TNF                    DMARD                    7719      0.1224948

                                                                          NSAID                   18740      0.1173006

                                                                          No exposure             20564      0.1066199

                                                                          TNF                     12987      0.1314394
                                --------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 120020 observations read from the data set WORK.PS.
      WHERE _level_='TNF';
NOTE: The PROCEDURE MEANS printed page 13.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.20 seconds
      cpu time            0.18 seconds
      

410        proc sql;
411          create table Work.commonSupportRegion as
412            select model,
413                   max(minPS) as commonSupportLowerBound,
414                   min(maxPS) as commonSupportUpperBound
415            from (select model, exposure,
416                         min(ps) as minPS,
417                         max(ps) as maxPS
418                  from Work.ps
419                  where _level_ in (&exposure)
420                  group by model, exposure)
421            group by model;
NOTE: Table WORK.COMMONSUPPORTREGION created, with 2 rows and 3 columns.

422          select * from Work.commonSupportRegion;
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  14

                                                                             common        common
                                                                            Support       Support
                                                     model               LowerBound    UpperBound
                                                     --------------------------------------------
                                                     3-level exposure      0.031208      0.761619
                                                     4-level exposure      0.026215      0.729767
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
423          create table Work.temp as
424            select * from Work.ps where _level_ in (&exposure);
NOTE: Table WORK.TEMP created, with 120020 rows and 36 columns.

425          create table Work.ps as
426            select A.*,
427                   B.commonSupportLowerBound,
428                   B.commonSupportUpperBound,
429                   case
430                     when A.ps = . then .
431                     when B.commonSupportLowerBound <= A.ps <= B.commonSupportUpperBound then 1
432                     else 0
433                     end as indCommonSupport
434            from Work.temp A inner join
435                 Work.commonSupportRegion B on (A.model = B.model);
NOTE: Table WORK.PS created, with 120020 rows and 39 columns.

436          select model,
437                 exposure,
438             _level_,
439                 sum(indCommonSupport = 1) as n1,
440                 sum(indCommonSupport = 1) / sum(^missing(indCommonSupport)) format = percent9.3 as prop1,
441                 sum(indCommonSupport = 0) as n0,
442                 sum(indCommonSupport = 0) / sum(^missing(indCommonSupport)) format = percent9.3 as prop0
443            from Work.ps
444            group by model, exposure, _level_;
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  15

                        model             exposure              Response Value              n1      prop1        n0      prop0
                        ------------------------------------------------------------------------------------------------------
                        3-level exposure  DMARD                 TNF                       7704   99.806%         15    0.194% 
                        3-level exposure  NSAID or no exposure  TNF                      39244   99.847%         60    0.153% 
                        3-level exposure  TNF                   TNF                      12974   99.908%         12    0.092% 
                        4-level exposure  DMARD                 TNF                       7705   99.819%         14    0.181% 
                        4-level exposure  NSAID                 TNF                      18722   99.904%         18    0.096% 
                        4-level exposure  No exposure           TNF                      20555   99.956%          9    0.044% 
                        4-level exposure  TNF                   TNF                      12968   99.861%         18    0.139% 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
445        quit;
NOTE: The PROCEDURE SQL printed pages 14-15.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.59 seconds
      cpu time            0.62 seconds
      

446        
447        
8                                                                   The SAS System                                     15:16 Friday, November 17, 2017

448        /*
449        Stabilize weights
450        
451        See
452        
453        Austin, P. C., and Stuart, E. A. (2015) Moving towards best practice when
454        using inverse probability of treatment weighting (IPTW) using the propensity
455        score to estimate causal treatment effects in observational studies. Statist.
456        Med., 34: 3661â€“3679. doi: 10.1002/sim.6607.
457         */
458        proc sql;
459          create table Work.temp as select * from Work.ps;
NOTE: Table WORK.TEMP created, with 120020 rows and 39 columns.

460          create table Work.ps as
461            select A.*,
462                   B.marginalPS,
463                   B.marginalPS * ((A.exposure  = A._level_) / A.ps +
464                                   (A.exposure ^= A._level_) / (1 - A.ps))
465                     as iptwStabilized
466            from Work.temp A inner join
467                 (select model,
468                         exposure,
469                         _level_,
470                         mean(ps) as marginalPS
471                  from Work.temp
472                  group by model, exposure, _level_) B on (A.model = B.model & A.exposure = B.exposure);
NOTE: Table WORK.PS created, with 120020 rows and 41 columns.

473          drop table Work.temp;
NOTE: Table WORK.TEMP has been dropped.
474        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.29 seconds
      cpu time            0.28 seconds
      

475        proc means data = Work.ps n nmiss min max mean median stddev maxdec = 3;
476          class indCommonSupport model exposure _level_;
477          var ps marginalPS iptw iptwStabilized;
478        run;

                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  16

                                                                 The MEANS Procedure

         indCommon
           Support  model             exposure              Response Value         N Obs  Variable        Label                       N   N Miss
      ------------------------------------------------------------------------------------------------------------------------------------------
                 0  3-level exposure  DMARD                 TNF                       15  ps              Estimated Probability      15        0
                                                                                          marginalPS                                 15        0
                                                                                          iptw                                       15        0
                                                                                          iptwStabilized                             15        0

                                      NSAID or no exposure  TNF                       60  ps              Estimated Probability      60        0
                                                                                          marginalPS                                 60        0
                                                                                          iptw                                       60        0
                                                                                          iptwStabilized                             60        0

                                      TNF                   TNF                       12  ps              Estimated Probability      12        0
                                                                                          marginalPS                                 12        0
                                                                                          iptw                                       12        0
                                                                                          iptwStabilized                             12        0

                    4-level exposure  DMARD                 TNF                       14  ps              Estimated Probability      14        0
                                                                                          marginalPS                                 14        0
                                                                                          iptw                                       14        0
                                                                                          iptwStabilized                             14        0

                                      NSAID                 TNF                       18  ps              Estimated Probability      18        0
                                                                                          marginalPS                                 18        0
                                                                                          iptw                                       18        0
                                                                                          iptwStabilized                             18        0

                                      No exposure           TNF                        9  ps              Estimated Probability       9        0
                                                                                          marginalPS                                  9        0
                                                                                          iptw                                        9        0
                                                                                          iptwStabilized                              9        0

                                      TNF                   TNF                       18  ps              Estimated Probability      18        0
                                                                                          marginalPS                                 18        0
                                                                                          iptw                                       18        0
                                                                                          iptwStabilized                             18        0

                 1  3-level exposure  DMARD                 TNF                     7704  ps              Estimated Probability    7704        0
                                                                                          marginalPS                               7704        0
                                                                                          iptw                                     7704        0
                                                                                          iptwStabilized                           7704        0

                                      NSAID or no exposure  TNF                    39244  ps              Estimated Probability   39244        0
                                                                                          marginalPS                              39244        0
                                                                                          iptw                                    39244        0
                                                                                          iptwStabilized                          39244        0

                                      TNF                   TNF                    12974  ps              Estimated Probability   12974        0
                                                                                          marginalPS                              12974        0
                                                                                          iptw                                    12974        0
                                                                                          iptwStabilized                          12974        0

                    4-level exposure  DMARD                 TNF                     7705  ps              Estimated Probability    7705        0
                                                                                          marginalPS                               7705        0
                                                                                          iptw                                     7705        0
                                                                                          iptwStabilized                           7705        0

                                      NSAID                 TNF                    18722  ps              Estimated Probability   18722        0
                                                                                          marginalPS                              18722        0
                                                                                          iptw                                    18722        0
                                                                                          iptwStabilized                          18722        0

                                      No exposure           TNF                    20555  ps              Estimated Probability   20555        0
                                                                                          marginalPS                              20555        0
                                                                                          iptw                                    20555        0
                                                                                          iptwStabilized                          20555        0
      ------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  17

                                                                 The MEANS Procedure

         indCommon
           Support  model             exposure              Response Value         N Obs  Variable        Label                       N   N Miss
      ------------------------------------------------------------------------------------------------------------------------------------------
                 1  4-level exposure  TNF                   TNF                    12968  ps              Estimated Probability   12968        0
                                                                                          marginalPS                              12968        0
                                                                                          iptw                                    12968        0
                                                                                          iptwStabilized                          12968        0
      ------------------------------------------------------------------------------------------------------------------------------------------

   indCommon
     Support  model             exposure              Response Value         N Obs  Variable        Label                       Minimum       Maximum
-----------------------------------------------------------------------------------------------------------------------------------------------------
           0  3-level exposure  DMARD                 TNF                       15  ps              Estimated Probability         0.000         0.799
                                                                                    marginalPS                                    0.220         0.220
                                                                                    iptw                                          1.000         4.976
                                                                                    iptwStabilized                                0.220         1.094

                                NSAID or no exposure  TNF                       60  ps              Estimated Probability         0.000         0.031
                                                                                    marginalPS                                    0.193         0.193
                                                                                    iptw                                          1.000         1.032
                                                                                    iptwStabilized                                0.193         0.199

                                TNF                   TNF                       12  ps              Estimated Probability         0.764         0.810
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.234         1.308
                                                                                    iptwStabilized                                0.351         0.372

              4-level exposure  DMARD                 TNF                       14  ps              Estimated Probability         0.000         0.779
                                                                                    marginalPS                                    0.221         0.221
                                                                                    iptw                                          1.000         4.518
                                                                                    iptwStabilized                                0.221         0.998

                                NSAID                 TNF                       18  ps              Estimated Probability         0.000         0.736
                                                                                    marginalPS                                    0.212         0.212
                                                                                    iptw                                          1.000         3.784
                                                                                    iptwStabilized                                0.212         0.801

                                No exposure           TNF                        9  ps              Estimated Probability         0.000         0.026
                                                                                    marginalPS                                    0.176         0.176
                                                                                    iptw                                          1.000         1.027
                                                                                    iptwStabilized                                0.176         0.180

                                TNF                   TNF                       18  ps              Estimated Probability         0.730         0.779
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.284         1.370
                                                                                    iptwStabilized                                0.366         0.391

           1  3-level exposure  DMARD                 TNF                     7704  ps              Estimated Probability         0.031         0.758
                                                                                    marginalPS                                    0.220         0.220
                                                                                    iptw                                          1.032         4.126
                                                                                    iptwStabilized                                0.227         0.907

                                NSAID or no exposure  TNF                    39244  ps              Estimated Probability         0.032         0.762
                                                                                    marginalPS                                    0.193         0.193
                                                                                    iptw                                          1.033         4.195
                                                                                    iptwStabilized                                0.199         0.810

                                TNF                   TNF                    12974  ps              Estimated Probability         0.031         0.759
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.318        32.043
                                                                                    iptwStabilized                                0.375         9.118

              4-level exposure  DMARD                 TNF                     7705  ps              Estimated Probability         0.027         0.722
                                                                                    marginalPS                                    0.221         0.221
                                                                                    iptw                                          1.028         3.599
                                                                                    iptwStabilized                                0.227         0.795
-----------------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  18

                                                                 The MEANS Procedure

   indCommon
     Support  model             exposure              Response Value         N Obs  Variable        Label                       Minimum       Maximum
-----------------------------------------------------------------------------------------------------------------------------------------------------
           1  4-level exposure  NSAID                 TNF                    18722  ps              Estimated Probability         0.027         0.730
                                                                                    marginalPS                                    0.212         0.212
                                                                                    iptw                                          1.028         3.701
                                                                                    iptwStabilized                                0.217         0.783

                                No exposure           TNF                    20555  ps              Estimated Probability         0.027         0.730
                                                                                    marginalPS                                    0.176         0.176
                                                                                    iptw                                          1.027         3.701
                                                                                    iptwStabilized                                0.180         0.650

                                TNF                   TNF                    12968  ps              Estimated Probability         0.026         0.728
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.374        38.146
                                                                                    iptwStabilized                                0.392        10.885
-----------------------------------------------------------------------------------------------------------------------------------------------------

   indCommon
     Support  model             exposure              Response Value         N Obs  Variable        Label                          Mean        Median
-----------------------------------------------------------------------------------------------------------------------------------------------------
           0  3-level exposure  DMARD                 TNF                       15  ps              Estimated Probability         0.272         0.028
                                                                                    marginalPS                                    0.220         0.220
                                                                                    iptw                                          2.156         1.029
                                                                                    iptwStabilized                                0.474         0.226

                                NSAID or no exposure  TNF                       60  ps              Estimated Probability         0.024         0.026
                                                                                    marginalPS                                    0.193         0.193
                                                                                    iptw                                          1.025         1.027
                                                                                    iptwStabilized                                0.198         0.198

                                TNF                   TNF                       12  ps              Estimated Probability         0.782         0.776
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.279         1.289
                                                                                    iptwStabilized                                0.364         0.367

              4-level exposure  DMARD                 TNF                       14  ps              Estimated Probability         0.487         0.738
                                                                                    marginalPS                                    0.221         0.221
                                                                                    iptw                                          2.935         3.821
                                                                                    iptwStabilized                                0.648         0.844

                                NSAID                 TNF                       18  ps              Estimated Probability         0.176         0.022
                                                                                    marginalPS                                    0.212         0.212
                                                                                    iptw                                          1.621         1.023
                                                                                    iptwStabilized                                0.343         0.216

                                No exposure           TNF                        9  ps              Estimated Probability         0.021         0.022
                                                                                    marginalPS                                    0.176         0.176
                                                                                    iptw                                          1.021         1.022
                                                                                    iptwStabilized                                0.179         0.179

                                TNF                   TNF                       18  ps              Estimated Probability         0.753         0.756
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.328         1.323
                                                                                    iptwStabilized                                0.379         0.378

           1  3-level exposure  DMARD                 TNF                     7704  ps              Estimated Probability         0.220         0.195
                                                                                    marginalPS                                    0.220         0.220
                                                                                    iptw                                          1.322         1.243
                                                                                    iptwStabilized                                0.291         0.273

                                NSAID or no exposure  TNF                    39244  ps              Estimated Probability         0.193         0.162
                                                                                    marginalPS                                    0.193         0.193
                                                                                    iptw                                          1.270         1.193
                                                                                    iptwStabilized                                0.245         0.230
-----------------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  19

                                                                 The MEANS Procedure

   indCommon
     Support  model             exposure              Response Value         N Obs  Variable        Label                          Mean        Median
-----------------------------------------------------------------------------------------------------------------------------------------------------
           1  3-level exposure  TNF                   TNF                    12974  ps              Estimated Probability         0.284         0.268
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          4.501         3.734
                                                                                    iptwStabilized                                1.281         1.063

              4-level exposure  DMARD                 TNF                     7705  ps              Estimated Probability         0.220         0.196
                                                                                    marginalPS                                    0.221         0.221
                                                                                    iptw                                          1.322         1.244
                                                                                    iptwStabilized                                0.292         0.275

                                NSAID                 TNF                    18722  ps              Estimated Probability         0.212         0.188
                                                                                    marginalPS                                    0.212         0.212
                                                                                    iptw                                          1.304         1.231
                                                                                    iptwStabilized                                0.276         0.260

                                No exposure           TNF                    20555  ps              Estimated Probability         0.176         0.138
                                                                                    marginalPS                                    0.176         0.176
                                                                                    iptw                                          1.238         1.160
                                                                                    iptwStabilized                                0.217         0.204

                                TNF                   TNF                    12968  ps              Estimated Probability         0.285         0.269
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          4.512         3.724
                                                                                    iptwStabilized                                1.288         1.063
-----------------------------------------------------------------------------------------------------------------------------------------------------

          indCommon
            Support  model             exposure              Response Value         N Obs  Variable        Label                       Std Dev
       ---------------------------------------------------------------------------------------------------------------------------------------
                  0  3-level exposure  DMARD                 TNF                       15  ps              Estimated Probability         0.367
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          1.668
                                                                                           iptwStabilized                                0.367

                                       NSAID or no exposure  TNF                       60  ps              Estimated Probability         0.008
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.008
                                                                                           iptwStabilized                                0.002

                                       TNF                   TNF                       12  ps              Estimated Probability         0.015
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.024
                                                                                           iptwStabilized                                0.007

                     4-level exposure  DMARD                 TNF                       14  ps              Estimated Probability         0.365
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          1.498
                                                                                           iptwStabilized                                0.331

                                       NSAID                 TNF                       18  ps              Estimated Probability         0.306
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          1.164
                                                                                           iptwStabilized                                0.246

                                       No exposure           TNF                        9  ps              Estimated Probability         0.008
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.008
                                                                                           iptwStabilized                                0.001

                                       TNF                   TNF                       18  ps              Estimated Probability         0.014
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.025
                                                                                           iptwStabilized                                0.007
       ---------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  20

                                                                 The MEANS Procedure

          indCommon
            Support  model             exposure              Response Value         N Obs  Variable        Label                       Std Dev
       ---------------------------------------------------------------------------------------------------------------------------------------
                  1  3-level exposure  DMARD                 TNF                     7704  ps              Estimated Probability         0.121
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.273
                                                                                           iptwStabilized                                0.060

                                       NSAID or no exposure  TNF                    39244  ps              Estimated Probability         0.112
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.226
                                                                                           iptwStabilized                                0.044

                                       TNF                   TNF                    12974  ps              Estimated Probability         0.130
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          2.571
                                                                                           iptwStabilized                                0.732

                     4-level exposure  DMARD                 TNF                     7705  ps              Estimated Probability         0.121
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.265
                                                                                           iptwStabilized                                0.058

                                       NSAID                 TNF                    18722  ps              Estimated Probability         0.117
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.245
                                                                                           iptwStabilized                                0.052

                                       No exposure           TNF                    20555  ps              Estimated Probability         0.107
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.197
                                                                                           iptwStabilized                                0.035

                                       TNF                   TNF                    12968  ps              Estimated Probability         0.130
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          2.641
                                                                                           iptwStabilized                                0.754
       ---------------------------------------------------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 120020 observations read from the data set WORK.PS.
NOTE: The PROCEDURE MEANS printed pages 16-20.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.18 seconds
      cpu time            0.10 seconds
      

479        proc corr data = Work.ps;
480          var iptw iptwStabilized;
481        run;

                                                                  --- AS project ---                               15:16 Friday, November 17, 2017  21

                                                                  The CORR Procedure

                                                     2  Variables:    iptw           iptwStabilized 


                                                                  Simple Statistics
 
                           Variable                 N          Mean       Std Dev           Sum       Minimum       Maximum

                           iptw                120018       1.97627       1.81040        237188       1.00001      38.14570
                           iptwStabilized      120018       0.47586       0.54926         57112       0.17553      10.88487


                                                     Pearson Correlation Coefficients, N = 120018 
                                                              Prob > |r| under H0: Rho=0
 
                                                                                             iptw
                                                                             iptw      Stabilized

                                                     iptw                 1.00000         0.99728
                                                                                           <.0001

                                                     iptwStabilized       0.99728         1.00000
                                                                           <.0001                
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: The PROCEDURE CORR printed page 21.
NOTE: PROCEDURE CORR used (Total process time):
      real time           0.09 seconds
      cpu time            0.06 seconds
      

482        
483        
484        /*
485        Save output data files
486         */
487        proc sql;
488          create table DT.ps as
489            select *
490            from Work.ps;
NOTE: Table DT.PS created, with 120020 rows and 41 columns.

491          create table Work.psDeidentified as
492            select model,
9                                                                   The SAS System                                     15:16 Friday, November 17, 2017

493                   database,
494                   exposure,
495                   _level_,
496                   ps,
497                   indCommonSupport,
498                   iptw,
499                   marginalPS,
500                   iptwStabilized,
501                   age,
502                   sex,
503                   indAmyloidosis,
504                   indAortInsuffRegurg,
505                   indApicalPulmFib,
506                   indCaudaEquina,
507                   indVertFrac,
508                   indConductBlock,
509                   indCrohnsDis,
510                   indHematCa,
511                   indHospInf,
512                   indIgANeph,
513                   indInterstLungDis,
514                   indMI,
515                   indNephSyn,
516                   indNMSC,
517                   indNonVertOsFrac,
518                   indOppInf,
519                   indPsoriasis,
520                   indPSA,
521                   indRestrictLungDis,
522                   indSolidCa,
523                   indSpinalCordComp,
524                   indUlcerColitis,
525                   indUveitis,
526                   indDiabetes,
527                   indHT,
528                   indMetabSyn,
529                   indNAFattyLiverDis
530            from DT.ps;
NOTE: Table WORK.PSDEIDENTIFIED created, with 120020 rows and 38 columns.

531        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.21 seconds
      cpu time            0.15 seconds
      

532        proc export
533          data = Work.psBetas
534          outfile = "data\processed\psBetas.csv"
535          dbms = csv
536          replace;
537          delimiter = ",";
538        run;

539         /**********************************************************************
540         *   PRODUCT:   SAS
541         *   VERSION:   9.4
542         *   CREATOR:   External File Interface
543         *   DATE:      17NOV17
544         *   DESC:      Generated SAS Datastep Code
545         *   TEMPLATE SOURCE:  (None Specified.)
546         ***********************************************************************/
547            data _null_;
548            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
549            %let _EFIREC_ = 0;     /* clear export record count macro variable */
550            file 'data\processed\psBetas.csv' delimiter=',' DSD DROPOVER lrecl=32767;
551            if _n_ = 1 then        /* write column names or labels */
552             do;
553               put
554                  "_LINK_"
555               ','
556                  "_TYPE_"
10                                                                  The SAS System                                     15:16 Friday, November 17, 2017

557               ','
558                  "_STATUS_"
559               ','
560                  "_NAME_"
561               ','
562                  "Intercept_DMARD"
563               ','
564                  "Intercept_TNF"
565               ','
566                  "databaseMPCD_DMARD"
567               ','
568                  "databaseMPCD_TNF"
569               ','
570                  "databaseMarketscan_DMARD"
571               ','
572                  "databaseMarketscan_TNF"
573               ','
574                  "age_DMARD"
575               ','
576                  "age_TNF"
577               ','
578                  "SEXF_DMARD"
579               ','
580                  "SEXF_TNF"
581               ','
582                  "indAmyloidosis_DMARD"
583               ','
584                  "indAmyloidosis_TNF"
585               ','
586                  "indAortInsuffRegurg_DMARD"
587               ','
588                  "indAortInsuffRegurg_TNF"
589               ','
590                  "indApicalPulmFib_DMARD"
591               ','
592                  "indApicalPulmFib_TNF"
593               ','
594                  "indCaudaEquina_DMARD"
595               ','
596                  "indCaudaEquina_TNF"
597               ','
598                  "indVertFrac_DMARD"
599               ','
600                  "indVertFrac_TNF"
601               ','
602                  "indConductBlock_DMARD"
603               ','
604                  "indConductBlock_TNF"
605               ','
606                  "indCrohnsDis_DMARD"
607               ','
608                  "indCrohnsDis_TNF"
609               ','
610                  "indHematCa_DMARD"
611               ','
612                  "indHematCa_TNF"
613               ','
614                  "indHospInf_DMARD"
615               ','
616                  "indHospInf_TNF"
617               ','
618                  "indIgANeph_DMARD"
619               ','
620                  "indIgANeph_TNF"
621               ','
622                  "indInterstLungDis_DMARD"
623               ','
624                  "indInterstLungDis_TNF"
625               ','
626                  "indMI_DMARD"
627               ','
628                  "indMI_TNF"
11                                                                  The SAS System                                     15:16 Friday, November 17, 2017

629               ','
630                  "indNephSyn_DMARD"
631               ','
632                  "indNephSyn_TNF"
633               ','
634                  "indNMSC_DMARD"
635               ','
636                  "indNMSC_TNF"
637               ','
638                  "indNonVertOsFrac_DMARD"
639               ','
640                  "indNonVertOsFrac_TNF"
641               ','
642                  "indOppInf_DMARD"
643               ','
644                  "indOppInf_TNF"
645               ','
646                  "indPsoriasis_DMARD"
647               ','
648                  "indPsoriasis_TNF"
649               ','
650                  "indPSA_DMARD"
651               ','
652                  "indPSA_TNF"
653               ','
654                  "indRestrictLungDis_DMARD"
655               ','
656                  "indRestrictLungDis_TNF"
657               ','
658                  "indSolidCa_DMARD"
659               ','
660                  "indSolidCa_TNF"
661               ','
662                  "indSpinalCordComp_DMARD"
663               ','
664                  "indSpinalCordComp_TNF"
665               ','
666                  "indUlcerColitis_DMARD"
667               ','
668                  "indUlcerColitis_TNF"
669               ','
670                  "indUveitis_DMARD"
671               ','
672                  "indUveitis_TNF"
673               ','
674                  "indDiabetes_DMARD"
675               ','
676                  "indDiabetes_TNF"
677               ','
678                  "indHT_DMARD"
679               ','
680                  "indHT_TNF"
681               ','
682                  "indMetabSyn_DMARD"
683               ','
684                  "indMetabSyn_TNF"
685               ','
686                  "indNAFattyLiverDis_DMARD"
687               ','
688                  "indNAFattyLiverDis_TNF"
689               ','
690                  "_LNLIKE_"
691               ','
692                  "_ESTTYPE_"
693               ;
694             end;
695           set  WORK.PSBETAS   end=EFIEOD;
696               format _LINK_ $8. ;
697               format _TYPE_ $8. ;
698               format _STATUS_ $11. ;
699               format _NAME_ $9. ;
700               format Intercept_DMARD best12. ;
12                                                                  The SAS System                                     15:16 Friday, November 17, 2017

701               format Intercept_TNF best12. ;
702               format databaseMPCD_DMARD best12. ;
703               format databaseMPCD_TNF best12. ;
704               format databaseMarketscan_DMARD best12. ;
705               format databaseMarketscan_TNF best12. ;
706               format age_DMARD best12. ;
707               format age_TNF best12. ;
708               format SEXF_DMARD best12. ;
709               format SEXF_TNF best12. ;
710               format indAmyloidosis_DMARD best12. ;
711               format indAmyloidosis_TNF best12. ;
712               format indAortInsuffRegurg_DMARD best12. ;
713               format indAortInsuffRegurg_TNF best12. ;
714               format indApicalPulmFib_DMARD best12. ;
715               format indApicalPulmFib_TNF best12. ;
716               format indCaudaEquina_DMARD best12. ;
717               format indCaudaEquina_TNF best12. ;
718               format indVertFrac_DMARD best12. ;
719               format indVertFrac_TNF best12. ;
720               format indConductBlock_DMARD best12. ;
721               format indConductBlock_TNF best12. ;
722               format indCrohnsDis_DMARD best12. ;
723               format indCrohnsDis_TNF best12. ;
724               format indHematCa_DMARD best12. ;
725               format indHematCa_TNF best12. ;
726               format indHospInf_DMARD best12. ;
727               format indHospInf_TNF best12. ;
728               format indIgANeph_DMARD best12. ;
729               format indIgANeph_TNF best12. ;
730               format indInterstLungDis_DMARD best12. ;
731               format indInterstLungDis_TNF best12. ;
732               format indMI_DMARD best12. ;
733               format indMI_TNF best12. ;
734               format indNephSyn_DMARD best12. ;
735               format indNephSyn_TNF best12. ;
736               format indNMSC_DMARD best12. ;
737               format indNMSC_TNF best12. ;
738               format indNonVertOsFrac_DMARD best12. ;
739               format indNonVertOsFrac_TNF best12. ;
740               format indOppInf_DMARD best12. ;
741               format indOppInf_TNF best12. ;
742               format indPsoriasis_DMARD best12. ;
743               format indPsoriasis_TNF best12. ;
744               format indPSA_DMARD best12. ;
745               format indPSA_TNF best12. ;
746               format indRestrictLungDis_DMARD best12. ;
747               format indRestrictLungDis_TNF best12. ;
748               format indSolidCa_DMARD best12. ;
749               format indSolidCa_TNF best12. ;
750               format indSpinalCordComp_DMARD best12. ;
751               format indSpinalCordComp_TNF best12. ;
752               format indUlcerColitis_DMARD best12. ;
753               format indUlcerColitis_TNF best12. ;
754               format indUveitis_DMARD best12. ;
755               format indUveitis_TNF best12. ;
756               format indDiabetes_DMARD best12. ;
757               format indDiabetes_TNF best12. ;
758               format indHT_DMARD best12. ;
759               format indHT_TNF best12. ;
760               format indMetabSyn_DMARD best12. ;
761               format indMetabSyn_TNF best12. ;
762               format indNAFattyLiverDis_DMARD best12. ;
763               format indNAFattyLiverDis_TNF best12. ;
764               format _LNLIKE_ best12. ;
765               format _ESTTYPE_ $4. ;
766             do;
767               EFIOUT + 1;
768               put _LINK_ $ @;
769               put _TYPE_ $ @;
770               put _STATUS_ $ @;
771               put _NAME_ $ @;
772               put Intercept_DMARD @;
13                                                                  The SAS System                                     15:16 Friday, November 17, 2017

773               put Intercept_TNF @;
774               put databaseMPCD_DMARD @;
775               put databaseMPCD_TNF @;
776               put databaseMarketscan_DMARD @;
777               put databaseMarketscan_TNF @;
778               put age_DMARD @;
779               put age_TNF @;
780               put SEXF_DMARD @;
781               put SEXF_TNF @;
782               put indAmyloidosis_DMARD @;
783               put indAmyloidosis_TNF @;
784               put indAortInsuffRegurg_DMARD @;
785               put indAortInsuffRegurg_TNF @;
786               put indApicalPulmFib_DMARD @;
787               put indApicalPulmFib_TNF @;
788               put indCaudaEquina_DMARD @;
789               put indCaudaEquina_TNF @;
790               put indVertFrac_DMARD @;
791               put indVertFrac_TNF @;
792               put indConductBlock_DMARD @;
793               put indConductBlock_TNF @;
794               put indCrohnsDis_DMARD @;
795               put indCrohnsDis_TNF @;
796               put indHematCa_DMARD @;
797               put indHematCa_TNF @;
798               put indHospInf_DMARD @;
799               put indHospInf_TNF @;
800               put indIgANeph_DMARD @;
801               put indIgANeph_TNF @;
802               put indInterstLungDis_DMARD @;
803               put indInterstLungDis_TNF @;
804               put indMI_DMARD @;
805               put indMI_TNF @;
806               put indNephSyn_DMARD @;
807               put indNephSyn_TNF @;
808               put indNMSC_DMARD @;
809               put indNMSC_TNF @;
810               put indNonVertOsFrac_DMARD @;
811               put indNonVertOsFrac_TNF @;
812               put indOppInf_DMARD @;
813               put indOppInf_TNF @;
814               put indPsoriasis_DMARD @;
815               put indPsoriasis_TNF @;
816               put indPSA_DMARD @;
817               put indPSA_TNF @;
818               put indRestrictLungDis_DMARD @;
819               put indRestrictLungDis_TNF @;
820               put indSolidCa_DMARD @;
821               put indSolidCa_TNF @;
822               put indSpinalCordComp_DMARD @;
823               put indSpinalCordComp_TNF @;
824               put indUlcerColitis_DMARD @;
825               put indUlcerColitis_TNF @;
826               put indUveitis_DMARD @;
827               put indUveitis_TNF @;
828               put indDiabetes_DMARD @;
829               put indDiabetes_TNF @;
830               put indHT_DMARD @;
831               put indHT_TNF @;
832               put indMetabSyn_DMARD @;
833               put indMetabSyn_TNF @;
834               put indNAFattyLiverDis_DMARD @;
835               put indNAFattyLiverDis_TNF @;
836               put _LNLIKE_ @;
837               put _ESTTYPE_ $ ;
838               ;
839             end;
840            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
841            if EFIEOD then call symputx('_EFIREC_',EFIOUT);
842            run;

NOTE: The file 'data\processed\psBetas.csv' is:
14                                                                  The SAS System                                     15:16 Friday, November 17, 2017

      Filename=U:\studies\AS\pgms\bchan\data\processed\psBetas.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=17Nov2017:15:16:41,
      Create Time=13Nov2017:10:43:08

NOTE: 3 records were written to the file 'data\processed\psBetas.csv'.
      The minimum record length was 852.
      The maximum record length was 1180.
NOTE: There were 2 observations read from the data set WORK.PSBETAS.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

2 records created in data\processed\psBetas.csv from WORK.PSBETAS.
  
  
NOTE: "data\processed\psBetas.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.84 seconds
      cpu time            0.09 seconds
      

843        proc export
844          data = Work.psDeidentified
845          outfile = "data\processed\psDeidentified.csv"
846          dbms = csv
847          replace;
848          delimiter = ",";
849        run;

850         /**********************************************************************
851         *   PRODUCT:   SAS
852         *   VERSION:   9.4
853         *   CREATOR:   External File Interface
854         *   DATE:      17NOV17
855         *   DESC:      Generated SAS Datastep Code
856         *   TEMPLATE SOURCE:  (None Specified.)
857         ***********************************************************************/
858            data _null_;
859            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
860            %let _EFIREC_ = 0;     /* clear export record count macro variable */
861            file 'data\processed\psDeidentified.csv' delimiter=',' DSD DROPOVER lrecl=32767;
862            if _n_ = 1 then        /* write column names or labels */
863             do;
864               put
865                  "model"
866               ','
867                  "database"
868               ','
869                  "exposure"
870               ','
871                  "_LEVEL_"
872               ','
873                  "ps"
874               ','
875                  "indCommonSupport"
876               ','
877                  "iptw"
878               ','
879                  "marginalPS"
880               ','
881                  "iptwStabilized"
882               ','
883                  "age"
884               ','
885                  "SEX"
886               ','
887                  "indAmyloidosis"
888               ','
889                  "indAortInsuffRegurg"
890               ','
15                                                                  The SAS System                                     15:16 Friday, November 17, 2017

891                  "indApicalPulmFib"
892               ','
893                  "indCaudaEquina"
894               ','
895                  "indVertFrac"
896               ','
897                  "indConductBlock"
898               ','
899                  "indCrohnsDis"
900               ','
901                  "indHematCa"
902               ','
903                  "indHospInf"
904               ','
905                  "indIgANeph"
906               ','
907                  "indInterstLungDis"
908               ','
909                  "indMI"
910               ','
911                  "indNephSyn"
912               ','
913                  "indNMSC"
914               ','
915                  "indNonVertOsFrac"
916               ','
917                  "indOppInf"
918               ','
919                  "indPsoriasis"
920               ','
921                  "indPSA"
922               ','
923                  "indRestrictLungDis"
924               ','
925                  "indSolidCa"
926               ','
927                  "indSpinalCordComp"
928               ','
929                  "indUlcerColitis"
930               ','
931                  "indUveitis"
932               ','
933                  "indDiabetes"
934               ','
935                  "indHT"
936               ','
937                  "indMetabSyn"
938               ','
939                  "indNAFattyLiverDis"
940               ;
941             end;
942           set  WORK.PSDEIDENTIFIED   end=EFIEOD;
943               format model $16. ;
944               format database $10. ;
945               format exposure $20. ;
946               format _LEVEL_ $20. ;
947               format ps best12. ;
948               format indCommonSupport best12. ;
949               format iptw best12. ;
950               format marginalPS best12. ;
951               format iptwStabilized best12. ;
952               format age best12. ;
953               format SEX $2. ;
954               format indAmyloidosis best12. ;
955               format indAortInsuffRegurg best12. ;
956               format indApicalPulmFib best12. ;
957               format indCaudaEquina best12. ;
958               format indVertFrac best12. ;
959               format indConductBlock best12. ;
960               format indCrohnsDis best12. ;
961               format indHematCa best12. ;
962               format indHospInf best12. ;
16                                                                  The SAS System                                     15:16 Friday, November 17, 2017

963               format indIgANeph best12. ;
964               format indInterstLungDis best12. ;
965               format indMI best12. ;
966               format indNephSyn best12. ;
967               format indNMSC best12. ;
968               format indNonVertOsFrac best12. ;
969               format indOppInf best12. ;
970               format indPsoriasis best12. ;
971               format indPSA best12. ;
972               format indRestrictLungDis best12. ;
973               format indSolidCa best12. ;
974               format indSpinalCordComp best12. ;
975               format indUlcerColitis best12. ;
976               format indUveitis best12. ;
977               format indDiabetes best12. ;
978               format indHT best12. ;
979               format indMetabSyn best12. ;
980               format indNAFattyLiverDis best12. ;
981             do;
982               EFIOUT + 1;
983               put model $ @;
984               put database $ @;
985               put exposure $ @;
986               put _LEVEL_ $ @;
987               put ps @;
988               put indCommonSupport @;
989               put iptw @;
990               put marginalPS @;
991               put iptwStabilized @;
992               put age @;
993               put SEX $ @;
994               put indAmyloidosis @;
995               put indAortInsuffRegurg @;
996               put indApicalPulmFib @;
997               put indCaudaEquina @;
998               put indVertFrac @;
999               put indConductBlock @;
1000              put indCrohnsDis @;
1001              put indHematCa @;
1002              put indHospInf @;
1003              put indIgANeph @;
1004              put indInterstLungDis @;
1005              put indMI @;
1006              put indNephSyn @;
1007              put indNMSC @;
1008              put indNonVertOsFrac @;
1009              put indOppInf @;
1010              put indPsoriasis @;
1011              put indPSA @;
1012              put indRestrictLungDis @;
1013              put indSolidCa @;
1014              put indSpinalCordComp @;
1015              put indUlcerColitis @;
1016              put indUveitis @;
1017              put indDiabetes @;
1018              put indHT @;
1019              put indMetabSyn @;
1020              put indNAFattyLiverDis ;
1021              ;
1022            end;
1023           if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
1024           if EFIEOD then call symputx('_EFIREC_',EFIOUT);
1025           run;

NOTE: The file 'data\processed\psDeidentified.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\psDeidentified.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=17Nov2017:15:16:42,
      Create Time=13Nov2017:10:31:18

NOTE: 120021 records were written to the file 'data\processed\psDeidentified.csv'.
      The minimum record length was 103.
17                                                                  The SAS System                                     15:16 Friday, November 17, 2017

      The maximum record length was 445.
NOTE: There were 120020 observations read from the data set WORK.PSDEIDENTIFIED.
NOTE: DATA statement used (Total process time):
      real time           1.21 seconds
      cpu time            1.20 seconds
      

120020 records created in data\processed\psDeidentified.csv from WORK.PSDEIDENTIFIED.
  
  
NOTE: "data\processed\psDeidentified.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           1.40 seconds
      cpu time            1.38 seconds
      

1026       proc export
1027         data = Work.commonSupportRegion
1028         outfile = "data\processed\commonSupportRegion.csv"
1029         dbms = csv
1030         replace;
1031         delimiter = ",";
1032       run;

1033        /**********************************************************************
1034        *   PRODUCT:   SAS
1035        *   VERSION:   9.4
1036        *   CREATOR:   External File Interface
1037        *   DATE:      17NOV17
1038        *   DESC:      Generated SAS Datastep Code
1039        *   TEMPLATE SOURCE:  (None Specified.)
1040        ***********************************************************************/
1041           data _null_;
1042           %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
1043           %let _EFIREC_ = 0;     /* clear export record count macro variable */
1044           file 'data\processed\commonSupportRegion.csv' delimiter=',' DSD DROPOVER lrecl=32767;
1045           if _n_ = 1 then        /* write column names or labels */
1046            do;
1047              put
1048                 "model"
1049              ','
1050                 "commonSupportLowerBound"
1051              ','
1052                 "commonSupportUpperBound"
1053              ;
1054            end;
1055          set  WORK.COMMONSUPPORTREGION   end=EFIEOD;
1056              format model $16. ;
1057              format commonSupportLowerBound best12. ;
1058              format commonSupportUpperBound best12. ;
1059            do;
1060              EFIOUT + 1;
1061              put model $ @;
1062              put commonSupportLowerBound @;
1063              put commonSupportUpperBound ;
1064              ;
1065            end;
1066           if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
1067           if EFIEOD then call symputx('_EFIREC_',EFIOUT);
1068           run;

NOTE: The file 'data\processed\commonSupportRegion.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\commonSupportRegion.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=17Nov2017:15:16:43,
      Create Time=13Nov2017:10:31:20

NOTE: 3 records were written to the file 'data\processed\commonSupportRegion.csv'.
      The minimum record length was 42.
      The maximum record length was 53.
NOTE: There were 2 observations read from the data set WORK.COMMONSUPPORTREGION.
NOTE: DATA statement used (Total process time):
18                                                                  The SAS System                                     15:16 Friday, November 17, 2017

      real time           0.04 seconds
      cpu time            0.00 seconds
      

2 records created in data\processed\commonSupportRegion.csv from WORK.COMMONSUPPORTREGION.
  
  
NOTE: "data\processed\commonSupportRegion.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.10 seconds
      cpu time            0.04 seconds
      

1069       
1070       
1071       ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           43.33 seconds
      cpu time            37.73 seconds
      
