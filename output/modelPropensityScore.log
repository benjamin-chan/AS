1                                         The SAS System               12:40 Friday, June 22, 2018

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M5) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70086550.
NOTE: This session is executing on the X64_DS08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 14.3
      SAS/ETS 14.3
      SAS/IML 14.3
      SAS/QC 14.3

NOTE: Additional host information:

 X64_DS08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any 
of the shared folders.

 


NOTE: SAS initialization used:
      real time           4.62 seconds
      cpu time            0.34 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                                        *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=modelPropensityScore; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref UCB64 was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB64\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
NOTE: Libref NDC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: W:\onenote\references\drug ndcs\sas data
143        footnote "&pgm.";
144        * footnote2 "%sysfunc(datetime(),datetime14.)";
145        title1 '--- AS project ---';
146        **********************************************************************;
147        options macrogen mlogic mprint symbolgen;
148        options nomacrogen nomlogic nomprint nosymbolgen;
2                                                                   The SAS System                                         12:40 Friday, June 22, 2018

149        
150        
151        ods html
152          body = "output\&cmt..html"
153          style = Statistical;
NOTE: Writing HTML Body file: output\modelPropensityScore.html
154        
155        
156        proc sql;
157          create table Work.allCovariates as
158            select A.database,
159                   case
160                     when A.exposure in ("No exposure", "NSAID") then "NSAID or no exposure"
161                     else A.exposure
162                     end as exposure3,
163                   case
164                     when A.exposure in ("No exposure", "NSAID", "DMARD") then "DMARD, NSAID, or no exposure"
165                     else A.exposure
166                     end as exposure2,
167                   A.PATID,
168                   A.age,
169                   case
170                     when age = 0 then "0"
171                     when  1 <= age <= 18 then "1-18"
172                     when 19 <= age <= 29 then "19-29"
173                     when 30 <= age <= 39 then "30-39"
174                     when 40 <= age <= 49 then "40-49"
175                     when 50 <= age <= 59 then "50-59"
176                     when 60 <= age <= 69 then "60-69"
177                     when 70 <= age       then "70+"
178                     else ""
179                     end as catAge,
180                   A.SEX,
181                   A.indexID,
182                   max(0, B.indAmyloidosis     ) as indAmyloidosis,
183                   max(0, C.indAortInsuffRegurg) as indAortInsuffRegurg,
184                   max(0, D.indApicalPulmFib   ) as indApicalPulmFib,
185                   max(0, E.indCaudaEquina     ) as indCaudaEquina,
186                   max(0, F.indVertFrac        ) as indVertFrac,
187                   max(0, G.indConductBlock    ) as indConductBlock,
188                   max(0, H.indCrohnsDis       ) as indCrohnsDis,
189                   max(0, I.indHematCa         ) as indHematCa,
190                   max(0, J.indHospInf         ) as indHospInf,
191                   max(0, K.indIgANeph         ) as indIgANeph,
192                   max(0, L.indInterstLungDis  ) as indInterstLungDis,
193                   max(0, M.indMI              ) as indMI,
194                   max(0, N.indNephSyn         ) as indNephSyn,
195                   max(0, O.indNMSC            ) as indNMSC,
196                   max(0, P.indNonVertOsFrac   ) as indNonVertOsFrac,
197                   max(0, Q.indOppInf          ) as indOppInf,
198                   max(0, R.indPsoriasis       ) as indPsoriasis,
199                   max(0, S.indPSA             ) as indPSA,
200                   max(0, T.indRestrictLungDis ) as indRestrictLungDis,
201                   max(0, U.indSolidCa         ) as indSolidCa,
202                   max(0, V.indSpinalCordComp  ) as indSpinalCordComp,
203                   max(0, W.indUlcerColitis    ) as indUlcerColitis,
204                   max(0, X.indUveitis         ) as indUveitis,
205                   max(0, AA.indDiabetes       ) as indDiabetes,
206                   max(0, BB.indHT             ) as indHT,
207                   max(0, CC.indMetabSyn       ) as indMetabSyn,
208                   max(0, DD.indNAFattyLiverDis) as indNAFattyLiverDis,
209                   max(0, EE.indCOPDEmphysema  ) as indCOPDEmphysema,
210                   case
211                     when FF.meanPredEqDoseCat = "" then "None"
212                     else FF.meanPredEqDoseCat
213                     end as meanPredEqDoseCat,
214                   max(0, GG.charlson) as charlson,
215                   max(0, HH.ciras) as ciras,
216                   max(0, HH.numinflamMarker) as numinflamMarker,
217                   HH.numinflamMarker > 0 as indInflamMarker,
218                   max(0, II.nsaid) as indRxNSAID,
219                   max(0, II.htn) as indRxHtn,
3                                                                   The SAS System                                         12:40 Friday, June 22, 2018

220                   max(0, II.narcotics) as indRxNarcotics,
221                   max(0, II.fungus) as indRxFungus,
222                   max(0, II.op_bisphosp) as indRxOP_bisphosp,
223                   max(0, II.thiazide) as indRxThiazide,
224                   max(0, II.anticoagulant) as indRxAnticoagulant,
225                   max(0, II.antibiotics) as indRxAntibiotics,
226                   max(0, JJ.indIPAdmit12mPrior) as indIPAdmit12mPrior,
227                   max(0, JJ.countIPAdmits12mPrior) as countIPAdmits12mPrior,
228                   max(0, KK.countAVPhys12mPrior) as countAVPhys12mPrior,
229                   case
230                     when  0 <= max(0, KK.countAVPhys12mPrior) <=  4 then "0-4"
231                     when  5 <= max(0, KK.countAVPhys12mPrior) <=  9 then "5-9"
232                     when 10 <= max(0, KK.countAVPhys12mPrior) <= 14 then "10-14"
233                     when 15 <= max(0, KK.countAVPhys12mPrior) <= 19 then "15-19"
234                     when 20 <= max(0, KK.countAVPhys12mPrior)       then "20+"
235                     else ""
236                     end as catAVPhys12mPrior,
237                   max(0, KK.countAVRheum12mPrior) as countAVRheum12mPrior,
238                   case
239                     when 0  = max(0, KK.countAVRheum12mPrior) then 0
240                     when 1 <= max(0, KK.countAVRheum12mPrior) then 1
241                     else .
242                     end as indAVRheum12mPrior,
243                   max(0, KK.indERVisit12mPrior) as indERVisit12mPrior,
244                   max(0, KK.countERVisits) as countERVisits,
245                   case
246                     when 0  = max(0, KK.countERVisits)       then "0"
247                     when 1 <= max(0, KK.countERVisits) <=  1 then "1"
248                     when 2 <= max(0, KK.countERVisits)       then "2+"
249                     else ""
250                     end as catERVisits,
251                   max(0, LL.indRxBiologics) as indRxBiologics,
252                   max(0, MM.indOutpatientInfection) as indOutpatientInfection
253            from
254              DT.indexLookup A left join
255              (select indexID, 1 as indAmyloidosis      from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Amyloidosis/"
255      !                        , disease    )) B  on (A.indexID = B.indexID ) left join
256              (select indexID, 1 as indAortInsuffRegurg from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Aortic
256      ! Insufficiency\/Aortic Regurgitation/", disease    )) C  on (A.indexID = C.indexID ) left join
257              (select indexID, 1 as indApicalPulmFib    from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Apical Pulmonary
257      ! fibrosis/"                 , disease    )) D  on (A.indexID = D.indexID ) left join
258              (select indexID, 1 as indCaudaEquina      from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Cauda Equina
258      ! syndrome/"                     , disease    )) E  on (A.indexID = E.indexID ) left join
259              (select indexID, 1 as indVertFrac         from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Clinical vertebral
259      ! fracture/"               , disease    )) F  on (A.indexID = F.indexID ) left join
260              (select indexID, 1 as indConductBlock     from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Conduction Block/"
260      !                        , disease    )) G  on (A.indexID = G.indexID ) left join
261              (select indexID, 1 as indCrohnsDis        from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Crohn/"
261      !                        , disease    )) H  on (A.indexID = H.indexID ) left join
262              (select indexID, 1 as indHematCa          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Hematologic Cancer/"
262      !                        , disease    )) I  on (A.indexID = I.indexID ) left join
263              (select indexID, 1 as indHospInf          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Hospitalized
263      ! infection/"                    , disease    )) J  on (A.indexID = J.indexID ) left join
264              (select indexID, 1 as indIgANeph          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/IgA nephropathy/"
264      !                        , disease    )) K  on (A.indexID = K.indexID ) left join
265              (select indexID, 1 as indInterstLungDis   from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Interstitial lung
265      ! disease/"                 , disease    )) L  on (A.indexID = L.indexID ) left join
266              (select indexID, 1 as indMI               from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Myocardial
266      ! infarction/"                     , disease    )) M  on (A.indexID = M.indexID ) left join
267              (select indexID, 1 as indNephSyn          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Nephrotic syndrome/"
267      !                        , disease    )) N  on (A.indexID = N.indexID ) left join
268              (select indexID, 1 as indNMSC             from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Non Melanoma Skin
268      ! Cancer/"                  , disease    )) O  on (A.indexID = O.indexID ) left join
269              (select indexID, 1 as indNonVertOsFrac    from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Non-vertebral
269      ! osteoporotic fracture/"       , disease    )) P  on (A.indexID = P.indexID ) left join
270              (select indexID, 1 as indOppInf           from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Opportunistic
270      ! infection/"                   , disease    )) Q  on (A.indexID = Q.indexID ) left join
271              (select indexID, 1 as indPsoriasis        from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Psoriasis/"
271      !                        , disease    )) R  on (A.indexID = R.indexID ) left join
272              (select indexID, 1 as indPSA              from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Psoriatic arthritis/"
272      !                        , disease    )) S  on (A.indexID = S.indexID ) left join
273              (select indexID, 1 as indRestrictLungDis  from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Restrictive lung
4                                                                   The SAS System                                         12:40 Friday, June 22, 2018

273      ! disease/"                  , disease    )) T  on (A.indexID = T.indexID ) left join
274              (select indexID, 1 as indSolidCa          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Solid Cancer/"
274      !                        , disease    )) U  on (A.indexID = U.indexID ) left join
275              (select indexID, 1 as indSpinalCordComp   from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Spinal Cord
275      ! compression/"                   , disease    )) V  on (A.indexID = V.indexID ) left join
276              (select indexID, 1 as indUlcerColitis     from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Ulcerative Colitis/"
276      !                        , disease    )) W  on (A.indexID = W.indexID ) left join
277              (select indexID, 1 as indUveitis          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Uveitis/"
277      !                        , disease    )) X  on (A.indexID = X.indexID ) left join
278              (select indexID, 1 as indDiabetes         from DT.comorbiditiesOther where                           prxmatch("/Diabetes/"
278      !                        , comorbidity)) AA on (A.indexID = AA.indexID) left join
279              (select indexID, 1 as indHT               from DT.comorbiditiesOther where                           prxmatch("/Hypertention/"
279      !                        , comorbidity)) BB on (A.indexID = BB.indexID) left join
280              (select indexID, 1 as indMetabSyn         from DT.comorbiditiesOther where                           prxmatch("/Metabolic syndrome/"
280      !                        , comorbidity)) CC on (A.indexID = CC.indexID) left join
281              (select indexID, 1 as indNAFattyLiverDis  from DT.comorbiditiesOther where                           prxmatch("/Non-alcoholic fatty
281      ! liver disease/"         , comorbidity)) DD on (A.indexID = DD.indexID) left join
282              (select indexID, 1 as indCOPDEmphysema    from DT.comorbiditiesOther where                           prxmatch("/COPD or emphysema/"
282      !                        , comorbidity)) EE on (A.indexID = EE.indexID) left join
283              (select indexID, meanPredEqDoseCat        from DT.rxOralCorticosteroid
283      !                                      ) FF on (A.indexID = FF.indexID) left join
284              (select indexID, charlson from DT.charlsonIndex) GG on (A.indexID = GG.indexID) left join
285              (select indexID, ciras, numinflamMarker from DT.CIRAS) HH on (A.indexID = HH.indexID) left join
286              (select indexID, nsaid, htn, narcotics, fungus, op_bisphosp, thiazide, anticoagulant, antibiotics from DT.indRx) II on (A.indexID =
286      ! II.indexID) left join
287              (select indexID, indIPAdmit12mPrior, countIPAdmits12mPrior from DT.diagIndicatorsInpatient) JJ on (A.indexID = JJ.indexID) left join
288              (select indexID, countAVPhys12mPrior, countAVRheum12mPrior, indERVisit12mPrior, countERVisits from DT.countEncounters) KK on
288      ! (A.indexID = KK.indexID) left join
289              (select indexID, indRxBiologics from DT.indBiologics) LL on (A.indexID = LL.indexID) left join
290              (select indexID, indOutpatientInfection from DT.outpatientInfection) MM on (A.indexID = MM.indexID)
291            order by A.database;
NOTE: Table WORK.ALLCOVARIATES created, with 32487 rows and 60 columns.

292        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           3.08 seconds
      cpu time            3.07 seconds
      

293        
294        
295        proc rank data = Work.allCovariates out = Work.allCovariates groups = 4;
296          by database;
297          var charlson ciras countIPAdmits12mPrior countAVPhys12mPrior countAVRheum12mPrior;
298          ranks quartileCharlson quartileCIRAS quartileIPAdmits12mPrior quartileAVPhys12mPrior quartileAVRheum12mPrior;
299        run;

NOTE: There were 32487 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The data set WORK.ALLCOVARIATES has 32487 observations and 65 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.23 seconds
      cpu time            0.14 seconds
      

300        
301        
302        proc means data = Work.allCovariates maxdec = 2 nolabels;
303          class database exposure2;
304          var indAmyloidosis
305              indAortInsuffRegurg
306              indApicalPulmFib
307              indCaudaEquina
308              indVertFrac
309              indConductBlock
310              indCrohnsDis
311              indHematCa
312              indHospInf
313              indIgANeph
314              indInterstLungDis
315              indMI
316              indNephSyn
317              indNMSC
5                                                                   The SAS System                                         12:40 Friday, June 22, 2018

318              indNonVertOsFrac
319              indOppInf
320              indPsoriasis
321              indPSA
322              indRestrictLungDis
323              indSolidCa
324              indSpinalCordComp
325              indUlcerColitis
326              indUveitis
327              indDiabetes
328              indHT
329              indMetabSyn
330              indNAFattyLiverDis
331              indCOPDEmphysema
332              charlson
333              quartileCharlson
334              ciras
335              indInflamMarker
336              indRxNSAID
337              indRxHtn
338              indRxNarcotics
339              indRxFungus
340              indRxOP_bisphosp
341              indRxThiazide
342              indRxAnticoagulant
343              indRxAntibiotics
344              indIPAdmit12mPrior
345              indAVRheum12mPrior
346              indERVisit12mPrior
347              indRxBiologics
348              indOutpatientInfection;
349        run;

                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018   1

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD          DMARD, NSAID, or no exposure     2404    indAmyloidosis             2404            0.00            0.00            0.00            0.00
                                                       indAortInsuffRegurg        2404            0.00            0.06            0.00            1.00
                                                       indApicalPulmFib           2404            0.00            0.00            0.00            0.00
                                                       indCaudaEquina             2404            0.00            0.00            0.00            0.00
                                                       indVertFrac                2404            0.00            0.04            0.00            1.00
                                                       indConductBlock            2404            0.00            0.04            0.00            1.00
                                                       indCrohnsDis               2404            0.01            0.11            0.00            1.00
                                                       indHematCa                 2404            0.00            0.05            0.00            1.00
                                                       indHospInf                 2404            0.00            0.05            0.00            1.00
                                                       indIgANeph                 2404            0.00            0.03            0.00            1.00
                                                       indInterstLungDis          2404            0.00            0.00            0.00            0.00
                                                       indMI                      2404            0.00            0.00            0.00            0.00
                                                       indNephSyn                 2404            0.00            0.00            0.00            0.00
                                                       indNMSC                    2404            0.00            0.00            0.00            0.00
                                                       indNonVertOsFrac           2404            0.01            0.09            0.00            1.00
                                                       indOppInf                  2404            0.00            0.06            0.00            1.00
                                                       indPsoriasis               2404            0.01            0.12            0.00            1.00
                                                       indPSA                     2404            0.02            0.15            0.00            1.00
                                                       indRestrictLungDis         2404            0.00            0.06            0.00            1.00
                                                       indSolidCa                 2404            0.01            0.12            0.00            1.00
                                                       indSpinalCordComp          2404            0.00            0.03            0.00            1.00
                                                       indUlcerColitis            2404            0.01            0.08            0.00            1.00
                                                       indUveitis                 2404            0.03            0.17            0.00            1.00
                                                       indDiabetes                2404            0.19            0.39            0.00            1.00
                                                       indHT                      2404            0.46            0.50            0.00            1.00
                                                       indMetabSyn                2404            0.02            0.12            0.00            1.00
                                                       indNAFattyLiverDis         2404            0.01            0.11            0.00            1.00
                                                       indCOPDEmphysema           2404            0.12            0.32            0.00            1.00
                                                       charlson                   2404            0.22            0.69            0.00           10.00
                                                       quartileCharlson           2404            1.27            0.68            1.00            3.00
                                                       ciras                      2404            3.30            1.05            1.13            6.17
                                                       indInflamMarker            2404            0.00            0.00            0.00            0.00
                                                       indRxNSAID                 2404            0.43            0.50            0.00            1.00
                                                       indRxHtn                   2404            0.17            0.38            0.00            1.00
                                                       indRxNarcotics             2404            0.30            0.46            0.00            1.00
                                                       indRxFungus                2404            0.02            0.16            0.00            1.00
                                                       indRxOP_bisphosp           2404            0.03            0.16            0.00            1.00
                                                       indRxThiazide              2404            0.05            0.22            0.00            1.00
                                                       indRxAnticoagulant         2404            0.02            0.13            0.00            1.00
                                                       indRxAntibiotics           2404            0.37            0.48            0.00            1.00
                                                       indIPAdmit12mPrior         2404            0.04            0.20            0.00            1.00
                                                       indAVRheum12mPrior         2404            0.96            0.21            0.00            1.00
                                                       indERVisit12mPrior         2404            0.25            0.43            0.00            1.00
                                                       indRxBiologics             2404            0.08            0.27            0.00            1.00
                                                       indOutpatientInfection     2404            0.69            0.46            0.00            1.00

              TNF                               994    indAmyloidosis              994            0.00            0.03            0.00            1.00
                                                       indAortInsuffRegurg         994            0.01            0.11            0.00            1.00
                                                       indApicalPulmFib            994            0.00            0.00            0.00            0.00
                                                       indCaudaEquina              994            0.00            0.00            0.00            0.00
                                                       indVertFrac                 994            0.01            0.09            0.00            1.00
                                                       indConductBlock             994            0.00            0.06            0.00            1.00
                                                       indCrohnsDis                994            0.07            0.25            0.00            1.00
                                                       indHematCa                  994            0.00            0.06            0.00            1.00
                                                       indHospInf                  994            0.00            0.06            0.00            1.00
                                                       indIgANeph                  994            0.00            0.05            0.00            1.00
                                                       indInterstLungDis           994            0.00            0.00            0.00            0.00
                                                       indMI                       994            0.00            0.03            0.00            1.00
                                                       indNephSyn                  994            0.00            0.00            0.00            0.00
                                                       indNMSC                     994            0.00            0.00            0.00            0.00
                                                       indNonVertOsFrac            994            0.01            0.10            0.00            1.00
                                                       indOppInf                   994            0.01            0.11            0.00            1.00
                                                       indPsoriasis                994            0.03            0.17            0.00            1.00
                                                       indPSA                      994            0.07            0.26            0.00            1.00
                                                       indRestrictLungDis          994            0.01            0.08            0.00            1.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018   2

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD          TNF                               994    indSolidCa                  994            0.02            0.13            0.00            1.00
                                                       indSpinalCordComp           994            0.00            0.00            0.00            0.00
                                                       indUlcerColitis             994            0.03            0.17            0.00            1.00
                                                       indUveitis                  994            0.06            0.23            0.00            1.00
                                                       indDiabetes                 994            0.09            0.29            0.00            1.00
                                                       indHT                       994            0.34            0.47            0.00            1.00
                                                       indMetabSyn                 994            0.01            0.10            0.00            1.00
                                                       indNAFattyLiverDis          994            0.02            0.15            0.00            1.00
                                                       indCOPDEmphysema            994            0.05            0.23            0.00            1.00
                                                       charlson                    994            0.51            1.20            0.00           10.00
                                                       quartileCharlson            994            1.48            0.85            1.00            3.00
                                                       ciras                       994            3.83            0.85            1.13            6.08
                                                       indInflamMarker             994            0.00            0.00            0.00            0.00
                                                       indRxNSAID                  994            0.30            0.46            0.00            1.00
                                                       indRxHtn                    994            0.18            0.39            0.00            1.00
                                                       indRxNarcotics              994            0.27            0.45            0.00            1.00
                                                       indRxFungus                 994            0.03            0.16            0.00            1.00
                                                       indRxOP_bisphosp            994            0.04            0.18            0.00            1.00
                                                       indRxThiazide               994            0.06            0.23            0.00            1.00
                                                       indRxAnticoagulant          994            0.03            0.16            0.00            1.00
                                                       indRxAntibiotics            994            0.31            0.46            0.00            1.00
                                                       indIPAdmit12mPrior          994            0.02            0.14            0.00            1.00
                                                       indAVRheum12mPrior          994            0.98            0.15            0.00            1.00
                                                       indERVisit12mPrior          994            0.21            0.41            0.00            1.00
                                                       indRxBiologics              994            0.37            0.48            0.00            1.00
                                                       indOutpatientInfection      994            0.68            0.47            0.00            1.00

Marketscan    DMARD, NSAID, or no exposure     8838    indAmyloidosis             8838            0.00            0.00            0.00            0.00
                                                       indAortInsuffRegurg        8838            0.01            0.08            0.00            1.00
                                                       indApicalPulmFib           8838            0.00            0.00            0.00            0.00
                                                       indCaudaEquina             8838            0.00            0.01            0.00            1.00
                                                       indVertFrac                8838            0.00            0.06            0.00            1.00
                                                       indConductBlock            8838            0.01            0.07            0.00            1.00
                                                       indCrohnsDis               8838            0.02            0.14            0.00            1.00
                                                       indHematCa                 8838            0.00            0.06            0.00            1.00
                                                       indHospInf                 8838            0.02            0.14            0.00            1.00
                                                       indIgANeph                 8838            0.00            0.01            0.00            1.00
                                                       indInterstLungDis          8838            0.00            0.02            0.00            1.00
                                                       indMI                      8838            0.00            0.03            0.00            1.00
                                                       indNephSyn                 8838            0.00            0.00            0.00            0.00
                                                       indNMSC                    8838            0.01            0.07            0.00            1.00
                                                       indNonVertOsFrac           8838            0.01            0.09            0.00            1.00
                                                       indOppInf                  8838            0.01            0.07            0.00            1.00
                                                       indPsoriasis               8838            0.02            0.14            0.00            1.00
                                                       indPSA                     8838            0.03            0.17            0.00            1.00
                                                       indRestrictLungDis         8838            0.01            0.08            0.00            1.00
                                                       indSolidCa                 8838            0.02            0.15            0.00            1.00
                                                       indSpinalCordComp          8838            0.00            0.04            0.00            1.00
                                                       indUlcerColitis            8838            0.01            0.10            0.00            1.00
                                                       indUveitis                 8838            0.03            0.17            0.00            1.00
                                                       indDiabetes                8838            0.14            0.35            0.00            1.00
                                                       indHT                      8838            0.43            0.49            0.00            1.00
                                                       indMetabSyn                8838            0.02            0.13            0.00            1.00
                                                       indNAFattyLiverDis         8838            0.02            0.15            0.00            1.00
                                                       indCOPDEmphysema           8838            0.07            0.26            0.00            1.00
                                                       charlson                   8838            0.45            1.13            0.00           27.00
                                                       quartileCharlson           8838            1.49            0.86            1.00            3.00
                                                       ciras                      8838            3.33            1.00            0.27            8.62
                                                       indInflamMarker            8838            0.00            0.02            0.00            1.00
                                                       indRxNSAID                 8838            0.60            0.49            0.00            1.00
                                                       indRxHtn                   8838            0.29            0.46            0.00            1.00
                                                       indRxNarcotics             8838            0.47            0.50            0.00            1.00
                                                       indRxFungus                8838            0.05            0.23            0.00            1.00
                                                       indRxOP_bisphosp           8838            0.03            0.16            0.00            1.00
                                                       indRxThiazide              8838            0.09            0.29            0.00            1.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018   3

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
Marketscan    DMARD, NSAID, or no exposure     8838    indRxAnticoagulant         8838            0.03            0.16            0.00            1.00
                                                       indRxAntibiotics           8838            0.56            0.50            0.00            1.00
                                                       indIPAdmit12mPrior         8838            0.11            0.31            0.00            1.00
                                                       indAVRheum12mPrior         8838            0.97            0.16            0.00            1.00
                                                       indERVisit12mPrior         8838            0.26            0.44            0.00            1.00
                                                       indRxBiologics             8838            0.10            0.30            0.00            1.00
                                                       indOutpatientInfection     8838            0.76            0.43            0.00            1.00

              TNF                              4768    indAmyloidosis             4768            0.00            0.00            0.00            0.00
                                                       indAortInsuffRegurg        4768            0.01            0.08            0.00            1.00
                                                       indApicalPulmFib           4768            0.00            0.00            0.00            0.00
                                                       indCaudaEquina             4768            0.00            0.00            0.00            0.00
                                                       indVertFrac                4768            0.00            0.05            0.00            1.00
                                                       indConductBlock            4768            0.00            0.07            0.00            1.00
                                                       indCrohnsDis               4768            0.05            0.21            0.00            1.00
                                                       indHematCa                 4768            0.00            0.03            0.00            1.00
                                                       indHospInf                 4768            0.03            0.16            0.00            1.00
                                                       indIgANeph                 4768            0.00            0.03            0.00            1.00
                                                       indInterstLungDis          4768            0.00            0.03            0.00            1.00
                                                       indMI                      4768            0.00            0.04            0.00            1.00
                                                       indNephSyn                 4768            0.00            0.02            0.00            1.00
                                                       indNMSC                    4768            0.01            0.08            0.00            1.00
                                                       indNonVertOsFrac           4768            0.01            0.09            0.00            1.00
                                                       indOppInf                  4768            0.01            0.09            0.00            1.00
                                                       indPsoriasis               4768            0.04            0.19            0.00            1.00
                                                       indPSA                     4768            0.07            0.26            0.00            1.00
                                                       indRestrictLungDis         4768            0.01            0.08            0.00            1.00
                                                       indSolidCa                 4768            0.01            0.12            0.00            1.00
                                                       indSpinalCordComp          4768            0.00            0.03            0.00            1.00
                                                       indUlcerColitis            4768            0.03            0.17            0.00            1.00
                                                       indUveitis                 4768            0.06            0.23            0.00            1.00
                                                       indDiabetes                4768            0.11            0.31            0.00            1.00
                                                       indHT                      4768            0.38            0.49            0.00            1.00
                                                       indMetabSyn                4768            0.01            0.11            0.00            1.00
                                                       indNAFattyLiverDis         4768            0.03            0.18            0.00            1.00
                                                       indCOPDEmphysema           4768            0.05            0.21            0.00            1.00
                                                       charlson                   4768            0.58            1.17            0.00           12.00
                                                       quartileCharlson           4768            1.60            0.92            1.00            3.00
                                                       ciras                      4768            3.58            0.88            0.00            6.10
                                                       indInflamMarker            4768            0.00            0.03            0.00            1.00
                                                       indRxNSAID                 4768            0.46            0.50            0.00            1.00
                                                       indRxHtn                   4768            0.35            0.48            0.00            1.00
                                                       indRxNarcotics             4768            0.48            0.50            0.00            1.00
                                                       indRxFungus                4768            0.06            0.23            0.00            1.00
                                                       indRxOP_bisphosp           4768            0.02            0.15            0.00            1.00
                                                       indRxThiazide              4768            0.11            0.32            0.00            1.00
                                                       indRxAnticoagulant         4768            0.04            0.19            0.00            1.00
                                                       indRxAntibiotics           4768            0.53            0.50            0.00            1.00
                                                       indIPAdmit12mPrior         4768            0.11            0.31            0.00            1.00
                                                       indAVRheum12mPrior         4768            0.99            0.08            0.00            1.00
                                                       indERVisit12mPrior         4768            0.26            0.44            0.00            1.00
                                                       indRxBiologics             4768            0.40            0.49            0.00            1.00
                                                       indOutpatientInfection     4768            0.77            0.42            0.00            1.00

Medicare      DMARD, NSAID, or no exposure    14194    indAmyloidosis            14194            0.00            0.02            0.00            1.00
                                                       indAortInsuffRegurg       14194            0.05            0.22            0.00            1.00
                                                       indApicalPulmFib          14194            0.00            0.01            0.00            1.00
                                                       indCaudaEquina            14194            0.00            0.02            0.00            1.00
                                                       indVertFrac               14194            0.04            0.20            0.00            1.00
                                                       indConductBlock           14194            0.04            0.19            0.00            1.00
                                                       indCrohnsDis              14194            0.01            0.10            0.00            1.00
                                                       indHematCa                14194            0.01            0.11            0.00            1.00
                                                       indHospInf                14194            0.12            0.32            0.00            1.00
                                                       indIgANeph                14194            0.00            0.03            0.00            1.00
                                                       indInterstLungDis         14194            0.00            0.07            0.00            1.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018   4

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare      DMARD, NSAID, or no exposure    14194    indMI                     14194            0.01            0.11            0.00            1.00
                                                       indNephSyn                14194            0.00            0.02            0.00            1.00
                                                       indNMSC                   14194            0.02            0.13            0.00            1.00
                                                       indNonVertOsFrac          14194            0.05            0.23            0.00            1.00
                                                       indOppInf                 14194            0.02            0.14            0.00            1.00
                                                       indPsoriasis              14194            0.03            0.17            0.00            1.00
                                                       indPSA                    14194            0.02            0.15            0.00            1.00
                                                       indRestrictLungDis        14194            0.03            0.18            0.00            1.00
                                                       indSolidCa                14194            0.09            0.29            0.00            1.00
                                                       indSpinalCordComp         14194            0.00            0.04            0.00            1.00
                                                       indUlcerColitis           14194            0.01            0.12            0.00            1.00
                                                       indUveitis                14194            0.02            0.12            0.00            1.00
                                                       indDiabetes               14194            0.43            0.49            0.00            1.00
                                                       indHT                     14194            0.93            0.26            0.00            1.00
                                                       indMetabSyn               14194            0.02            0.15            0.00            1.00
                                                       indNAFattyLiverDis        14194            0.04            0.19            0.00            1.00
                                                       indCOPDEmphysema          14194            0.40            0.49            0.00            1.00
                                                       charlson                  14194            0.85            1.39            0.00           12.00
                                                       quartileCharlson          14194            1.62            0.82            1.00            3.00
                                                       ciras                     14194            1.50            0.46            0.00            7.49
                                                       indInflamMarker           14194            0.00            0.02            0.00            1.00
                                                       indRxNSAID                14194            0.51            0.50            0.00            1.00
                                                       indRxHtn                  14194            0.47            0.50            0.00            1.00
                                                       indRxNarcotics            14194            0.60            0.49            0.00            1.00
                                                       indRxFungus               14194            0.07            0.26            0.00            1.00
                                                       indRxOP_bisphosp          14194            0.06            0.24            0.00            1.00
                                                       indRxThiazide             14194            0.14            0.35            0.00            1.00
                                                       indRxAnticoagulant        14194            0.05            0.22            0.00            1.00
                                                       indRxAntibiotics          14194            0.70            0.46            0.00            1.00
                                                       indIPAdmit12mPrior        14194            0.26            0.44            0.00            1.00
                                                       indAVRheum12mPrior        14194            0.89            0.32            0.00            1.00
                                                       indERVisit12mPrior        14194            0.38            0.48            0.00            1.00
                                                       indRxBiologics            14194            0.07            0.26            0.00            1.00
                                                       indOutpatientInfection    14194            0.88            0.32            0.00            1.00

              TNF                              1289    indAmyloidosis             1289            0.00            0.00            0.00            0.00
                                                       indAortInsuffRegurg        1289            0.05            0.23            0.00            1.00
                                                       indApicalPulmFib           1289            0.00            0.00            0.00            0.00
                                                       indCaudaEquina             1289            0.00            0.04            0.00            1.00
                                                       indVertFrac                1289            0.03            0.17            0.00            1.00
                                                       indConductBlock            1289            0.04            0.21            0.00            1.00
                                                       indCrohnsDis               1289            0.05            0.22            0.00            1.00
                                                       indHematCa                 1289            0.01            0.08            0.00            1.00
                                                       indHospInf                 1289            0.10            0.31            0.00            1.00
                                                       indIgANeph                 1289            0.00            0.04            0.00            1.00
                                                       indInterstLungDis          1289            0.01            0.08            0.00            1.00
                                                       indMI                      1289            0.01            0.12            0.00            1.00
                                                       indNephSyn                 1289            0.00            0.00            0.00            0.00
                                                       indNMSC                    1289            0.02            0.14            0.00            1.00
                                                       indNonVertOsFrac           1289            0.05            0.22            0.00            1.00
                                                       indOppInf                  1289            0.04            0.20            0.00            1.00
                                                       indPsoriasis               1289            0.05            0.22            0.00            1.00
                                                       indPSA                     1289            0.10            0.30            0.00            1.00
                                                       indRestrictLungDis         1289            0.04            0.19            0.00            1.00
                                                       indSolidCa                 1289            0.08            0.28            0.00            1.00
                                                       indSpinalCordComp          1289            0.00            0.05            0.00            1.00
                                                       indUlcerColitis            1289            0.04            0.19            0.00            1.00
                                                       indUveitis                 1289            0.05            0.22            0.00            1.00
                                                       indDiabetes                1289            0.40            0.49            0.00            1.00
                                                       indHT                      1289            0.90            0.30            0.00            1.00
                                                       indMetabSyn                1289            0.02            0.16            0.00            1.00
                                                       indNAFattyLiverDis         1289            0.05            0.22            0.00            1.00
                                                       indCOPDEmphysema           1289            0.33            0.47            0.00            1.00
                                                       charlson                   1289            1.76            1.81            0.00           11.00
                                                       quartileCharlson           1289            2.17            0.85            1.00            3.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018   5

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare      TNF                              1289    ciras                      1289            1.75            0.34            0.00            2.21
                                                       indInflamMarker            1289            0.00            0.00            0.00            0.00
                                                       indRxNSAID                 1289            1.00            0.00            1.00            1.00
                                                       indRxHtn                   1289            0.71            0.45            0.00            1.00
                                                       indRxNarcotics             1289            0.67            0.47            0.00            1.00
                                                       indRxFungus                1289            0.06            0.24            0.00            1.00
                                                       indRxOP_bisphosp           1289            0.10            0.30            0.00            1.00
                                                       indRxThiazide              1289            0.18            0.38            0.00            1.00
                                                       indRxAnticoagulant         1289            0.09            0.29            0.00            1.00
                                                       indRxAntibiotics           1289            0.74            0.44            0.00            1.00
                                                       indIPAdmit12mPrior         1289            0.24            0.43            0.00            1.00
                                                       indAVRheum12mPrior         1289            0.99            0.10            0.00            1.00
                                                       indERVisit12mPrior         1289            0.33            0.47            0.00            1.00
                                                       indRxBiologics             1289            0.33            0.47            0.00            1.00
                                                       indOutpatientInfection     1289            0.90            0.30            0.00            1.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 32487 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The PROCEDURE MEANS printed pages 1-5.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.32 seconds
      cpu time            1.03 seconds
      

350        proc freq data = Work.allCovariates;
351          table database * exposure2 * (meanPredEqDoseCat quartileCharlson quartileCIRAS quartileIPAdmits12mPrior quartileAVPhys12mPrior
351      ! quartileAVRheum12mPrior catERVisits) / list;
352        run;

                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018   6

                                                                  The FREQ Procedure

                                                                                                                Cumulative    Cumulative
              database      exposure2                       meanPredEqDoseCat          Frequency     Percent     Frequency      Percent
              --------------------------------------------------------------------------------------------------------------------------
              MPCD          DMARD, NSAID, or no exposure    High (10+ mg/d)                  10        0.03            10         0.03  
              MPCD          DMARD, NSAID, or no exposure    Low (<2.5 mg/d)                 458        1.41           468         1.44  
              MPCD          DMARD, NSAID, or no exposure    Medium-High (5-10 mg/d)          20        0.06           488         1.50  
              MPCD          DMARD, NSAID, or no exposure    Medium-Low (2.5-5 mg/d)          51        0.16           539         1.66  
              MPCD          DMARD, NSAID, or no exposure    None                           1865        5.74          2404         7.40  
              MPCD          TNF                             High (10+ mg/d)                   5        0.02          2409         7.42  
              MPCD          TNF                             Low (<2.5 mg/d)                 300        0.92          2709         8.34  
              MPCD          TNF                             Medium-High (5-10 mg/d)          20        0.06          2729         8.40  
              MPCD          TNF                             Medium-Low (2.5-5 mg/d)          64        0.20          2793         8.60  
              MPCD          TNF                             None                            605        1.86          3398        10.46  
              Marketscan    DMARD, NSAID, or no exposure    High (10+ mg/d)                  12        0.04          3410        10.50  
              Marketscan    DMARD, NSAID, or no exposure    Low (<2.5 mg/d)                2188        6.74          5598        17.23  
              Marketscan    DMARD, NSAID, or no exposure    Medium-High (5-10 mg/d)         105        0.32          5703        17.55  
              Marketscan    DMARD, NSAID, or no exposure    Medium-Low (2.5-5 mg/d)         253        0.78          5956        18.33  
              Marketscan    DMARD, NSAID, or no exposure    None                           6280       19.33         12236        37.66  
              Marketscan    TNF                             High (10+ mg/d)                  28        0.09         12264        37.75  
              Marketscan    TNF                             Low (<2.5 mg/d)                1574        4.85         13838        42.60  
              Marketscan    TNF                             Medium-High (5-10 mg/d)         139        0.43         13977        43.02  
              Marketscan    TNF                             Medium-Low (2.5-5 mg/d)         326        1.00         14303        44.03  
              Marketscan    TNF                             None                           2701        8.31         17004        52.34  
              Medicare      DMARD, NSAID, or no exposure    High (10+ mg/d)                  45        0.14         17049        52.48  
              Medicare      DMARD, NSAID, or no exposure    Low (<2.5 mg/d)                3111        9.58         20160        62.06  
              Medicare      DMARD, NSAID, or no exposure    Medium-High (5-10 mg/d)         362        1.11         20522        63.17  
              Medicare      DMARD, NSAID, or no exposure    Medium-Low (2.5-5 mg/d)         767        2.36         21289        65.53  
              Medicare      DMARD, NSAID, or no exposure    None                           9909       30.50         31198        96.03  
              Medicare      TNF                             High (10+ mg/d)                   9        0.03         31207        96.06  
              Medicare      TNF                             Low (<2.5 mg/d)                 378        1.16         31585        97.22  
              Medicare      TNF                             Medium-High (5-10 mg/d)          66        0.20         31651        97.43  
              Medicare      TNF                             Medium-Low (2.5-5 mg/d)         136        0.42         31787        97.85  
              Medicare      TNF                             None                            700        2.15         32487       100.00  


                                                                                                            Cumulative    Cumulative
                 database      exposure2                       quartileCharlson    Frequency     Percent     Frequency      Percent
                 -------------------------------------------------------------------------------------------------------------------
                 MPCD          DMARD, NSAID, or no exposure                   1        2085        6.42          2085         6.42  
                 MPCD          DMARD, NSAID, or no exposure                   3         319        0.98          2404         7.40  
                 MPCD          TNF                                            1         757        2.33          3161         9.73  
                 MPCD          TNF                                            3         237        0.73          3398        10.46  
                 Marketscan    DMARD, NSAID, or no exposure                   1        6677       20.55         10075        31.01  
                 Marketscan    DMARD, NSAID, or no exposure                   3        2161        6.65         12236        37.66  
                 Marketscan    TNF                                            1        3342       10.29         15578        47.95  
                 Marketscan    TNF                                            3        1426        4.39         17004        52.34  
                 Medicare      DMARD, NSAID, or no exposure                   1        8454       26.02         25458        78.36  
                 Medicare      DMARD, NSAID, or no exposure                   2        2680        8.25         28138        86.61  
                 Medicare      DMARD, NSAID, or no exposure                   3        3060        9.42         31198        96.03  
                 Medicare      TNF                                            1         373        1.15         31571        97.18  
                 Medicare      TNF                                            2         320        0.99         31891        98.17  
                 Medicare      TNF                                            3         596        1.83         32487       100.00  


                                                                                                           Cumulative    Cumulative
                   database      exposure2                       quartileCIRAS    Frequency     Percent     Frequency      Percent
                   ----------------------------------------------------------------------------------------------------------------
                   MPCD          DMARD, NSAID, or no exposure                0         669        2.06           669         2.06  
                   MPCD          DMARD, NSAID, or no exposure                1         758        2.33          1427         4.39  
                   MPCD          DMARD, NSAID, or no exposure                2         475        1.46          1902         5.85  
                   MPCD          DMARD, NSAID, or no exposure                3         502        1.55          2404         7.40  
                   MPCD          TNF                                         0          82        0.25          2486         7.65  
                   MPCD          TNF                                         1         274        0.84          2760         8.50  
                   MPCD          TNF                                         2         284        0.87          3044         9.37  
                   MPCD          TNF                                         3         354        1.09          3398        10.46  
                   Marketscan    DMARD, NSAID, or no exposure                0        2540        7.82          5938        18.28  
                   Marketscan    DMARD, NSAID, or no exposure                1        2217        6.82          8155        25.10  
                   Marketscan    DMARD, NSAID, or no exposure                2        2028        6.24         10183        31.34  
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018   7

                                                                  The FREQ Procedure

                                                                                                           Cumulative    Cumulative
                   database      exposure2                       quartileCIRAS    Frequency     Percent     Frequency      Percent
                   ----------------------------------------------------------------------------------------------------------------
                   Marketscan    DMARD, NSAID, or no exposure                3        2053        6.32         12236        37.66  
                   Marketscan    TNF                                         0         874        2.69         13110        40.35  
                   Marketscan    TNF                                         1        1117        3.44         14227        43.79  
                   Marketscan    TNF                                         2        1391        4.28         15618        48.07  
                   Marketscan    TNF                                         3        1386        4.27         17004        52.34  
                   Medicare      DMARD, NSAID, or no exposure                0        3899       12.00         20903        64.34  
                   Medicare      DMARD, NSAID, or no exposure                1        3631       11.18         24534        75.52  
                   Medicare      DMARD, NSAID, or no exposure                2        3308       10.18         27842        85.70  
                   Medicare      DMARD, NSAID, or no exposure                3        3356       10.33         31198        96.03  
                   Medicare      TNF                                         0         114        0.35         31312        96.38  
                   Medicare      TNF                                         1         265        0.82         31577        97.20  
                   Medicare      TNF                                         2         371        1.14         31948        98.34  
                   Medicare      TNF                                         3         539        1.66         32487       100.00  


                                                                       quartile                             Cumulative    Cumulative
                 database      exposure2                       IPAdmits12mPrior    Frequency     Percent     Frequency      Percent
                 -------------------------------------------------------------------------------------------------------------------
                 MPCD          DMARD, NSAID, or no exposure                   1        2305        7.10          2305         7.10  
                 MPCD          DMARD, NSAID, or no exposure                   3          99        0.30          2404         7.40  
                 MPCD          TNF                                            1         975        3.00          3379        10.40  
                 MPCD          TNF                                            3          19        0.06          3398        10.46  
                 Marketscan    DMARD, NSAID, or no exposure                   1        7907       24.34         11305        34.80  
                 Marketscan    DMARD, NSAID, or no exposure                   3         931        2.87         12236        37.66  
                 Marketscan    TNF                                            1        4261       13.12         16497        50.78  
                 Marketscan    TNF                                            3         507        1.56         17004        52.34  
                 Medicare      DMARD, NSAID, or no exposure                   1       10533       32.42         27537        84.76  
                 Medicare      DMARD, NSAID, or no exposure                   3        3661       11.27         31198        96.03  
                 Medicare      TNF                                            1         975        3.00         32173        99.03  
                 Medicare      TNF                                            3         314        0.97         32487       100.00  


                                                                       quartile                             Cumulative    Cumulative
                 database      exposure2                         AVPhys12mPrior    Frequency     Percent     Frequency      Percent
                 -------------------------------------------------------------------------------------------------------------------
                 MPCD          DMARD, NSAID, or no exposure                   0         672        2.07           672         2.07  
                 MPCD          DMARD, NSAID, or no exposure                   1         494        1.52          1166         3.59  
                 MPCD          DMARD, NSAID, or no exposure                   2         661        2.03          1827         5.62  
                 MPCD          DMARD, NSAID, or no exposure                   3         577        1.78          2404         7.40  
                 MPCD          TNF                                            0         244        0.75          2648         8.15  
                 MPCD          TNF                                            1         187        0.58          2835         8.73  
                 MPCD          TNF                                            2         314        0.97          3149         9.69  
                 MPCD          TNF                                            3         249        0.77          3398        10.46  
                 Marketscan    DMARD, NSAID, or no exposure                   0        2744        8.45          6142        18.91  
                 Marketscan    DMARD, NSAID, or no exposure                   1        1806        5.56          7948        24.47  
                 Marketscan    DMARD, NSAID, or no exposure                   2        2073        6.38         10021        30.85  
                 Marketscan    DMARD, NSAID, or no exposure                   3        2215        6.82         12236        37.66  
                 Marketscan    TNF                                            0        1114        3.43         13350        41.09  
                 Marketscan    TNF                                            1         998        3.07         14348        44.17  
                 Marketscan    TNF                                            2        1280        3.94         15628        48.11  
                 Marketscan    TNF                                            3        1376        4.24         17004        52.34  
                 Medicare      DMARD, NSAID, or no exposure                   0        3400       10.47         20404        62.81  
                 Medicare      DMARD, NSAID, or no exposure                   1        3678       11.32         24082        74.13  
                 Medicare      DMARD, NSAID, or no exposure                   2        3630       11.17         27712        85.30  
                 Medicare      DMARD, NSAID, or no exposure                   3        3486       10.73         31198        96.03  
                 Medicare      TNF                                            0         235        0.72         31433        96.76  
                 Medicare      TNF                                            1         378        1.16         31811        97.92  
                 Medicare      TNF                                            2         357        1.10         32168        99.02  
                 Medicare      TNF                                            3         319        0.98         32487       100.00  
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018   8

                                                                  The FREQ Procedure

                                                                       quartile                             Cumulative    Cumulative
                 database      exposure2                        AVRheum12mPrior    Frequency     Percent     Frequency      Percent
                 -------------------------------------------------------------------------------------------------------------------
                 MPCD          DMARD, NSAID, or no exposure                   0         243        0.75           243         0.75  
                 MPCD          DMARD, NSAID, or no exposure                   1        1153        3.55          1396         4.30  
                 MPCD          DMARD, NSAID, or no exposure                   2         469        1.44          1865         5.74  
                 MPCD          DMARD, NSAID, or no exposure                   3         539        1.66          2404         7.40  
                 MPCD          TNF                                            0          78        0.24          2482         7.64  
                 MPCD          TNF                                            1         279        0.86          2761         8.50  
                 MPCD          TNF                                            2         254        0.78          3015         9.28  
                 MPCD          TNF                                            3         383        1.18          3398        10.46  
                 Marketscan    DMARD, NSAID, or no exposure                   0        2245        6.91          5643        17.37  
                 Marketscan    DMARD, NSAID, or no exposure                   1        2387        7.35          8030        24.72  
                 Marketscan    DMARD, NSAID, or no exposure                   2        2035        6.26         10065        30.98  
                 Marketscan    DMARD, NSAID, or no exposure                   3        2171        6.68         12236        37.66  
                 Marketscan    TNF                                            0         818        2.52         13054        40.18  
                 Marketscan    TNF                                            1        1303        4.01         14357        44.19  
                 Marketscan    TNF                                            2        1274        3.92         15631        48.11  
                 Marketscan    TNF                                            3        1373        4.23         17004        52.34  
                 Medicare      DMARD, NSAID, or no exposure                   0        4684       14.42         21688        66.76  
                 Medicare      DMARD, NSAID, or no exposure                   1        2261        6.96         23949        73.72  
                 Medicare      DMARD, NSAID, or no exposure                   2        4262       13.12         28211        86.84  
                 Medicare      DMARD, NSAID, or no exposure                   3        2987        9.19         31198        96.03  
                 Medicare      TNF                                            0         166        0.51         31364        96.54  
                 Medicare      TNF                                            1         186        0.57         31550        97.12  
                 Medicare      TNF                                            2         485        1.49         32035        98.61  
                 Medicare      TNF                                            3         452        1.39         32487       100.00  


                                                                                                          Cumulative    Cumulative
                    database      exposure2                       catERVisits    Frequency     Percent     Frequency      Percent
                    --------------------------------------------------------------------------------------------------------------
                    MPCD          DMARD, NSAID, or no exposure    0                  1813        5.58          1813         5.58  
                    MPCD          DMARD, NSAID, or no exposure    1                   410        1.26          2223         6.84  
                    MPCD          DMARD, NSAID, or no exposure    2+                  181        0.56          2404         7.40  
                    MPCD          TNF                             0                   784        2.41          3188         9.81  
                    MPCD          TNF                             1                   146        0.45          3334        10.26  
                    MPCD          TNF                             2+                   64        0.20          3398        10.46  
                    Marketscan    DMARD, NSAID, or no exposure    0                  6578       20.25          9976        30.71  
                    Marketscan    DMARD, NSAID, or no exposure    1                  1448        4.46         11424        35.16  
                    Marketscan    DMARD, NSAID, or no exposure    2+                  812        2.50         12236        37.66  
                    Marketscan    TNF                             0                  3505       10.79         15741        48.45  
                    Marketscan    TNF                             1                   815        2.51         16556        50.96  
                    Marketscan    TNF                             2+                  448        1.38         17004        52.34  
                    Medicare      DMARD, NSAID, or no exposure    0                  8861       27.28         25865        79.62  
                    Medicare      DMARD, NSAID, or no exposure    1                  3009        9.26         28874        88.88  
                    Medicare      DMARD, NSAID, or no exposure    2+                 2324        7.15         31198        96.03  
                    Medicare      TNF                             0                   858        2.64         32056        98.67  
                    Medicare      TNF                             1                   266        0.82         32322        99.49  
                    Medicare      TNF                             2+                  165        0.51         32487       100.00  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 32487 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The PROCEDURE FREQ printed pages 6-8.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.09 seconds
      cpu time            0.35 seconds
      

353        proc sql;
354          select database,
355                 catAge,
356                 min(age) as min,
357                 mean(age) as mean,
358                 max(age) as max,
359                 count(*) as n,
360                 sum(exposure2 = "TNF") as nTNF,
361                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
362            from Work.AllCovariates
363            group by database, catAge;
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018   9

                                                                                                                  n
                                              cat                                                      DMARDNSAIDNo
                                  database    Age         min      mean       max         n      nTNF           Exp
                                  ---------------------------------------------------------------------------------
                                  MPCD        1-18          5  12.78146        15       151        56            95
                                  MPCD        19-29        20  23.27759        25       299       113           186
                                  MPCD        30-39        30  32.64555        35       584       234           350
                                  MPCD        40-49        40  42.61446        45       830       313           517
                                  MPCD        50-59        50  52.51596        55       783       196           587
                                  MPCD        60-69        60  62.07143        65       490        71           419
                                  MPCD        70+          70   73.7931        80       261        11           250
                                  Marketscan  1-18          6  15.29194        18       459       169           290
                                  Marketscan  19-29        19  24.66172        29      1481       595           886
                                  Marketscan  30-39        30  34.80451        39      2486      1003          1483
                                  Marketscan  40-49        40  44.61276        49      3339      1348          1991
                                  Marketscan  50-59        50  54.40939        59      3642      1190          2452
                                  Marketscan  60-69        60  63.09502        69      1547       372          1175
                                  Marketscan  70+          70  77.04908       100       652        91           561
                                  Medicare    60-69        65  67.13916        69      4477       587          3890
                                  Medicare    70+          70  77.47547       100     11006       702         10304
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
364          select database,
365                 quartileCharlson,
366                 min(charlson) as min,
367                 mean(charlson) as mean,
368                 max(charlson) as max,
369                 count(*) as n,
370                 sum(exposure2 = "TNF") as nTNF,
371                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
372            from Work.AllCovariates
6                                                                   The SAS System                                         12:40 Friday, June 22, 2018

373            group by database, quartileCharlson;
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  10

                                             Rank for                                                               n
                                             Variable                                                    DMARDNSAIDNo
                                 database    charlson       min      mean       max         n      nTNF           Exp
                                 ------------------------------------------------------------------------------------
                                 MPCD               1         0         0         0      2842       757          2085
                                 MPCD               3         1  1.852518        10       556       237           319
                                 Marketscan         1         0         0         0     10019      3342          6677
                                 Marketscan         3         1  1.873432        27      3587      1426          2161
                                 Medicare           1         0         0         0      8827       373          8454
                                 Medicare           2         1         1         1      3000       320          2680
                                 Medicare           3         2  3.102845        12      3656       596          3060
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
374          select database,
375                 quartileCIRAS,
376                 min(ciras) as min,
377                 mean(ciras) as mean,
378                 max(ciras) as max,
379                 count(*) as n,
380                 sum(exposure2 = "TNF") as nTNF,
381                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
382            from Work.AllCovariates
383            group by database, quartileCIRAS;
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  11

                                             Rank for                                                               n
                                             Variable                                                    DMARDNSAIDNo
                                 database       ciras       min      mean       max         n      nTNF           Exp
                                 ------------------------------------------------------------------------------------
                                 MPCD               0     1.128  2.081744      2.54       751        82           669
                                 MPCD               1     2.778  3.089448     3.438      1032       274           758
                                 MPCD               2      3.53  3.810922     4.098       759       284           475
                                 MPCD               3      4.19  4.784743      6.17       856       354           502
                                 Marketscan         0         0  2.232663     2.738      3414       874          2540
                                 Marketscan         1     2.778  3.046014     3.332      3334      1117          2217
                                 Marketscan         2     3.372  3.695231     4.058      3419      1391          2028
                                 Marketscan         3     4.098  4.672645     8.622      3439      1386          2053
                                 Medicare           0         0  0.897546     1.194      4013       114          3899
                                 Medicare           1      1.22  1.422765      1.59      3896       265          3631
                                 Medicare           2     1.616  1.756409      1.88      3679       371          3308
                                 Medicare           3      1.92  2.038927     7.486      3895       539          3356
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
384          select database,
385                 quartileIPAdmits12mPrior,
386                 min(countIPAdmits12mPrior) as min,
387                 mean(countIPAdmits12mPrior) as mean,
388                 max(countIPAdmits12mPrior) as max,
389                 count(*) as n,
390                 sum(exposure2 = "TNF") as nTNF,
391                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
392            from Work.AllCovariates
393            group by database, quartileIPAdmits12mPrior;
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  12

                                               Rank for
                                               Variable
                                                  count                                                               n
                                            IPAdmits12m                                                    DMARDNSAIDNo
                               database           Prior       min      mean       max         n      nTNF           Exp
                               ----------------------------------------------------------------------------------------
                               MPCD                   1         0         0         0      3280       975          2305
                               MPCD                   3         1  1.466102         6       118        19            99
                               Marketscan             1         0         0         0     12168      4261          7907
                               Marketscan             3         1  1.290682         8      1438       507           931
                               Medicare               1         0         0         0     11508       975         10533
                               Medicare               3         1  1.627421        14      3975       314          3661
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
394          select database,
395                 quartileAVPhys12mPrior,
396                 min(countAVPhys12mPrior) as min,
397                 mean(countAVPhys12mPrior) as mean,
398                 max(countAVPhys12mPrior) as max,
399                 count(*) as n,
400                 sum(exposure2 = "TNF") as nTNF,
401                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
402            from Work.AllCovariates
403            group by database, quartileAVPhys12mPrior;
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  13

                                               Rank for
                                               Variable
                                                  count                                                               n
                                              AVPhys12m                                                    DMARDNSAIDNo
                               database           Prior       min      mean       max         n      nTNF           Exp
                               ----------------------------------------------------------------------------------------
                               MPCD                   0         0  4.408297         6       916       244           672
                               MPCD                   1         7  7.970631         9       681       187           494
                               MPCD                   2        10  12.18154        15       975       314           661
                               MPCD                   3        16  22.74092        71       826       249           577
                               Marketscan             0         0   4.32478         6      3858      1114          2744
                               Marketscan             1         7  7.999287         9      2804       998          1806
                               Marketscan             2        10  11.79153        14      3353      1280          2073
                               Marketscan             3        15   22.1501        93      3591      1376          2215
                               Medicare               0         0  7.167813        10      3635       235          3400
                               Medicare               1        11  13.48669        16      4056       378          3678
                               Medicare               2        17   20.2463        24      3987       357          3630
                               Medicare               3        25  34.95427       130      3805       319          3486
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
404          select database,
405                 quartileAVRheum12mPrior,
406                 min(countAVRheum12mPrior) as min,
407                 mean(countAVRheum12mPrior) as mean,
408                 max(countAVRheum12mPrior) as max,
409                 count(*) as n,
410                 sum(exposure2 = "TNF") as nTNF,
411                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
412            from Work.AllCovariates
413            group by database, quartileAVRheum12mPrior;
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  14

                                               Rank for
                                               Variable
                                                  count                                                               n
                                             AVRheum12m                                                    DMARDNSAIDNo
                               database           Prior       min      mean       max         n      nTNF           Exp
                               ----------------------------------------------------------------------------------------
                               MPCD                   0         0  0.598131         1       321        78           243
                               MPCD                   1         2         2         2      1432       279          1153
                               MPCD                   2         3         3         3       723       254           469
                               MPCD                   3         4  5.250542        16       922       383           539
                               Marketscan             0         0   3.47633         5      3063       818          2245
                               Marketscan             1         6  7.494851         9      3690      1303          2387
                               Marketscan             2        10  11.79692        14      3309      1274          2035
                               Marketscan             3        15  22.15519        93      3544      1373          2171
                               Medicare               0         0  1.194845         2      4850       166          4684
                               Medicare               1         3         3         3      2447       186          2261
                               Medicare               2         4  4.815041         6      4747       485          4262
                               Medicare               3         7  10.34283        63      3439       452          2987
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
414        quit;
NOTE: The PROCEDURE SQL printed pages 9-14.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.70 seconds
      cpu time            0.74 seconds
      

415        
416        
417        /*
418        Fit 2-level model
419        2 levels of treatment exposure: TNF vs DMARD, NSAID, or no exposure
420        
421        Fit separate models for each data source: MPCD, Marketscan, Medicare
422        
423        Some parameters blow up; exlude these from the model estimation
424         */
425        %let class = catAge (ref = "70+")
426                     sex (ref = "M")
427                     meanPredEqDoseCat (ref = "None")
428                     quartileCharlson (ref = first)
429                     quartileCIRAS (ref = first)
430                     quartileAVPhys12mPrior (ref = first)
431                     quartileAVRheum12mPrior (ref = first)
432                     / param = ref;
433        
434        
435        %let db = MPCD;
436        proc logistic data = Work.allCovariates outest = Work.psBetas2Level;
437          where database = "&db";
438          class &class;
7                                                                   The SAS System                                         12:40 Friday, June 22, 2018

439          model exposure2 (event = "TNF") =
440                catAge
441                sex
442                /* indAmyloidosis */
443                indAortInsuffRegurg
444                /* indApicalPulmFib */
445                /* indCaudaEquina */
446                indVertFrac
447                /* indConductBlock */
448                indCrohnsDis
449                indHematCa
450                indHospInf
451                indIgANeph
452                /* indInterstLungDis */
453                /* indMI */
454                /* indNephSyn */
455                /* indNMSC */
456                indNonVertOsFrac
457                indOppInf
458                indPsoriasis
459                indPSA
460                indRestrictLungDis
461                indSolidCa
462                /* indSpinalCordComp */
463                indUlcerColitis
464                indUveitis
465                indDiabetes
466                indHT
467                indMetabSyn
468                indNAFattyLiverDis
469                indCOPDEmphysema
470                meanPredEqDoseCat
471                quartileCharlson
472                indInflamMarker
473                indRxNSAID
474                indRxHtn
475                indRxNarcotics
476                indRxFungus
477                indRxOP_bisphosp
478                indRxThiazide
479                indRxAnticoagulant
480                indRxAntibiotics
481                countIPAdmits12mPrior
482                indERVisit12mPrior
483                countAVRheum12mPrior
484                indRxBiologics
485                indOutpatientInfection
486                / link = logit rsquare;
487          output out = Work.ps2Level predicted = ps xbeta = xbeta;
488        run;

                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  15

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure2         
                                                   Number of Response Levels     2                 
                                                   Model                         binary logit      
                                                   Optimization Technique        Fisher's scoring  


                                                       Number of Observations Read        3398
                                                       Number of Observations Used        3398


                                                                   Response Profile
 
                                                Ordered                                          Total
                                                  Value     exposure2                        Frequency

                                                      1     DMARD, NSAID, or no exposure          2404
                                                      2     TNF                                    994

                                                       Probability modeled is exposure2='TNF'.
NOTE: PROC LOGISTIC is modeling the probability that exposure2='TNF'.


                                                               Class Level Information
 
                               Class                 Value                                  Design Variables

                               catAge                1-18                         1      0      0      0      0      0
                                                     19-29                        0      1      0      0      0      0
                                                     30-39                        0      0      1      0      0      0
                                                     40-49                        0      0      0      1      0      0
                                                     50-59                        0      0      0      0      1      0
                                                     60-69                        0      0      0      0      0      1
                                                     70+                          0      0      0      0      0      0

                               SEX                   F                            1                                   
                                                     M                            0                                   

                               meanPredEqDoseCat     High (10+ mg/d)              1      0      0      0              
                                                     Low (<2.5 mg/d)              0      1      0      0              
                                                     Medium-High (5-10 mg/d)      0      0      1      0              
                                                     Medium-Low (2.5-5 mg/d)      0      0      0      1              
                                                     None                         0      0      0      0              

                               quartileCharlson      1                            0                                   
                                                     3                            1                                   


                                                               Model Convergence Status

                                                    Convergence criterion (GCONV=1E-8) satisfied.          
NOTE: Convergence criterion (GCONV=1E-8) satisfied.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC            4109.483       3215.914
                                                        SC             4115.614       3491.807
                                                        -2 Log L       4107.483       3125.914


                                                R-Square    0.2509    Max-rescaled R-Square    0.3577
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  16

                                                                The LOGISTIC Procedure

                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio       981.5684       44         <.0001
                                               Score                  902.1756       44         <.0001
                                               Wald                   630.1890       44         <.0001


                                                              Type 3 Analysis of Effects
 
                                                                                     Wald
                                               Effect                    DF    Chi-Square    Pr > ChiSq

                                               catAge                     6       92.6867        <.0001
                                               SEX                        1       45.7990        <.0001
                                               indAortInsuffRegurg        1        4.6574        0.0309
                                               indVertFrac                1        6.3844        0.0115
                                               indCrohnsDis               1       32.5946        <.0001
                                               indHematCa                 1        0.3598        0.5486
                                               indHospInf                 1        2.0109        0.1562
                                               indIgANeph                 1        0.0942        0.7589
                                               indNonVertOsFrac           1        0.0080        0.9286
                                               indOppInf                  1        0.4791        0.4888
                                               indPsoriasis               1        1.6047        0.2052
                                               indPSA                     1        3.7619        0.0524
                                               indRestrictLungDis         1        0.6600        0.4166
                                               indSolidCa                 1        0.0132        0.9085
                                               indUlcerColitis            1        8.3482        0.0039
                                               indUveitis                 1        2.3769        0.1231
                                               indDiabetes                1        0.3655        0.5455
                                               indHT                      1        0.0504        0.8224
                                               indMetabSyn                1        0.7649        0.3818
                                               indNAFattyLiverDis         1        1.9239        0.1654
                                               indCOPDEmphysema           1        3.8740        0.0490
                                               meanPredEqDoseCat          4       38.5040        <.0001
                                               quartileCharlson           1       45.5756        <.0001
                                               indInflamMarker            0                            
                                               indRxNSAID                 1       30.1886        <.0001
                                               indRxHtn                   1        0.0722        0.7882
                                               indRxNarcotics             1        2.7023        0.1002
                                               indRxFungus                1        0.0287        0.8654
                                               indRxOP_bisphosp           1        1.3593        0.2437
                                               indRxThiazide              1        0.4176        0.5181
                                               indRxAnticoagulant         1        2.1639        0.1413
                                               indRxAntibiotics           1        3.8928        0.0485
                                               countIPAdmits12mPrio       1        1.0205        0.3124
                                               indERVisit12mPrior         1       14.3020        0.0002
                                               countAVRheum12mPrior       1       96.0925        <.0001
                                               indRxBiologics             1      210.8981        <.0001
                                               indOutpatientInfecti       1        0.1251        0.7235


             NOTE: The following parameters have been set to 0, since the variables are a linear combination of other variables as shown.


                                                                 indInflamMarker =  0


 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  17

                                                                The LOGISTIC Procedure

                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                        Parameter                                       DF    Estimate       Error    Chi-Square    Pr > ChiSq

                        Intercept                                        1     -3.5736      0.3671       94.7519        <.0001
                        catAge               1-18                        1      2.2581      0.3994       31.9646        <.0001
                        catAge               19-29                       1      2.3887      0.3714       41.3757        <.0001
                        catAge               30-39                       1      2.3168      0.3575       41.9847        <.0001
                        catAge               40-49                       1      2.1931      0.3498       39.3136        <.0001
                        catAge               50-59                       1      1.5969      0.3498       20.8475        <.0001
                        catAge               60-69                       1      1.0775      0.3618        8.8688        0.0029
                        SEX                  F                           1     -0.6310      0.0932       45.7990        <.0001
                        indAortInsuffRegurg                              1      1.3400      0.6209        4.6574        0.0309
                        indVertFrac                                      1      2.3105      0.9144        6.3844        0.0115
                        indCrohnsDis                                     1      1.5659      0.2743       32.5946        <.0001
                        indHematCa                                       1     -0.8116      1.3530        0.3598        0.5486
                        indHospInf                                       1      1.2663      0.8930        2.0109        0.1562
                        indIgANeph                                       1     -0.3122      1.0171        0.0942        0.7589
                        indNonVertOsFrac                                 1     -0.0535      0.5975        0.0080        0.9286
                        indOppInf                                        1      0.3952      0.5710        0.4791        0.4888
                        indPsoriasis                                     1      0.4163      0.3287        1.6047        0.2052
                        indPSA                                           1      0.4514      0.2328        3.7619        0.0524
                        indRestrictLungDis                               1      0.5461      0.6722        0.6600        0.4166
                        indSolidCa                                       1     -0.0469      0.4081        0.0132        0.9085
                        indUlcerColitis                                  1      1.0716      0.3709        8.3482        0.0039
                        indUveitis                                       1      0.3416      0.2216        2.3769        0.1231
                        indDiabetes                                      1     -0.0947      0.1566        0.3655        0.5455
                        indHT                                            1      0.0250      0.1113        0.0504        0.8224
                        indMetabSyn                                      1     -0.3810      0.4356        0.7649        0.3818
                        indNAFattyLiverDis                               1      0.4892      0.3527        1.9239        0.1654
                        indCOPDEmphysema                                 1     -0.3767      0.1914        3.8740        0.0490
                        meanPredEqDoseCat    High (10+ mg/d)             1     -1.3407      0.7733        3.0062        0.0829
                        meanPredEqDoseCat    Low (<2.5 mg/d)             1      0.4361      0.1043       17.4787        <.0001
                        meanPredEqDoseCat    Medium-High (5-10 mg/d)     1      1.0432      0.3674        8.0640        0.0045
                        meanPredEqDoseCat    Medium-Low (2.5-5 mg/d)     1      0.9085      0.2370       14.6915        0.0001
                        quartileCharlson     3                           1      0.8712      0.1291       45.5756        <.0001
                        indInflamMarker                                  0           0                                        
                        indRxNSAID                                       1     -0.6771      0.1232       30.1886        <.0001
                        indRxHtn                                         1     -0.0426      0.1585        0.0722        0.7882
                        indRxNarcotics                                   1      0.2195      0.1335        2.7023        0.1002
                        indRxFungus                                      1      0.0513      0.3026        0.0287        0.8654
                        indRxOP_bisphosp                                 1      0.3078      0.2640        1.3593        0.2437
                        indRxThiazide                                    1      0.1526      0.2361        0.4176        0.5181
                        indRxAnticoagulant                               1      0.4627      0.3146        2.1639        0.1413
                        indRxAntibiotics                                 1     -0.2662      0.1349        3.8928        0.0485
                        countIPAdmits12mPrio                             1     -0.2380      0.2356        1.0205        0.3124
                        indERVisit12mPrior                               1     -0.4347      0.1149       14.3020        0.0002
                        countAVRheum12mPrior                             1      0.2586      0.0264       96.0925        <.0001
                        indRxBiologics                                   1      1.6266      0.1120      210.8981        <.0001
                        indOutpatientInfecti                             1     -0.0354      0.1000        0.1251        0.7235


                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               catAge               1-18  vs 70+                          9.565       4.372      20.924
                               catAge               19-29 vs 70+                         10.899       5.264      22.568
                               catAge               30-39 vs 70+                         10.143       5.033      20.441
                               catAge               40-49 vs 70+                          8.963       4.516      17.791
                               catAge               50-59 vs 70+                          4.938       2.488       9.800
                               catAge               60-69 vs 70+                          2.937       1.445       5.969
                               SEX                  F vs M                                0.532       0.443       0.639
                               indAortInsuffRegurg                                        3.819       1.131      12.897
                               indVertFrac                                               10.079       1.679      60.505
                               indCrohnsDis                                               4.787       2.796       8.195
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  18

                                                                The LOGISTIC Procedure

                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               indHematCa                                                 0.444       0.031       6.298
                               indHospInf                                                 3.548       0.616      20.420
                               indIgANeph                                                 0.732       0.100       5.373
                               indNonVertOsFrac                                           0.948       0.294       3.057
                               indOppInf                                                  1.485       0.485       4.547
                               indPsoriasis                                               1.516       0.796       2.888
                               indPSA                                                     1.571       0.995       2.478
                               indRestrictLungDis                                         1.726       0.462       6.447
                               indSolidCa                                                 0.954       0.429       2.123
                               indUlcerColitis                                            2.920       1.412       6.040
                               indUveitis                                                 1.407       0.911       2.172
                               indDiabetes                                                0.910       0.669       1.236
                               indHT                                                      1.025       0.824       1.275
                               indMetabSyn                                                0.683       0.291       1.605
                               indNAFattyLiverDis                                         1.631       0.817       3.256
                               indCOPDEmphysema                                           0.686       0.471       0.998
                               meanPredEqDoseCat    High (10+ mg/d)         vs None       0.262       0.057       1.191
                               meanPredEqDoseCat    Low (<2.5 mg/d)         vs None       1.547       1.261       1.898
                               meanPredEqDoseCat    Medium-High (5-10 mg/d) vs None       2.838       1.382       5.831
                               meanPredEqDoseCat    Medium-Low (2.5-5 mg/d) vs None       2.481       1.559       3.947
                               quartileCharlson     3 vs 1                                2.390       1.856       3.078
                               indRxNSAID                                                 0.508       0.399       0.647
                               indRxHtn                                                   0.958       0.702       1.308
                               indRxNarcotics                                             1.245       0.959       1.618
                               indRxFungus                                                1.053       0.582       1.905
                               indRxOP_bisphosp                                           1.360       0.811       2.282
                               indRxThiazide                                              1.165       0.733       1.850
                               indRxAnticoagulant                                         1.588       0.857       2.943
                               indRxAntibiotics                                           0.766       0.588       0.998
                               countIPAdmits12mPrio                                       0.788       0.497       1.251
                               indERVisit12mPrior                                         0.647       0.517       0.811
                               countAVRheum12mPrior                                       1.295       1.230       1.364
                               indRxBiologics                                             5.086       4.084       6.335
                               indOutpatientInfecti                                       0.965       0.793       1.174


                                            Association of Predicted Probabilities and Observed Responses

                                                 Percent Concordant       81.6    Somers' D    0.633
                                                 Percent Discordant       18.4    Gamma        0.633
                                                 Percent Tied              0.0    Tau-a        0.262
                                                 Pairs                 2389576    c            0.816
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 3398 observations read from the data set WORK.ALLCOVARIATES.
      WHERE database='MPCD';
NOTE: The data set WORK.PSBETAS2LEVEL has 1 observations and 52 variables.
NOTE: The data set WORK.PS2LEVEL has 3398 observations and 68 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 15-18.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           0.78 seconds
      cpu time            0.37 seconds
      

489        proc datasets library = work nolist;
490          change psBetas2Level = psBetas2Level&db
491                 ps2Level = ps2Level&db;
492        run;

NOTE: Changing the name WORK.PSBETAS2LEVEL to WORK.PSBETAS2LEVELMPCD (memtype=DATA).
NOTE: Changing the name WORK.PS2LEVEL to WORK.PS2LEVELMPCD (memtype=DATA).
493        
494        %let db = Marketscan;
8                                                                   The SAS System                                         12:40 Friday, June 22, 2018


NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

495        proc logistic data = Work.allCovariates outest = Work.psBetas2Level;
496          where database = "&db";
497          class &class;
498          model exposure2 (event = "TNF") =
499                catAge
500                sex
501                /* indAmyloidosis */
502                indAortInsuffRegurg
503                /* indApicalPulmFib */
504                /* indCaudaEquina */
505                indVertFrac
506                indConductBlock
507                indCrohnsDis
508                indHematCa
509                indHospInf
510                indIgANeph
511                indInterstLungDis
512                indMI
513                /* indNephSyn */
514                indNMSC
515                indNonVertOsFrac
516                indOppInf
517                indPsoriasis
518                indPSA
519                indRestrictLungDis
520                indSolidCa
521                indSpinalCordComp
522                indUlcerColitis
523                indUveitis
524                indDiabetes
525                indHT
526                indMetabSyn
527                indNAFattyLiverDis
528                indCOPDEmphysema
529                meanPredEqDoseCat
530                quartileCharlson
531                indInflamMarker
532                indRxNSAID
533                indRxHtn
534                indRxNarcotics
535                indRxFungus
536                indRxOP_bisphosp
537                indRxThiazide
538                indRxAnticoagulant
539                indRxAntibiotics
540                countIPAdmits12mPrior
541                indERVisit12mPrior
542                countAVRheum12mPrior
543                indRxBiologics
544                indOutpatientInfection
545                / link = logit rsquare;
546          output out = Work.ps2Level predicted = ps xbeta = xbeta;
547        run;

                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  19

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure2         
                                                   Number of Response Levels     2                 
                                                   Model                         binary logit      
                                                   Optimization Technique        Fisher's scoring  


                                                       Number of Observations Read       13606
                                                       Number of Observations Used       13606


                                                                   Response Profile
 
                                                Ordered                                          Total
                                                  Value     exposure2                        Frequency

                                                      1     DMARD, NSAID, or no exposure          8838
                                                      2     TNF                                   4768

                                                       Probability modeled is exposure2='TNF'.
NOTE: PROC LOGISTIC is modeling the probability that exposure2='TNF'.


                                                               Class Level Information
 
                               Class                 Value                                  Design Variables

                               catAge                1-18                         1      0      0      0      0      0
                                                     19-29                        0      1      0      0      0      0
                                                     30-39                        0      0      1      0      0      0
                                                     40-49                        0      0      0      1      0      0
                                                     50-59                        0      0      0      0      1      0
                                                     60-69                        0      0      0      0      0      1
                                                     70+                          0      0      0      0      0      0

                               SEX                   F                            1                                   
                                                     M                            0                                   

                               meanPredEqDoseCat     High (10+ mg/d)              1      0      0      0              
                                                     Low (<2.5 mg/d)              0      1      0      0              
                                                     Medium-High (5-10 mg/d)      0      0      1      0              
                                                     Medium-Low (2.5-5 mg/d)      0      0      0      1              
                                                     None                         0      0      0      0              

                               quartileCharlson      1                            0                                   
                                                     3                            1                                   


                                                               Model Convergence Status

                                                    Convergence criterion (GCONV=1E-8) satisfied.          
NOTE: Convergence criterion (GCONV=1E-8) satisfied.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC           17627.611      15015.371
                                                        SC            17635.130      15398.803
                                                        -2 Log L      17625.611      14913.371


                                                R-Square    0.1807    Max-rescaled R-Square    0.2489
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  20

                                                                The LOGISTIC Procedure

                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio      2712.2401       50         <.0001
                                               Score                 2603.8927       50         <.0001
                                               Wald                  2086.5524       50         <.0001


                                                              Type 3 Analysis of Effects
 
                                                                                     Wald
                                               Effect                    DF    Chi-Square    Pr > ChiSq

                                               catAge                     6      159.6351        <.0001
                                               SEX                        1       82.3074        <.0001
                                               indAortInsuffRegurg        1        6.1471        0.0132
                                               indVertFrac                1        0.5576        0.4552
                                               indConductBlock            1        0.0792        0.7784
                                               indCrohnsDis               1       13.2763        0.0003
                                               indHematCa                 1        9.1669        0.0025
                                               indHospInf                 1        0.9085        0.3405
                                               indIgANeph                 1        2.3516        0.1252
                                               indInterstLungDis          1        0.5243        0.4690
                                               indMI                      1        0.3840        0.5355
                                               indNMSC                    1        0.7464        0.3876
                                               indNonVertOsFrac           1        3.8315        0.0503
                                               indOppInf                  1        0.1146        0.7349
                                               indPsoriasis               1        0.0698        0.7916
                                               indPSA                     1       41.9134        <.0001
                                               indRestrictLungDis         1        0.6204        0.4309
                                               indSolidCa                 1       26.1631        <.0001
                                               indSpinalCordComp          1        0.6070        0.4359
                                               indUlcerColitis            1       10.4548        0.0012
                                               indUveitis                 1        5.6578        0.0174
                                               indDiabetes                1        4.5728        0.0325
                                               indHT                      1        1.4953        0.2214
                                               indMetabSyn                1        3.0704        0.0797
                                               indNAFattyLiverDis         1        4.5749        0.0324
                                               indCOPDEmphysema           1        7.7161        0.0055
                                               meanPredEqDoseCat          4      209.1247        <.0001
                                               quartileCharlson           1       16.5293        <.0001
                                               indInflamMarker            1        0.0058        0.9392
                                               indRxNSAID                 1      146.5365        <.0001
                                               indRxHtn                   1       19.1278        <.0001
                                               indRxNarcotics             1       11.9687        0.0005
                                               indRxFungus                1        2.7607        0.0966
                                               indRxOP_bisphosp           1        5.9028        0.0151
                                               indRxThiazide              1        1.0677        0.3015
                                               indRxAnticoagulant         1        5.4185        0.0199
                                               indRxAntibiotics           1        1.0186        0.3128
                                               countIPAdmits12mPrio       1        4.8889        0.0270
                                               indERVisit12mPrior         1        6.8287        0.0090
                                               countAVRheum12mPrior       1       62.2483        <.0001
                                               indRxBiologics             1     1176.7714        <.0001
                                               indOutpatientInfecti       1        0.8166        0.3662


 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  21

                                                                The LOGISTIC Procedure

                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                        Parameter                                       DF    Estimate       Error    Chi-Square    Pr > ChiSq

                        Intercept                                        1     -2.1514      0.1439      223.5873        <.0001
                        catAge               1-18                        1      1.2844      0.1674       58.8542        <.0001
                        catAge               19-29                       1      1.3439      0.1423       89.2258        <.0001
                        catAge               30-39                       1      1.2990      0.1359       91.4302        <.0001
                        catAge               40-49                       1      1.2774      0.1322       93.4125        <.0001
                        catAge               50-59                       1      1.0038      0.1303       59.3888        <.0001
                        catAge               60-69                       1      0.6226      0.1386       20.1734        <.0001
                        SEX                  F                           1     -0.3791      0.0418       82.3074        <.0001
                        indAortInsuffRegurg                              1      0.6494      0.2619        6.1471        0.0132
                        indVertFrac                                      1     -0.3020      0.4045        0.5576        0.4552
                        indConductBlock                                  1     -0.0845      0.3005        0.0792        0.7784
                        indCrohnsDis                                     1      0.4442      0.1219       13.2763        0.0003
                        indHematCa                                       1     -1.5502      0.5120        9.1669        0.0025
                        indHospInf                                       1     -0.1462      0.1534        0.9085        0.3405
                        indIgANeph                                       1      1.9838      1.2937        2.3516        0.1252
                        indInterstLungDis                                1      0.7904      1.0915        0.5243        0.4690
                        indMI                                            1      0.3356      0.5415        0.3840        0.5355
                        indNMSC                                          1     -0.2497      0.2891        0.7464        0.3876
                        indNonVertOsFrac                                 1     -0.4849      0.2477        3.8315        0.0503
                        indOppInf                                        1      0.0820      0.2421        0.1146        0.7349
                        indPsoriasis                                     1     -0.0349      0.1321        0.0698        0.7916
                        indPSA                                           1      0.6594      0.1018       41.9134        <.0001
                        indRestrictLungDis                               1     -0.2221      0.2820        0.6204        0.4309
                        indSolidCa                                       1     -0.8730      0.1707       26.1631        <.0001
                        indSpinalCordComp                                1     -0.4802      0.6164        0.6070        0.4359
                        indUlcerColitis                                  1      0.5022      0.1553       10.4548        0.0012
                        indUveitis                                       1      0.2356      0.0991        5.6578        0.0174
                        indDiabetes                                      1     -0.1455      0.0680        4.5728        0.0325
                        indHT                                            1     -0.0584      0.0478        1.4953        0.2214
                        indMetabSyn                                      1     -0.3054      0.1743        3.0704        0.0797
                        indNAFattyLiverDis                               1      0.2699      0.1262        4.5749        0.0324
                        indCOPDEmphysema                                 1     -0.2600      0.0936        7.7161        0.0055
                        meanPredEqDoseCat    High (10+ mg/d)             1      1.4658      0.3910       14.0542        0.0002
                        meanPredEqDoseCat    Low (<2.5 mg/d)             1      0.4258      0.0453       88.4883        <.0001
                        meanPredEqDoseCat    Medium-High (5-10 mg/d)     1      1.0747      0.1479       52.8316        <.0001
                        meanPredEqDoseCat    Medium-Low (2.5-5 mg/d)     1      0.9887      0.0975      102.8694        <.0001
                        quartileCharlson     3                           1      0.1952      0.0480       16.5293        <.0001
                        indInflamMarker                                  1     -0.0614      0.8039        0.0058        0.9392
                        indRxNSAID                                       1     -0.5364      0.0443      146.5365        <.0001
                        indRxHtn                                         1      0.2355      0.0539       19.1278        <.0001
                        indRxNarcotics                                   1      0.1590      0.0459       11.9687        0.0005
                        indRxFungus                                      1      0.1488      0.0895        2.7607        0.0966
                        indRxOP_bisphosp                                 1     -0.3138      0.1291        5.9028        0.0151
                        indRxThiazide                                    1      0.0784      0.0758        1.0677        0.3015
                        indRxAnticoagulant                               1      0.2687      0.1154        5.4185        0.0199
                        indRxAntibiotics                                 1     -0.0471      0.0467        1.0186        0.3128
                        countIPAdmits12mPrio                             1     -0.1122      0.0507        4.8889        0.0270
                        indERVisit12mPrior                               1     -0.1296      0.0496        6.8287        0.0090
                        countAVRheum12mPrior                             1      0.0222     0.00282       62.2483        <.0001
                        indRxBiologics                                   1      1.7000      0.0496     1176.7714        <.0001
                        indOutpatientInfecti                             1     -0.0445      0.0493        0.8166        0.3662


                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               catAge               1-18  vs 70+                          3.613       2.602       5.016
                               catAge               19-29 vs 70+                          3.834       2.901       5.067
                               catAge               30-39 vs 70+                          3.666       2.809       4.784
                               catAge               40-49 vs 70+                          3.587       2.769       4.648
                               catAge               50-59 vs 70+                          2.729       2.114       3.522
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  22

                                                                The LOGISTIC Procedure

                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               catAge               60-69 vs 70+                          1.864       1.420       2.445
                               SEX                  F vs M                                0.684       0.631       0.743
                               indAortInsuffRegurg                                        1.914       1.146       3.199
                               indVertFrac                                                0.739       0.335       1.633
                               indConductBlock                                            0.919       0.510       1.656
                               indCrohnsDis                                               1.559       1.228       1.980
                               indHematCa                                                 0.212       0.078       0.579
                               indHospInf                                                 0.864       0.640       1.167
                               indIgANeph                                                 7.271       0.576      91.781
                               indInterstLungDis                                          2.204       0.260      18.722
                               indMI                                                      1.399       0.484       4.042
                               indNMSC                                                    0.779       0.442       1.373
                               indNonVertOsFrac                                           0.616       0.379       1.001
                               indOppInf                                                  1.085       0.675       1.744
                               indPsoriasis                                               0.966       0.745       1.251
                               indPSA                                                     1.934       1.584       2.361
                               indRestrictLungDis                                         0.801       0.461       1.392
                               indSolidCa                                                 0.418       0.299       0.584
                               indSpinalCordComp                                          0.619       0.185       2.071
                               indUlcerColitis                                            1.652       1.219       2.240
                               indUveitis                                                 1.266       1.042       1.537
                               indDiabetes                                                0.865       0.757       0.988
                               indHT                                                      0.943       0.859       1.036
                               indMetabSyn                                                0.737       0.524       1.037
                               indNAFattyLiverDis                                         1.310       1.023       1.677
                               indCOPDEmphysema                                           0.771       0.642       0.926
                               meanPredEqDoseCat    High (10+ mg/d)         vs None       4.331       2.013       9.320
                               meanPredEqDoseCat    Low (<2.5 mg/d)         vs None       1.531       1.401       1.673
                               meanPredEqDoseCat    Medium-High (5-10 mg/d) vs None       2.929       2.192       3.914
                               meanPredEqDoseCat    Medium-Low (2.5-5 mg/d) vs None       2.688       2.220       3.254
                               quartileCharlson     3 vs 1                                1.216       1.106       1.335
                               indInflamMarker                                            0.940       0.195       4.546
                               indRxNSAID                                                 0.585       0.536       0.638
                               indRxHtn                                                   1.266       1.139       1.406
                               indRxNarcotics                                             1.172       1.071       1.283
                               indRxFungus                                                1.160       0.974       1.383
                               indRxOP_bisphosp                                           0.731       0.567       0.941
                               indRxThiazide                                              1.082       0.932       1.255
                               indRxAnticoagulant                                         1.308       1.043       1.640
                               indRxAntibiotics                                           0.954       0.871       1.045
                               countIPAdmits12mPrio                                       0.894       0.809       0.987
                               indERVisit12mPrior                                         0.878       0.797       0.968
                               countAVRheum12mPrior                                       1.022       1.017       1.028
                               indRxBiologics                                             5.474       4.967       6.032
                               indOutpatientInfecti                                       0.956       0.868       1.053


                                             Association of Predicted Probabilities and Observed Responses

                                                 Percent Concordant        75.8    Somers' D    0.517
                                                 Percent Discordant        24.2    Gamma        0.517
                                                 Percent Tied               0.0    Tau-a        0.235
                                                 Pairs                 42139584    c            0.758
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 13606 observations read from the data set WORK.ALLCOVARIATES.
      WHERE database='Marketscan';
NOTE: The data set WORK.PSBETAS2LEVEL has 1 observations and 57 variables.
NOTE: The data set WORK.PS2LEVEL has 13606 observations and 68 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 19-22.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           0.71 seconds
      cpu time            0.51 seconds
      

9                                                                   The SAS System                                         12:40 Friday, June 22, 2018

548        proc datasets library = work nolist;
549          change psBetas2Level = psBetas2Level&db
550                 ps2Level = ps2Level&db;
551        run;

NOTE: Changing the name WORK.PSBETAS2LEVEL to WORK.PSBETAS2LEVELMARKETSCAN (memtype=DATA).
NOTE: Changing the name WORK.PS2LEVEL to WORK.PS2LEVELMARKETSCAN (memtype=DATA).
552        
553        %let db = Medicare;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

554        proc logistic data = Work.allCovariates outest = Work.psBetas2Level;
555          where database = "&db";
556          class &class;
557          model exposure2 (event = "TNF") =
558                catAge
559                sex
560                indAmyloidosis
561                indAortInsuffRegurg
562                /* indApicalPulmFib */
563                indCaudaEquina
564                indVertFrac
565                indConductBlock
566                indCrohnsDis
567                indHematCa
568                indHospInf
569                indIgANeph
570                indInterstLungDis
571                indMI
572                indNephSyn
573                indNMSC
574                indNonVertOsFrac
575                indOppInf
576                indPsoriasis
577                indPSA
578                indRestrictLungDis
579                indSolidCa
580                indSpinalCordComp
581                indUlcerColitis
582                indUveitis
583                indDiabetes
584                indHT
585                indMetabSyn
586                indNAFattyLiverDis
587                indCOPDEmphysema
588                meanPredEqDoseCat
589                quartileCharlson
590                indInflamMarker
591                indRxNSAID
592                indRxHtn
593                indRxNarcotics
594                indRxFungus
595                indRxOP_bisphosp
596                indRxThiazide
597                indRxAnticoagulant
598                indRxAntibiotics
599                countIPAdmits12mPrior
600                indERVisit12mPrior
601                countAVRheum12mPrior
602                indRxBiologics
603                indOutpatientInfection
604                / link = logit rsquare;
605          output out = Work.ps2Level predicted = ps xbeta = xbeta;
606        run;

                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  23

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure2         
                                                   Number of Response Levels     2                 
                                                   Model                         binary logit      
                                                   Optimization Technique        Fisher's scoring  


                                                       Number of Observations Read       15483
                                                       Number of Observations Used       15483


                                                                   Response Profile
 
                                                Ordered                                          Total
                                                  Value     exposure2                        Frequency

                                                      1     DMARD, NSAID, or no exposure         14194
                                                      2     TNF                                   1289

                                                       Probability modeled is exposure2='TNF'.
NOTE: PROC LOGISTIC is modeling the probability that exposure2='TNF'.


                                                               Class Level Information
 
                                      Class                 Value                           Design Variables

                                      catAge                60-69                        1                     
                                                            70+                          0                     

                                      SEX                   F                            1                     
                                                            M                            0                     

                                      meanPredEqDoseCat     High (10+ mg/d)              1      0      0      0
                                                            Low (<2.5 mg/d)              0      1      0      0
                                                            Medium-High (5-10 mg/d)      0      0      1      0
                                                            Medium-Low (2.5-5 mg/d)      0      0      0      1
                                                            None                         0      0      0      0

                                      quartileCharlson      1                            0      0              
                                                            2                            1      0              
                                                            3                            0      1              


                                                               Model Convergence Status

                                                  Quasi-complete separation of data points detected.       

                                               WARNING: The maximum likelihood estimate may not exist.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based on the last maximum likelihood iteration. Validity 
         of the model fit is questionable.
WARNING: There is possibly a quasi-complete separation of data points. The maximum likelihood estimate may not exist.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based on the last maximum likelihood iteration. Validity 
10                                                                  The SAS System                                         12:40 Friday, June 22, 2018

         of the model fit is questionable.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC            8878.167       5315.895
                                                        SC             8885.814       5698.270
                                                        -2 Log L       8876.167       5215.895


                                                R-Square    0.2105    Max-rescaled R-Square    0.4825
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  24

                                                                The LOGISTIC Procedure
                                               WARNING: The validity of the model fit is questionable.

                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio      3660.2724       49         <.0001
                                               Score                 3404.7647       49         <.0001
                                               Wald                  1287.1778       49         <.0001


                                                              Type 3 Analysis of Effects
 
                                                                                     Wald
                                               Effect                    DF    Chi-Square    Pr > ChiSq

                                               catAge                     1       87.0980        <.0001
                                               SEX                        1      107.6169        <.0001
                                               indAmyloidosis             1        0.0000        0.9972
                                               indAortInsuffRegurg        1        0.2249        0.6353
                                               indCaudaEquina             1        2.0181        0.1554
                                               indVertFrac                1        2.7503        0.0972
                                               indConductBlock            1        1.8435        0.1745
                                               indCrohnsDis               1       43.4291        <.0001
                                               indHematCa                 1       14.4512        0.0001
                                               indHospInf                 1        7.0537        0.0079
                                               indIgANeph                 1        0.0988        0.7533
                                               indInterstLungDis          1        0.0111        0.9161
                                               indMI                      1        0.0182        0.8928
                                               indNephSyn                 1        0.0000        0.9973
                                               indNMSC                    1        0.2900        0.5902
                                               indNonVertOsFrac           1        1.4360        0.2308
                                               indOppInf                  1       12.7639        0.0004
                                               indPsoriasis               1        0.1871        0.6654
                                               indPSA                     1       61.9587        <.0001
                                               indRestrictLungDis         1        0.3508        0.5536
                                               indSolidCa                 1        0.1812        0.6703
                                               indSpinalCordComp          1        2.3950        0.1217
                                               indUlcerColitis            1        7.2906        0.0069
                                               indUveitis                 1       14.7692        0.0001
                                               indDiabetes                1        1.6674        0.1966
                                               indHT                      1        0.3697        0.5432
                                               indMetabSyn                1        0.2178        0.6408
                                               indNAFattyLiverDis         1        3.9022        0.0482
                                               indCOPDEmphysema           1        6.6009        0.0102
                                               meanPredEqDoseCat          4      108.9786        <.0001
                                               quartileCharlson           2      254.2047        <.0001
                                               indInflamMarker            1        0.0000        0.9966
                                               indRxNSAID                 1        0.0130        0.9092
                                               indRxHtn                   1       33.8675        <.0001
                                               indRxNarcotics             1       16.3204        <.0001
                                               indRxFungus                1        4.2574        0.0391
                                               indRxOP_bisphosp           1        1.7669        0.1838
                                               indRxThiazide              1        6.9248        0.0085
                                               indRxAnticoagulant         1        5.9683        0.0146
                                               indRxAntibiotics           1       59.3237        <.0001
                                               countIPAdmits12mPrio       1        2.9339        0.0867
                                               indERVisit12mPrior         1        3.3991        0.0652
                                               countAVRheum12mPrior       1      173.2544        <.0001
                                               indRxBiologics             1      395.1202        <.0001
                                               indOutpatientInfecti       1        6.5498        0.0105


 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  25

                                                                The LOGISTIC Procedure
                                               WARNING: The validity of the model fit is questionable.

                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                        Parameter                                       DF    Estimate       Error    Chi-Square    Pr > ChiSq

                        Intercept                                        1    -20.8128       156.0        0.0178        0.8939
                        catAge               60-69                       1      0.7081      0.0759       87.0980        <.0001
                        SEX                  F                           1     -0.7914      0.0763      107.6169        <.0001
                        indAmyloidosis                                   1    -16.2930      4594.6        0.0000        0.9972
                        indAortInsuffRegurg                              1      0.0851      0.1795        0.2249        0.6353
                        indCaudaEquina                                   1      1.3371      0.9413        2.0181        0.1554
                        indVertFrac                                      1     -0.3840      0.2316        2.7503        0.0972
                        indConductBlock                                  1      0.2706      0.1993        1.8435        0.1745
                        indCrohnsDis                                     1      1.6409      0.2490       43.4291        <.0001
                        indHematCa                                       1     -1.8459      0.4856       14.4512        0.0001
                        indHospInf                                       1     -0.4007      0.1509        7.0537        0.0079
                        indIgANeph                                       1      0.4473      1.4231        0.0988        0.7533
                        indInterstLungDis                                1      0.0528      0.5012        0.0111        0.9161
                        indMI                                            1     -0.0459      0.3407        0.0182        0.8928
                        indNephSyn                                       1    -15.1653      4527.1        0.0000        0.9973
                        indNMSC                                          1     -0.1646      0.3056        0.2900        0.5902
                        indNonVertOsFrac                                 1      0.2143      0.1789        1.4360        0.2308
                        indOppInf                                        1      0.8016      0.2244       12.7639        0.0004
                        indPsoriasis                                     1     -0.0949      0.2195        0.1871        0.6654
                        indPSA                                           1      1.4135      0.1796       61.9587        <.0001
                        indRestrictLungDis                               1      0.1330      0.2246        0.3508        0.5536
                        indSolidCa                                       1     -0.0595      0.1399        0.1812        0.6703
                        indSpinalCordComp                                1      1.1936      0.7713        2.3950        0.1217
                        indUlcerColitis                                  1      0.6731      0.2493        7.2906        0.0069
                        indUveitis                                       1      0.8564      0.2228       14.7692        0.0001
                        indDiabetes                                      1     -0.0987      0.0765        1.6674        0.1966
                        indHT                                            1     -0.0787      0.1294        0.3697        0.5432
                        indMetabSyn                                      1     -0.1102      0.2362        0.2178        0.6408
                        indNAFattyLiverDis                               1      0.3462      0.1753        3.9022        0.0482
                        indCOPDEmphysema                                 1     -0.2048      0.0797        6.6009        0.0102
                        meanPredEqDoseCat    High (10+ mg/d)             1      1.3975      0.5412        6.6675        0.0098
                        meanPredEqDoseCat    Low (<2.5 mg/d)             1      0.5676      0.0840       45.6493        <.0001
                        meanPredEqDoseCat    Medium-High (5-10 mg/d)     1      1.0050      0.1916       27.5208        <.0001
                        meanPredEqDoseCat    Medium-Low (2.5-5 mg/d)     1      1.0653      0.1336       63.5523        <.0001
                        quartileCharlson     2                           1      0.9644      0.0986       95.6533        <.0001
                        quartileCharlson     3                           1      1.5044      0.0948      251.6492        <.0001
                        indInflamMarker                                  1    -17.6061      4079.7        0.0000        0.9966
                        indRxNSAID                                       1     17.7976       156.0        0.0130        0.9092
                        indRxHtn                                         1      0.5177      0.0890       33.8675        <.0001
                        indRxNarcotics                                   1     -0.3173      0.0785       16.3204        <.0001
                        indRxFungus                                      1     -0.2965      0.1437        4.2574        0.0391
                        indRxOP_bisphosp                                 1      0.1645      0.1238        1.7669        0.1838
                        indRxThiazide                                    1     -0.2613      0.0993        6.9248        0.0085
                        indRxAnticoagulant                               1      0.3359      0.1375        5.9683        0.0146
                        indRxAntibiotics                                 1     -0.6758      0.0877       59.3237        <.0001
                        countIPAdmits12mPrio                             1     -0.0892      0.0521        2.9339        0.0867
                        indERVisit12mPrior                               1     -0.1581      0.0858        3.3991        0.0652
                        countAVRheum12mPrior                             1      0.1106     0.00840      173.2544        <.0001
                        indRxBiologics                                   1      1.9562      0.0984      395.1202        <.0001
                        indOutpatientInfecti                             1      0.3045      0.1190        6.5498        0.0105


                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               catAge               60-69 vs 70+                          2.030       1.750       2.356
                               SEX                  F vs M                                0.453       0.390       0.526
                               indAmyloidosis                                            <0.001      <0.001    >999.999
                               indAortInsuffRegurg                                        1.089       0.766       1.548
                               indCaudaEquina                                             3.808       0.602      24.094
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  26

                                                                The LOGISTIC Procedure
                                               WARNING: The validity of the model fit is questionable.

                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               indVertFrac                                                0.681       0.433       1.072
                               indConductBlock                                            1.311       0.887       1.937
                               indCrohnsDis                                               5.160       3.167       8.406
                               indHematCa                                                 0.158       0.061       0.409
                               indHospInf                                                 0.670       0.498       0.900
                               indIgANeph                                                 1.564       0.096      25.446
                               indInterstLungDis                                          1.054       0.395       2.815
                               indMI                                                      0.955       0.490       1.862
                               indNephSyn                                                <0.001      <0.001    >999.999
                               indNMSC                                                    0.848       0.466       1.544
                               indNonVertOsFrac                                           1.239       0.873       1.759
                               indOppInf                                                  2.229       1.436       3.460
                               indPsoriasis                                               0.909       0.591       1.398
                               indPSA                                                     4.110       2.891       5.844
                               indRestrictLungDis                                         1.142       0.736       1.774
                               indSolidCa                                                 0.942       0.716       1.239
                               indSpinalCordComp                                          3.299       0.728      14.959
                               indUlcerColitis                                            1.960       1.203       3.196
                               indUveitis                                                 2.355       1.521       3.644
                               indDiabetes                                                0.906       0.780       1.052
                               indHT                                                      0.924       0.717       1.191
                               indMetabSyn                                                0.896       0.564       1.423
                               indNAFattyLiverDis                                         1.414       1.003       1.993
                               indCOPDEmphysema                                           0.815       0.697       0.953
                               meanPredEqDoseCat    High (10+ mg/d)         vs None       4.045       1.400      11.684
                               meanPredEqDoseCat    Low (<2.5 mg/d)         vs None       1.764       1.496       2.080
                               meanPredEqDoseCat    Medium-High (5-10 mg/d) vs None       2.732       1.877       3.977
                               meanPredEqDoseCat    Medium-Low (2.5-5 mg/d) vs None       2.902       2.233       3.771
                               quartileCharlson     2 vs 1                                2.623       2.162       3.182
                               quartileCharlson     3 vs 1                                4.502       3.738       5.421
                               indInflamMarker                                           <0.001      <0.001    >999.999
                               indRxNSAID                                              >999.999      <0.001    >999.999
                               indRxHtn                                                   1.678       1.410       1.998
                               indRxNarcotics                                             0.728       0.624       0.849
                               indRxFungus                                                0.743       0.561       0.985
                               indRxOP_bisphosp                                           1.179       0.925       1.502
                               indRxThiazide                                              0.770       0.634       0.935
                               indRxAnticoagulant                                         1.399       1.069       1.832
                               indRxAntibiotics                                           0.509       0.428       0.604
                               countIPAdmits12mPrio                                       0.915       0.826       1.013
                               indERVisit12mPrior                                         0.854       0.722       1.010
                               countAVRheum12mPrior                                       1.117       1.099       1.136
                               indRxBiologics                                             7.072       5.832       8.577
                               indOutpatientInfecti                                       1.356       1.074       1.712


                                             Association of Predicted Probabilities and Observed Responses

                                                 Percent Concordant        92.2    Somers' D    0.844
                                                 Percent Discordant         7.8    Gamma        0.844
                                                 Percent Tied               0.0    Tau-a        0.129
                                                 Pairs                 18296066    c            0.922
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 15483 observations read from the data set WORK.ALLCOVARIATES.
      WHERE database='Medicare';
NOTE: The data set WORK.PSBETAS2LEVEL has 1 observations and 56 variables.
NOTE: The data set WORK.PS2LEVEL has 15483 observations and 68 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 23-26.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           0.95 seconds
      cpu time            0.76 seconds
      

607        proc datasets library = work nolist;
608          change psBetas2Level = psBetas2Level&db
609                 ps2Level = ps2Level&db;
610        run;

NOTE: Changing the name WORK.PSBETAS2LEVEL to WORK.PSBETAS2LEVELMEDICARE (memtype=DATA).
NOTE: Changing the name WORK.PS2LEVEL to WORK.PS2LEVELMEDICARE (memtype=DATA).
611        

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

612        proc sql;
613          create table Work.ps2Level as
614            select * from ps2LevelMPCD union corr
615            select * from ps2LevelMarketscan union corr
616            select * from ps2LevelMedicare ;
NOTE: Table WORK.PS2LEVEL created, with 32487 rows and 68 columns.

617          create table Work.psBetas2Level as
618            select "MPCD" as database, * from psBetas2LevelMPCD union corr
619            select "Marketscan" as database, * from psBetas2LevelMarketscan union corr
620            select "Medicare" as database, * from psBetas2LevelMedicare ;
NOTE: Table WORK.PSBETAS2LEVEL created, with 3 rows and 48 columns.

621        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.53 seconds
      cpu time            0.67 seconds
      

622        
623        
624        /*
625        Check
626         */
627        /* proc sql;
628          select "DATA CHECK: Should return 0 records" as table,
629                 database, indexID,
630                 sum(ps) as sumPS
631            from Work.ps2Level
632            group by database, indexID
633            having calculated sumPS < 1 - 1e-12;
634        quit; */
635        
636        
637        /*
638        Union model coefficients from the 4-level model and the 2-level model
639         */
640        proc sql;
641          create table Work.psBetas as
642            select * from Work.psBetas2Level ;
NOTE: Table WORK.PSBETAS created, with 3 rows and 48 columns.

643        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      
11                                                                  The SAS System                                         12:40 Friday, June 22, 2018


644        
645        
646        /*
647        Calculate IPTW
648         */
649        %let varlist = indexID, database, _level_, ps,
650                       age,
651                       catAge,
652                       sex,
653                       indAmyloidosis,
654                       indAortInsuffRegurg,
655                       indApicalPulmFib,
656                       indCaudaEquina,
657                       indVertFrac,
658                       indConductBlock,
659                       indCrohnsDis,
660                       indHematCa,
661                       indHospInf,
662                       indIgANeph,
663                       indInterstLungDis,
664                       indMI,
665                       indNephSyn,
666                       indNMSC,
667                       indNonVertOsFrac,
668                       indOppInf,
669                       indPsoriasis,
670                       indPSA,
671                       indRestrictLungDis,
672                       indSolidCa,
673                       indSpinalCordComp,
674                       indUlcerColitis,
675                       indUveitis,
676                       indDiabetes,
677                       indHT,
678                       indMetabSyn,
679                       indNAFattyLiverDis,
680                       indCOPDEmphysema,
681                       meanPredEqDoseCat,
682                       charlson,
683                       quartileCharlson,
684                       indInflamMarker,
685                       indRxNSAID,
686                       indRxHtn,
687                       indRxNarcotics,
688                       indRxFungus,
689                       indRxOP_bisphosp,
690                       indRxThiazide,
691                       indRxAnticoagulant,
692                       indRxAntibiotics,
693                       indIPAdmit12mPrior,
694                       countIPAdmits12mPrior,
695                       indERVisit12mPrior,
696                       ciras,
697                       quartileCIRAS,
698                       countAVPhys12mPrior,
699                       quartileAVPhys12mPrior,
700                       countAVRheum12mPrior,
701                       quartileAVRheum12mPrior,
702                       indAVRheum12mPrior,
703                       indRxBiologics,
704                       indOutpatientInfection
705        ;
706        proc sql;
707          create table Work.ps as
708            select "2-level exposure" as model, exposure2 as exposure, &varlist from Work.ps2Level
709            order by indexID, exposure;
NOTE: Table WORK.PS created, with 32487 rows and 61 columns.

710          alter table Work.ps add iptw numeric;
NOTE: Table WORK.PS has been modified, with 62 columns.
711          update Work.ps set iptw = (exposure  = _level_) / ps + (exposure ^= _level_) / (1 - ps);
12                                                                  The SAS System                                         12:40 Friday, June 22, 2018

NOTE: 32487 rows were updated in WORK.PS.

712        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.54 seconds
      cpu time            0.48 seconds
      

713        
714        
715        /*
716        Determine common support region
717        For propensity of TNF
718         */
719        %let exposure = "TNF";
720        proc means data = Work.ps n nmiss min max mean median stddev;
721          where _level_ in (&exposure);
722          class model database _level_ exposure;
723          var ps;
724        run;

                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  27

                                                                 The MEANS Procedure

                                                    Analysis Variable : ps Estimated Probability
 
                                                                                                                    N
  model              database     Response Value                 exposure                       N Obs       N    Miss        Minimum        Maximum
  -------------------------------------------------------------------------------------------------------------------------------------------------
  2-level exposure   MPCD         TNF                            DMARD, NSAID, or no exposure    2404    2404       0      0.0030076      0.9420227

                                                                 TNF                              994     994       0      0.0128034      0.9993960

                     Marketscan   TNF                            DMARD, NSAID, or no exposure    8838    8838       0      0.0185684      0.9450698

                                                                 TNF                             4768    4768       0      0.0183304      0.9773502

                     Medicare     TNF                            DMARD, NSAID, or no exposure   14194   14194       0   1.104661E-17      0.9865581

                                                                 TNF                             1289    1289       0      0.0092626      0.9982990
  -------------------------------------------------------------------------------------------------------------------------------------------------

                                                     Analysis Variable : ps Estimated Probability
 
   model              database     Response Value                 exposure                       N Obs           Mean         Median        Std Dev
   ------------------------------------------------------------------------------------------------------------------------------------------------
   2-level exposure   MPCD         TNF                            DMARD, NSAID, or no exposure    2404      0.2110367      0.1667707      0.1774189

                                                                  TNF                              994      0.4896054      0.4768905      0.2573311

                      Marketscan   TNF                            DMARD, NSAID, or no exposure    8838      0.2825274      0.2415931      0.1647924

                                                                  TNF                             4768      0.4763052      0.4376361      0.2264278

                      Medicare     TNF                            DMARD, NSAID, or no exposure   14194      0.0550244      0.0061878      0.1074792

                                                                  TNF                             1289      0.3940913      0.3094640      0.2838250
   ------------------------------------------------------------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 32487 observations read from the data set WORK.PS.
      WHERE _level_='TNF';
NOTE: The PROCEDURE MEANS printed page 27.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.07 seconds
      cpu time            0.12 seconds
      

725        proc sql;
726          create table Work.commonSupportRegion as
727            select model, database,
728                   max(minPS) as commonSupportLowerBound,
729                   min(maxPS) as commonSupportUpperBound
730            from (select model, database, exposure,
731                         min(ps) as minPS,
732                         max(ps) as maxPS
733                  from Work.ps
734                  where _level_ in (&exposure)
735                  group by model, database, exposure)
736            group by model, database;
NOTE: Table WORK.COMMONSUPPORTREGION created, with 3 rows and 4 columns.

737          select * from Work.commonSupportRegion;
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  28

                                                                                   common        common
                                                                                  Support       Support
                                               model             database      LowerBound    UpperBound
                                               --------------------------------------------------------
                                               2-level exposure  MPCD            0.012803      0.942023
                                               2-level exposure  Marketscan      0.018568       0.94507
                                               2-level exposure  Medicare        0.009263      0.986558
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
738          create table Work.temp as
739            select * from Work.ps where _level_ in (&exposure);
NOTE: Table WORK.TEMP created, with 32487 rows and 62 columns.

740          create table Work.ps as
741            select A.*,
742                   B.commonSupportLowerBound,
743                   B.commonSupportUpperBound,
744                   case
745                     when A.ps = . then .
746                     when B.commonSupportLowerBound <= A.ps <= B.commonSupportUpperBound then 1
747                     else 0
748                     end as indCommonSupport
749            from Work.temp A inner join
750                 Work.commonSupportRegion B on (A.model = B.model &
751                                                A.database = B.database);
NOTE: Table WORK.PS created, with 32487 rows and 65 columns.

752          select model,
753                 database,
754                 exposure,
755                 _level_,
756                 sum(indCommonSupport = 1) as n1,
757                 sum(indCommonSupport = 1) / sum(^missing(indCommonSupport)) format = percent9.3 as prop1,
758                 sum(indCommonSupport = 0) as n0,
759                 sum(indCommonSupport = 0) / sum(^missing(indCommonSupport)) format = percent9.3 as prop0
760            from Work.ps
761            group by model, database, exposure, _level_;
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  29

          model             database    exposure                      Response Value                      n1      prop1        n0      prop0
          ----------------------------------------------------------------------------------------------------------------------------------
          2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                               2358   98.087%         46    1.913% 
          2-level exposure  MPCD        TNF                           TNF                                966   97.183%         28    2.817% 
          2-level exposure  Marketscan  DMARD, NSAID, or no exposure  TNF                               8838   100.00%          0    0.000% 
          2-level exposure  Marketscan  TNF                           TNF                               4744   99.497%         24    0.503% 
          2-level exposure  Medicare    DMARD, NSAID, or no exposure  TNF                               6945   48.929%       7249   51.071% 
          2-level exposure  Medicare    TNF                           TNF                               1285   99.690%          4    0.310% 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
13                                                                  The SAS System                                         12:40 Friday, June 22, 2018

762        quit;
NOTE: The PROCEDURE SQL printed pages 28-29.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.60 seconds
      cpu time            0.45 seconds
      

763        
764        
765        /*
766        Stabilize weights
767        
768        See
769        
770        Austin, P. C., and Stuart, E. A. (2015) Moving towards best practice when
771        using inverse probability of treatment weighting (IPTW) using the propensity
772        score to estimate causal treatment effects in observational studies. Statist.
773        Med., 34: 36613679. doi: 10.1002/sim.6607.
774         */
775        proc sql;
776          create table Work.temp as select * from Work.ps;
NOTE: Table WORK.TEMP created, with 32487 rows and 65 columns.

777          create table Work.ps as
778            select A.*,
779                   B.marginalPS,
780                   B.marginalPS * ((A.exposure  = A._level_) / A.ps +
781                                   (A.exposure ^= A._level_) / (1 - A.ps))
782                     as iptwStabilized
783            from Work.temp A inner join
784                 (select model,
785                         database,
786                         exposure,
787                         _level_,
788                         mean(ps) as marginalPS
789                  from Work.temp
790                  group by model, database, exposure, _level_) B on (A.model = B.model &
791                                                                     A.database = B.database &
792                                                                     A.exposure = B.exposure);
NOTE: Table WORK.PS created, with 32487 rows and 67 columns.

793          drop table Work.temp;
NOTE: Table WORK.TEMP has been dropped.
794        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.46 seconds
      cpu time            0.39 seconds
      

795        proc means data = Work.ps n nmiss min max mean median stddev maxdec = 3;
796          class indCommonSupport model database exposure _level_;
797          var ps marginalPS iptw iptwStabilized;
798        run;

                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  30

                                                                 The MEANS Procedure

    indCommon
      Support  model             database    exposure                      Response Value                N Obs  Variable        Label
 ----------------------------------------------------------------------------------------------------------------------------------------------------
            0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              46  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                              28  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                 Marketscan  TNF                           TNF                              24  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                 Medicare    DMARD, NSAID, or no exposure  TNF                            7249  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                               4  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

            1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                            2358  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                             966  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                 Marketscan  DMARD, NSAID, or no exposure  TNF                            8838  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                            4744  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                 Medicare    DMARD, NSAID, or no exposure  TNF                            6945  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                            1285  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       
 ----------------------------------------------------------------------------------------------------------------------------------------------------

        indCommon                                                                                                                               N
          Support  model             database    exposure                      Response Value                N Obs  Variable            N    Miss
     --------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              46  ps                 46       0
                                                                                                                    marginalPS         46       0
                                                                                                                    iptw               46       0
                                                                                                                    iptwStabilized     46       0
     --------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  31

                                                                 The MEANS Procedure

        indCommon                                                                                                                               N
          Support  model             database    exposure                      Response Value                N Obs  Variable            N    Miss
     --------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        TNF                           TNF                              28  ps                 28       0
                                                                                                                    marginalPS         28       0
                                                                                                                    iptw               28       0
                                                                                                                    iptwStabilized     28       0

                                     Marketscan  TNF                           TNF                              24  ps                 24       0
                                                                                                                    marginalPS         24       0
                                                                                                                    iptw               24       0
                                                                                                                    iptwStabilized     24       0

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            7249  ps               7249       0
                                                                                                                    marginalPS       7249       0
                                                                                                                    iptw             7249       0
                                                                                                                    iptwStabilized   7249       0

                                                 TNF                           TNF                               4  ps                  4       0
                                                                                                                    marginalPS          4       0
                                                                                                                    iptw                4       0
                                                                                                                    iptwStabilized      4       0

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                            2358  ps               2358       0
                                                                                                                    marginalPS       2358       0
                                                                                                                    iptw             2358       0
                                                                                                                    iptwStabilized   2358       0

                                                 TNF                           TNF                             966  ps                966       0
                                                                                                                    marginalPS        966       0
                                                                                                                    iptw              966       0
                                                                                                                    iptwStabilized    966       0

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            8838  ps               8838       0
                                                                                                                    marginalPS       8838       0
                                                                                                                    iptw             8838       0
                                                                                                                    iptwStabilized   8838       0

                                                 TNF                           TNF                            4744  ps               4744       0
                                                                                                                    marginalPS       4744       0
                                                                                                                    iptw             4744       0
                                                                                                                    iptwStabilized   4744       0

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            6945  ps               6945       0
                                                                                                                    marginalPS       6945       0
                                                                                                                    iptw             6945       0
                                                                                                                    iptwStabilized   6945       0

                                                 TNF                           TNF                            1285  ps               1285       0
                                                                                                                    marginalPS       1285       0
                                                                                                                    iptw             1285       0
                                                                                                                    iptwStabilized   1285       0
     --------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Minimum
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              46  ps                     0.003
                                                                                                                    marginalPS             0.211
                                                                                                                    iptw                   1.003
                                                                                                                    iptwStabilized         0.212

                                                 TNF                           TNF                              28  ps                     0.946
                                                                                                                    marginalPS             0.490
                                                                                                                    iptw                   1.001
                                                                                                                    iptwStabilized         0.490
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  32

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Minimum
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  Marketscan  TNF                           TNF                              24  ps                     0.018
                                                                                                                    marginalPS             0.476
                                                                                                                    iptw                   1.023
                                                                                                                    iptwStabilized         0.487

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            7249  ps                     0.000
                                                                                                                    marginalPS             0.055
                                                                                                                    iptw                   1.000
                                                                                                                    iptwStabilized         0.055

                                                 TNF                           TNF                               4  ps                     0.989
                                                                                                                    marginalPS             0.394
                                                                                                                    iptw                   1.002
                                                                                                                    iptwStabilized         0.395

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                            2358  ps                     0.013
                                                                                                                    marginalPS             0.211
                                                                                                                    iptw                   1.013
                                                                                                                    iptwStabilized         0.214

                                                 TNF                           TNF                             966  ps                     0.013
                                                                                                                    marginalPS             0.490
                                                                                                                    iptw                   1.064
                                                                                                                    iptwStabilized         0.521

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            8838  ps                     0.019
                                                                                                                    marginalPS             0.283
                                                                                                                    iptw                   1.019
                                                                                                                    iptwStabilized         0.288

                                                 TNF                           TNF                            4744  ps                     0.043
                                                                                                                    marginalPS             0.476
                                                                                                                    iptw                   1.058
                                                                                                                    iptwStabilized         0.504

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            6945  ps                     0.009
                                                                                                                    marginalPS             0.055
                                                                                                                    iptw                   1.009
                                                                                                                    iptwStabilized         0.056

                                                 TNF                           TNF                            1285  ps                     0.009
                                                                                                                    marginalPS             0.394
                                                                                                                    iptw                   1.014
                                                                                                                    iptwStabilized         0.400
     -------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Maximum
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              46  ps                     0.013
                                                                                                                    marginalPS             0.211
                                                                                                                    iptw                   1.013
                                                                                                                    iptwStabilized         0.214

                                                 TNF                           TNF                              28  ps                     0.999
                                                                                                                    marginalPS             0.490
                                                                                                                    iptw                   1.057
                                                                                                                    iptwStabilized         0.518

                                     Marketscan  TNF                           TNF                              24  ps                     0.977
                                                                                                                    marginalPS             0.476
                                                                                                                    iptw                  54.554
                                                                                                                    iptwStabilized        25.984
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  33

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Maximum
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  Medicare    DMARD, NSAID, or no exposure  TNF                            7249  ps                     0.009
                                                                                                                    marginalPS             0.055
                                                                                                                    iptw                   1.009
                                                                                                                    iptwStabilized         0.056

                                                 TNF                           TNF                               4  ps                     0.998
                                                                                                                    marginalPS             0.394
                                                                                                                    iptw                   1.011
                                                                                                                    iptwStabilized         0.399

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                            2358  ps                     0.942
                                                                                                                    marginalPS             0.211
                                                                                                                    iptw                  17.248
                                                                                                                    iptwStabilized         3.640

                                                 TNF                           TNF                             966  ps                     0.940
                                                                                                                    marginalPS             0.490
                                                                                                                    iptw                  78.104
                                                                                                                    iptwStabilized        38.240

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            8838  ps                     0.945
                                                                                                                    marginalPS             0.283
                                                                                                                    iptw                  18.205
                                                                                                                    iptwStabilized         5.143

                                                 TNF                           TNF                            4744  ps                     0.945
                                                                                                                    marginalPS             0.476
                                                                                                                    iptw                  23.520
                                                                                                                    iptwStabilized        11.203

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            6945  ps                     0.987
                                                                                                                    marginalPS             0.055
                                                                                                                    iptw                  74.394
                                                                                                                    iptwStabilized         4.093

                                                 TNF                           TNF                            1285  ps                     0.986
                                                                                                                    marginalPS             0.394
                                                                                                                    iptw                 107.961
                                                                                                                    iptwStabilized        42.547
     -------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable                Mean
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              46  ps                     0.009
                                                                                                                    marginalPS             0.211
                                                                                                                    iptw                   1.009
                                                                                                                    iptwStabilized         0.213

                                                 TNF                           TNF                              28  ps                     0.967
                                                                                                                    marginalPS             0.490
                                                                                                                    iptw                   1.035
                                                                                                                    iptwStabilized         0.507

                                     Marketscan  TNF                           TNF                              24  ps                     0.918
                                                                                                                    marginalPS             0.476
                                                                                                                    iptw                   3.275
                                                                                                                    iptwStabilized         1.560

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            7249  ps                     0.000
                                                                                                                    marginalPS             0.055
                                                                                                                    iptw                   1.000
                                                                                                                    iptwStabilized         0.055
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  34

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable                Mean
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  Medicare    TNF                           TNF                               4  ps                     0.994
                                                                                                                    marginalPS             0.394
                                                                                                                    iptw                   1.006
                                                                                                                    iptwStabilized         0.397

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                            2358  ps                     0.215
                                                                                                                    marginalPS             0.211
                                                                                                                    iptw                   1.429
                                                                                                                    iptwStabilized         0.302

                                                 TNF                           TNF                             966  ps                     0.476
                                                                                                                    marginalPS             0.490
                                                                                                                    iptw                   3.462
                                                                                                                    iptwStabilized         1.695

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            8838  ps                     0.283
                                                                                                                    marginalPS             0.283
                                                                                                                    iptw                   1.559
                                                                                                                    iptwStabilized         0.440

                                                 TNF                           TNF                            4744  ps                     0.474
                                                                                                                    marginalPS             0.476
                                                                                                                    iptw                   2.822
                                                                                                                    iptwStabilized         1.344

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            6945  ps                     0.112
                                                                                                                    marginalPS             0.055
                                                                                                                    iptw                   1.203
                                                                                                                    iptwStabilized         0.066

                                                 TNF                           TNF                            1285  ps                     0.392
                                                                                                                    marginalPS             0.394
                                                                                                                    iptw                   6.171
                                                                                                                    iptwStabilized         2.432
     -------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable              Median
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              46  ps                     0.009
                                                                                                                    marginalPS             0.211
                                                                                                                    iptw                   1.009
                                                                                                                    iptwStabilized         0.213

                                                 TNF                           TNF                              28  ps                     0.964
                                                                                                                    marginalPS             0.490
                                                                                                                    iptw                   1.038
                                                                                                                    iptwStabilized         0.508

                                     Marketscan  TNF                           TNF                              24  ps                     0.953
                                                                                                                    marginalPS             0.476
                                                                                                                    iptw                   1.049
                                                                                                                    iptwStabilized         0.500

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            7249  ps                     0.000
                                                                                                                    marginalPS             0.055
                                                                                                                    iptw                   1.000
                                                                                                                    iptwStabilized         0.055

                                                 TNF                           TNF                               4  ps                     0.994
                                                                                                                    marginalPS             0.394
                                                                                                                    iptw                   1.006
                                                                                                                    iptwStabilized         0.397
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  35

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable              Median
     -------------------------------------------------------------------------------------------------------------------------------------------
                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                            2358  ps                     0.170
                                                                                                                    marginalPS             0.211
                                                                                                                    iptw                   1.205
                                                                                                                    iptwStabilized         0.254

                                                 TNF                           TNF                             966  ps                     0.462
                                                                                                                    marginalPS             0.490
                                                                                                                    iptw                   2.165
                                                                                                                    iptwStabilized         1.060

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            8838  ps                     0.242
                                                                                                                    marginalPS             0.283
                                                                                                                    iptw                   1.319
                                                                                                                    iptwStabilized         0.373

                                                 TNF                           TNF                            4744  ps                     0.435
                                                                                                                    marginalPS             0.476
                                                                                                                    iptw                   2.296
                                                                                                                    iptwStabilized         1.094

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            6945  ps                     0.065
                                                                                                                    marginalPS             0.055
                                                                                                                    iptw                   1.070
                                                                                                                    iptwStabilized         0.059

                                                 TNF                           TNF                            1285  ps                     0.309
                                                                                                                    marginalPS             0.394
                                                                                                                    iptw                   3.240
                                                                                                                    iptwStabilized         1.277
     -------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Std Dev
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              46  ps                     0.002
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.002
                                                                                                                    iptwStabilized         0.000

                                                 TNF                           TNF                              28  ps                     0.017
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.018
                                                                                                                    iptwStabilized         0.009

                                     Marketscan  TNF                           TNF                              24  ps                     0.192
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                  10.923
                                                                                                                    iptwStabilized         5.202

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            7249  ps                     0.001
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.001
                                                                                                                    iptwStabilized         0.000

                                                 TNF                           TNF                               4  ps                     0.004
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.004
                                                                                                                    iptwStabilized         0.002

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                            2358  ps                     0.177
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.914
                                                                                                                    iptwStabilized         0.193
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  36

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Std Dev
     -------------------------------------------------------------------------------------------------------------------------------------------
                1  2-level exposure  MPCD        TNF                           TNF                             966  ps                     0.248
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   4.658
                                                                                                                    iptwStabilized         2.281

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            8838  ps                     0.165
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.892
                                                                                                                    iptwStabilized         0.252

                                                 TNF                           TNF                            4744  ps                     0.224
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   1.890
                                                                                                                    iptwStabilized         0.900

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            6945  ps                     0.131
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   1.207
                                                                                                                    iptwStabilized         0.066

                                                 TNF                           TNF                            1285  ps                     0.282
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   8.701
                                                                                                                    iptwStabilized         3.429
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 32487 observations read from the data set WORK.PS.
NOTE: The PROCEDURE MEANS printed pages 30-36.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.17 seconds
      cpu time            0.26 seconds
      

799        proc corr data = Work.ps;
800          var iptw iptwStabilized;
801        run;

                                                                  --- AS project ---                                   12:40 Friday, June 22, 2018  37

                                                                  The CORR Procedure

                                                     2  Variables:    iptw           iptwStabilized 


                                                                  Simple Statistics
 
                           Variable                 N          Mean       Std Dev           Sum       Minimum       Maximum

                           iptw                 32487       1.77216       2.46349         57572       1.00000     107.96126
                           iptwStabilized       32487       0.51294       1.07740         16664       0.05502      42.54659


                                                     Pearson Correlation Coefficients, N = 32487 
                                                              Prob > |r| under H0: Rho=0
 
                                                                                             iptw
                                                                             iptw      Stabilized

                                                     iptw                 1.00000         0.95678
                                                                                           <.0001

                                                     iptwStabilized       0.95678         1.00000
                                                                           <.0001                
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: The PROCEDURE CORR printed page 37.
NOTE: PROCEDURE CORR used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

802        
14                                                                  The SAS System                                         12:40 Friday, June 22, 2018

803        
804        /*
805        Save output data files
806         */
807        proc sql;
808          create table DT.ps as
809            select *
810            from Work.ps;
NOTE: Table DT.PS created, with 32487 rows and 67 columns.

811          create table Work.psDeidentified as
812            select model,
813                   database,
814                   exposure,
815                   _level_,
816                   ps,
817                   indCommonSupport,
818                   iptw,
819                   marginalPS,
820                   iptwStabilized,
821                   age,
822                   catAge,
823                   sex,
824                   indAmyloidosis,
825                   indAortInsuffRegurg,
826                   indApicalPulmFib,
827                   indCaudaEquina,
828                   indVertFrac,
829                   indConductBlock,
830                   indCrohnsDis,
831                   indHematCa,
832                   indHospInf,
833                   indIgANeph,
834                   indInterstLungDis,
835                   indMI,
836                   indNephSyn,
837                   indNMSC,
838                   indNonVertOsFrac,
839                   indOppInf,
840                   indPsoriasis,
841                   indPSA,
842                   indRestrictLungDis,
843                   indSolidCa,
844                   indSpinalCordComp,
845                   indUlcerColitis,
846                   indUveitis,
847                   indDiabetes,
848                   indHT,
849                   indMetabSyn,
850                   indNAFattyLiverDis,
851                   indCOPDEmphysema,
852                   meanPredEqDoseCat,
853                   charlson,
854                   quartileCharlson,
855                   indInflamMarker,
856                   indRxNSAID,
857                   indRxHtn,
858                   indRxNarcotics,
859                   indRxFungus,
860                   indRxOP_bisphosp,
861                   indRxThiazide,
862                   indRxAnticoagulant,
863                   indIPAdmit12mPrior,
864                   indRxAntibiotics,
865                   countIPAdmits12mPrior,
866                   indERVisit12mPrior,
867                   ciras,
868                   quartileCIRAS,
869                   countAVPhys12mPrior,
870                   quartileAVPhys12mPrior,
871                   countAVRheum12mPrior,
872                   quartileAVRheum12mPrior,
15                                                                  The SAS System                                         12:40 Friday, June 22, 2018

873                   indAVRheum12mPrior,
874                   indRxBiologics,
875                   indOutpatientInfection
876            from DT.ps;
NOTE: Table WORK.PSDEIDENTIFIED created, with 32487 rows and 64 columns.

877        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.23 seconds
      cpu time            0.15 seconds
      

878        proc export
879          data = Work.psBetas
880          outfile = "data\processed\psBetas.csv"
881          dbms = csv
882          replace;
883          delimiter = ",";
884        run;

885         /**********************************************************************
886         *   PRODUCT:   SAS
887         *   VERSION:   9.4
888         *   CREATOR:   External File Interface
889         *   DATE:      22JUN18
890         *   DESC:      Generated SAS Datastep Code
891         *   TEMPLATE SOURCE:  (None Specified.)
892         ***********************************************************************/
893            data _null_;
894            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
895            %let _EFIREC_ = 0;     /* clear export record count macro variable */
896            file 'data\processed\psBetas.csv' delimiter=',' DSD DROPOVER lrecl=32767;
897            if _n_ = 1 then        /* write column names or labels */
898             do;
899               put
900                  "database"
901               ','
902                  "_LINK_"
903               ','
904                  "_TYPE_"
905               ','
906                  "_STATUS_"
907               ','
908                  "_NAME_"
909               ','
910                  "Intercept"
911               ','
912                  "catAge60N69"
913               ','
914                  "SEXF"
915               ','
916                  "indAortInsuffRegurg"
917               ','
918                  "indVertFrac"
919               ','
920                  "indCrohnsDis"
921               ','
922                  "indHematCa"
923               ','
924                  "indHospInf"
925               ','
926                  "indIgANeph"
927               ','
928                  "indNonVertOsFrac"
929               ','
930                  "indOppInf"
931               ','
932                  "indPsoriasis"
933               ','
934                  "indPSA"
935               ','
936                  "indRestrictLungDis"
16                                                                  The SAS System                                         12:40 Friday, June 22, 2018

937               ','
938                  "indSolidCa"
939               ','
940                  "indUlcerColitis"
941               ','
942                  "indUveitis"
943               ','
944                  "indDiabetes"
945               ','
946                  "indHT"
947               ','
948                  "indMetabSyn"
949               ','
950                  "indNAFattyLiverDis"
951               ','
952                  "indCOPDEmphysema"
953               ','
954                  "meanPredEqDoseCatHigh__10__mg_d_"
955               ','
956                  "meanPredEqDoseCatLow___2_5_mg_d_"
957               ','
958                  "meanPredEqDoseCatMedium_High__5_"
959               ','
960                  "meanPredEqDoseCatMedium_Low__2_5"
961               ','
962                  "quartileCharlson3"
963               ','
964                  "indInflamMarker"
965               ','
966                  "indRxNSAID"
967               ','
968                  "indRxHtn"
969               ','
970                  "indRxNarcotics"
971               ','
972                  "indRxFungus"
973               ','
974                  "indRxOP_bisphosp"
975               ','
976                  "indRxThiazide"
977               ','
978                  "indRxAnticoagulant"
979               ','
980                  "indRxAntibiotics"
981               ','
982                  "countIPAdmits12mPrior"
983               ','
984                  "indERVisit12mPrior"
985               ','
986                  "countAVRheum12mPrior"
987               ','
988                  "indRxBiologics"
989               ','
990                  "indOutpatientInfection"
991               ','
992                  "_LNLIKE_"
993               ','
994                  "_ESTTYPE_"
995               ;
996             end;
997           set  WORK.PSBETAS   end=EFIEOD;
998               format database $10. ;
999               format _LINK_ $8. ;
1000              format _TYPE_ $8. ;
1001              format _STATUS_ $11. ;
1002              format _NAME_ $9. ;
1003              format Intercept best12. ;
1004              format catAge60N69 best12. ;
1005              format SEXF best12. ;
1006              format indAortInsuffRegurg best12. ;
1007              format indVertFrac best12. ;
1008              format indCrohnsDis best12. ;
17                                                                  The SAS System                                         12:40 Friday, June 22, 2018

1009              format indHematCa best12. ;
1010              format indHospInf best12. ;
1011              format indIgANeph best12. ;
1012              format indNonVertOsFrac best12. ;
1013              format indOppInf best12. ;
1014              format indPsoriasis best12. ;
1015              format indPSA best12. ;
1016              format indRestrictLungDis best12. ;
1017              format indSolidCa best12. ;
1018              format indUlcerColitis best12. ;
1019              format indUveitis best12. ;
1020              format indDiabetes best12. ;
1021              format indHT best12. ;
1022              format indMetabSyn best12. ;
1023              format indNAFattyLiverDis best12. ;
1024              format indCOPDEmphysema best12. ;
1025              format meanPredEqDoseCatHigh__10__mg_d_ best12. ;
1026              format meanPredEqDoseCatLow___2_5_mg_d_ best12. ;
1027              format meanPredEqDoseCatMedium_High__5_ best12. ;
1028              format meanPredEqDoseCatMedium_Low__2_5 best12. ;
1029              format quartileCharlson3 best12. ;
1030              format indInflamMarker best12. ;
1031              format indRxNSAID best12. ;
1032              format indRxHtn best12. ;
1033              format indRxNarcotics best12. ;
1034              format indRxFungus best12. ;
1035              format indRxOP_bisphosp best12. ;
1036              format indRxThiazide best12. ;
1037              format indRxAnticoagulant best12. ;
1038              format indRxAntibiotics best12. ;
1039              format countIPAdmits12mPrior best12. ;
1040              format indERVisit12mPrior best12. ;
1041              format countAVRheum12mPrior best12. ;
1042              format indRxBiologics best12. ;
1043              format indOutpatientInfection best12. ;
1044              format _LNLIKE_ best12. ;
1045              format _ESTTYPE_ $4. ;
1046            do;
1047              EFIOUT + 1;
1048              put database $ @;
1049              put _LINK_ $ @;
1050              put _TYPE_ $ @;
1051              put _STATUS_ $ @;
1052              put _NAME_ $ @;
1053              put Intercept @;
1054              put catAge60N69 @;
1055              put SEXF @;
1056              put indAortInsuffRegurg @;
1057              put indVertFrac @;
1058              put indCrohnsDis @;
1059              put indHematCa @;
1060              put indHospInf @;
1061              put indIgANeph @;
1062              put indNonVertOsFrac @;
1063              put indOppInf @;
1064              put indPsoriasis @;
1065              put indPSA @;
1066              put indRestrictLungDis @;
1067              put indSolidCa @;
1068              put indUlcerColitis @;
1069              put indUveitis @;
1070              put indDiabetes @;
1071              put indHT @;
1072              put indMetabSyn @;
1073              put indNAFattyLiverDis @;
1074              put indCOPDEmphysema @;
1075              put meanPredEqDoseCatHigh__10__mg_d_ @;
1076              put meanPredEqDoseCatLow___2_5_mg_d_ @;
1077              put meanPredEqDoseCatMedium_High__5_ @;
1078              put meanPredEqDoseCatMedium_Low__2_5 @;
1079              put quartileCharlson3 @;
1080              put indInflamMarker @;
18                                                                  The SAS System                                         12:40 Friday, June 22, 2018

1081              put indRxNSAID @;
1082              put indRxHtn @;
1083              put indRxNarcotics @;
1084              put indRxFungus @;
1085              put indRxOP_bisphosp @;
1086              put indRxThiazide @;
1087              put indRxAnticoagulant @;
1088              put indRxAntibiotics @;
1089              put countIPAdmits12mPrior @;
1090              put indERVisit12mPrior @;
1091              put countAVRheum12mPrior @;
1092              put indRxBiologics @;
1093              put indOutpatientInfection @;
1094              put _LNLIKE_ @;
1095              put _ESTTYPE_ $ ;
1096              ;
1097            end;
1098           if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
1099           if EFIEOD then call symputx('_EFIREC_',EFIOUT);
1100           run;

NOTE: The file 'data\processed\psBetas.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\psBetas.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=22Jun2018:12:40:54,
      Create Time=22Jun2018:12:40:54

NOTE: 4 records were written to the file 'data\processed\psBetas.csv'.
      The minimum record length was 570.
      The maximum record length was 712.
NOTE: There were 3 observations read from the data set WORK.PSBETAS.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

3 records created in data\processed\psBetas.csv from WORK.PSBETAS.
  
  
NOTE: "data\processed\psBetas.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.26 seconds
      cpu time            0.18 seconds
      

1101       proc export
1102         data = Work.psDeidentified
1103         outfile = "data\processed\psDeidentified.csv"
1104         dbms = csv
1105         replace;
1106         delimiter = ",";
1107       run;

1108        /**********************************************************************
1109        *   PRODUCT:   SAS
1110        *   VERSION:   9.4
1111        *   CREATOR:   External File Interface
1112        *   DATE:      22JUN18
1113        *   DESC:      Generated SAS Datastep Code
1114        *   TEMPLATE SOURCE:  (None Specified.)
1115        ***********************************************************************/
1116           data _null_;
1117           %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
1118           %let _EFIREC_ = 0;     /* clear export record count macro variable */
1119           file 'data\processed\psDeidentified.csv' delimiter=',' DSD DROPOVER lrecl=32767;
1120           if _n_ = 1 then        /* write column names or labels */
1121            do;
1122              put
1123                 "model"
1124              ','
1125                 "database"
1126              ','
19                                                                  The SAS System                                         12:40 Friday, June 22, 2018

1127                 "exposure"
1128              ','
1129                 "_LEVEL_"
1130              ','
1131                 "ps"
1132              ','
1133                 "indCommonSupport"
1134              ','
1135                 "iptw"
1136              ','
1137                 "marginalPS"
1138              ','
1139                 "iptwStabilized"
1140              ','
1141                 "age"
1142              ','
1143                 "catAge"
1144              ','
1145                 "SEX"
1146              ','
1147                 "indAmyloidosis"
1148              ','
1149                 "indAortInsuffRegurg"
1150              ','
1151                 "indApicalPulmFib"
1152              ','
1153                 "indCaudaEquina"
1154              ','
1155                 "indVertFrac"
1156              ','
1157                 "indConductBlock"
1158              ','
1159                 "indCrohnsDis"
1160              ','
1161                 "indHematCa"
1162              ','
1163                 "indHospInf"
1164              ','
1165                 "indIgANeph"
1166              ','
1167                 "indInterstLungDis"
1168              ','
1169                 "indMI"
1170              ','
1171                 "indNephSyn"
1172              ','
1173                 "indNMSC"
1174              ','
1175                 "indNonVertOsFrac"
1176              ','
1177                 "indOppInf"
1178              ','
1179                 "indPsoriasis"
1180              ','
1181                 "indPSA"
1182              ','
1183                 "indRestrictLungDis"
1184              ','
1185                 "indSolidCa"
1186              ','
1187                 "indSpinalCordComp"
1188              ','
1189                 "indUlcerColitis"
1190              ','
1191                 "indUveitis"
1192              ','
1193                 "indDiabetes"
1194              ','
1195                 "indHT"
1196              ','
1197                 "indMetabSyn"
1198              ','
20                                                                  The SAS System                                         12:40 Friday, June 22, 2018

1199                 "indNAFattyLiverDis"
1200              ','
1201                 "indCOPDEmphysema"
1202              ','
1203                 "meanPredEqDoseCat"
1204              ','
1205                 "charlson"
1206              ','
1207                 "quartileCharlson"
1208              ','
1209                 "indInflamMarker"
1210              ','
1211                 "indRxNSAID"
1212              ','
1213                 "indRxHtn"
1214              ','
1215                 "indRxNarcotics"
1216              ','
1217                 "indRxFungus"
1218              ','
1219                 "indRxOP_bisphosp"
1220              ','
1221                 "indRxThiazide"
1222              ','
1223                 "indRxAnticoagulant"
1224              ','
1225                 "indIPAdmit12mPrior"
1226              ','
1227                 "indRxAntibiotics"
1228              ','
1229                 "countIPAdmits12mPrior"
1230              ','
1231                 "indERVisit12mPrior"
1232              ','
1233                 "ciras"
1234              ','
1235                 "quartileCIRAS"
1236              ','
1237                 "countAVPhys12mPrior"
1238              ','
1239                 "quartileAVPhys12mPrior"
1240              ','
1241                 "countAVRheum12mPrior"
1242              ','
1243                 "quartileAVRheum12mPrior"
1244              ','
1245                 "indAVRheum12mPrior"
1246              ','
1247                 "indRxBiologics"
1248              ','
1249                 "indOutpatientInfection"
1250              ;
1251            end;
1252          set  WORK.PSDEIDENTIFIED   end=EFIEOD;
1253              format model $16. ;
1254              format database $10. ;
1255              format exposure $28. ;
1256              format _LEVEL_ $28. ;
1257              format ps best12. ;
1258              format indCommonSupport best12. ;
1259              format iptw best12. ;
1260              format marginalPS best12. ;
1261              format iptwStabilized best12. ;
1262              format age best12. ;
1263              format catAge $5. ;
1264              format SEX $2. ;
1265              format indAmyloidosis best12. ;
1266              format indAortInsuffRegurg best12. ;
1267              format indApicalPulmFib best12. ;
1268              format indCaudaEquina best12. ;
1269              format indVertFrac best12. ;
1270              format indConductBlock best12. ;
21                                                                  The SAS System                                         12:40 Friday, June 22, 2018

1271              format indCrohnsDis best12. ;
1272              format indHematCa best12. ;
1273              format indHospInf best12. ;
1274              format indIgANeph best12. ;
1275              format indInterstLungDis best12. ;
1276              format indMI best12. ;
1277              format indNephSyn best12. ;
1278              format indNMSC best12. ;
1279              format indNonVertOsFrac best12. ;
1280              format indOppInf best12. ;
1281              format indPsoriasis best12. ;
1282              format indPSA best12. ;
1283              format indRestrictLungDis best12. ;
1284              format indSolidCa best12. ;
1285              format indSpinalCordComp best12. ;
1286              format indUlcerColitis best12. ;
1287              format indUveitis best12. ;
1288              format indDiabetes best12. ;
1289              format indHT best12. ;
1290              format indMetabSyn best12. ;
1291              format indNAFattyLiverDis best12. ;
1292              format indCOPDEmphysema best12. ;
1293              format meanPredEqDoseCat $23. ;
1294              format charlson best12. ;
1295              format quartileCharlson best12. ;
1296              format indInflamMarker best12. ;
1297              format indRxNSAID best12. ;
1298              format indRxHtn best12. ;
1299              format indRxNarcotics best12. ;
1300              format indRxFungus best12. ;
1301              format indRxOP_bisphosp best12. ;
1302              format indRxThiazide best12. ;
1303              format indRxAnticoagulant best12. ;
1304              format indIPAdmit12mPrior best12. ;
1305              format indRxAntibiotics best12. ;
1306              format countIPAdmits12mPrior best12. ;
1307              format indERVisit12mPrior best12. ;
1308              format ciras best12. ;
1309              format quartileCIRAS best12. ;
1310              format countAVPhys12mPrior best12. ;
1311              format quartileAVPhys12mPrior best12. ;
1312              format countAVRheum12mPrior best12. ;
1313              format quartileAVRheum12mPrior best12. ;
1314              format indAVRheum12mPrior best12. ;
1315              format indRxBiologics best12. ;
1316              format indOutpatientInfection best12. ;
1317            do;
1318              EFIOUT + 1;
1319              put model $ @;
1320              put database $ @;
1321              put exposure $ @;
1322              put _LEVEL_ $ @;
1323              put ps @;
1324              put indCommonSupport @;
1325              put iptw @;
1326              put marginalPS @;
1327              put iptwStabilized @;
1328              put age @;
1329              put catAge $ @;
1330              put SEX $ @;
1331              put indAmyloidosis @;
1332              put indAortInsuffRegurg @;
1333              put indApicalPulmFib @;
1334              put indCaudaEquina @;
1335              put indVertFrac @;
1336              put indConductBlock @;
1337              put indCrohnsDis @;
1338              put indHematCa @;
1339              put indHospInf @;
1340              put indIgANeph @;
1341              put indInterstLungDis @;
1342              put indMI @;
22                                                                  The SAS System                                         12:40 Friday, June 22, 2018

1343              put indNephSyn @;
1344              put indNMSC @;
1345              put indNonVertOsFrac @;
1346              put indOppInf @;
1347              put indPsoriasis @;
1348              put indPSA @;
1349              put indRestrictLungDis @;
1350              put indSolidCa @;
1351              put indSpinalCordComp @;
1352              put indUlcerColitis @;
1353              put indUveitis @;
1354              put indDiabetes @;
1355              put indHT @;
1356              put indMetabSyn @;
1357              put indNAFattyLiverDis @;
1358              put indCOPDEmphysema @;
1359              put meanPredEqDoseCat $ @;
1360              put charlson @;
1361              put quartileCharlson @;
1362              put indInflamMarker @;
1363              put indRxNSAID @;
1364              put indRxHtn @;
1365              put indRxNarcotics @;
1366              put indRxFungus @;
1367              put indRxOP_bisphosp @;
1368              put indRxThiazide @;
1369              put indRxAnticoagulant @;
1370              put indIPAdmit12mPrior @;
1371              put indRxAntibiotics @;
1372              put countIPAdmits12mPrior @;
1373              put indERVisit12mPrior @;
1374              put ciras @;
1375              put quartileCIRAS @;
1376              put countAVPhys12mPrior @;
1377              put quartileAVPhys12mPrior @;
1378              put countAVRheum12mPrior @;
1379              put quartileAVRheum12mPrior @;
1380              put indAVRheum12mPrior @;
1381              put indRxBiologics @;
1382              put indOutpatientInfection ;
1383              ;
1384            end;
1385           if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
1386           if EFIEOD then call symputx('_EFIREC_',EFIOUT);
1387           run;

NOTE: The file 'data\processed\psDeidentified.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\psDeidentified.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=22Jun2018:12:40:54,
      Create Time=22Jun2018:12:40:54

NOTE: 32488 records were written to the file 'data\processed\psDeidentified.csv'.
      The minimum record length was 201.
      The maximum record length was 868.
NOTE: There were 32487 observations read from the data set WORK.PSDEIDENTIFIED.
NOTE: DATA statement used (Total process time):
      real time           0.35 seconds
      cpu time            0.35 seconds
      

32487 records created in data\processed\psDeidentified.csv from WORK.PSDEIDENTIFIED.
  
  
NOTE: "data\processed\psDeidentified.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.53 seconds
      cpu time            0.46 seconds
      

1388       proc export
1389         data = Work.commonSupportRegion
23                                                                  The SAS System                                         12:40 Friday, June 22, 2018

1390         outfile = "data\processed\commonSupportRegion.csv"
1391         dbms = csv
1392         replace;
1393         delimiter = ",";
1394       run;

1395        /**********************************************************************
1396        *   PRODUCT:   SAS
1397        *   VERSION:   9.4
1398        *   CREATOR:   External File Interface
1399        *   DATE:      22JUN18
1400        *   DESC:      Generated SAS Datastep Code
1401        *   TEMPLATE SOURCE:  (None Specified.)
1402        ***********************************************************************/
1403           data _null_;
1404           %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
1405           %let _EFIREC_ = 0;     /* clear export record count macro variable */
1406           file 'data\processed\commonSupportRegion.csv' delimiter=',' DSD DROPOVER lrecl=32767;
1407           if _n_ = 1 then        /* write column names or labels */
1408            do;
1409              put
1410                 "model"
1411              ','
1412                 "database"
1413              ','
1414                 "commonSupportLowerBound"
1415              ','
1416                 "commonSupportUpperBound"
1417              ;
1418            end;
1419          set  WORK.COMMONSUPPORTREGION   end=EFIEOD;
1420              format model $16. ;
1421              format database $10. ;
1422              format commonSupportLowerBound best12. ;
1423              format commonSupportUpperBound best12. ;
1424            do;
1425              EFIOUT + 1;
1426              put model $ @;
1427              put database $ @;
1428              put commonSupportLowerBound @;
1429              put commonSupportUpperBound ;
1430              ;
1431            end;
1432           if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
1433           if EFIEOD then call symputx('_EFIREC_',EFIOUT);
1434           run;

NOTE: The file 'data\processed\commonSupportRegion.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\commonSupportRegion.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=22Jun2018:12:40:55,
      Create Time=22Jun2018:12:40:55

NOTE: 4 records were written to the file 'data\processed\commonSupportRegion.csv'.
      The minimum record length was 47.
      The maximum record length was 62.
NOTE: There were 3 observations read from the data set WORK.COMMONSUPPORTREGION.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

3 records created in data\processed\commonSupportRegion.csv from WORK.COMMONSUPPORTREGION.
  
  
NOTE: "data\processed\commonSupportRegion.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.14 seconds
      cpu time            0.07 seconds
      

1435       
24                                                                  The SAS System                                         12:40 Friday, June 22, 2018

1436       
1437       ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           29.55 seconds
      cpu time            11.37 seconds
      
