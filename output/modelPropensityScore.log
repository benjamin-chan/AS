1                                         The SAS System               17:48 Friday, June 15, 2018

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M5) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70086550.
NOTE: This session is executing on the X64_DS08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 14.3
      SAS/ETS 14.3
      SAS/IML 14.3
      SAS/QC 14.3

NOTE: Additional host information:

 X64_DS08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any 
of the shared folders.

 


NOTE: SAS initialization used:
      real time           4.16 seconds
      cpu time            0.26 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                                        *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=modelPropensityScore; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref UCB64 was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB64\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
NOTE: Libref NDC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: W:\onenote\references\drug ndcs\sas data
143        footnote "&pgm.";
144        * footnote2 "%sysfunc(datetime(),datetime14.)";
145        title1 '--- AS project ---';
146        **********************************************************************;
147        options macrogen mlogic mprint symbolgen;
148        options nomacrogen nomlogic nomprint nosymbolgen;
2                                                                   The SAS System                                         17:48 Friday, June 15, 2018

149        
150        
151        ods html
152          body = "output\&cmt..html"
153          style = Statistical;
NOTE: Writing HTML Body file: output\modelPropensityScore.html
154        
155        
156        proc sql;
157          create table Work.allCovariates as
158            select A.database,
159                   case
160                     when A.exposure in ("No exposure", "NSAID") then "NSAID or no exposure"
161                     else A.exposure
162                     end as exposure3,
163                   case
164                     when A.exposure in ("No exposure", "NSAID", "DMARD") then "DMARD, NSAID, or no exposure"
165                     else A.exposure
166                     end as exposure2,
167                   A.PATID,
168                   A.age,
169                   case
170                     when age = 0 then "0"
171                     when  1 <= age <= 18 then "1-18"
172                     when 19 <= age <= 29 then "19-29"
173                     when 30 <= age <= 39 then "30-39"
174                     when 40 <= age <= 49 then "40-49"
175                     when 50 <= age <= 59 then "50-59"
176                     when 60 <= age <= 69 then "60-69"
177                     when 70 <= age       then "70+"
178                     else ""
179                     end as catAge,
180                   A.SEX,
181                   A.indexID,
182                   max(0, B.indAmyloidosis     ) as indAmyloidosis,
183                   max(0, C.indAortInsuffRegurg) as indAortInsuffRegurg,
184                   max(0, D.indApicalPulmFib   ) as indApicalPulmFib,
185                   max(0, E.indCaudaEquina     ) as indCaudaEquina,
186                   max(0, F.indVertFrac        ) as indVertFrac,
187                   max(0, G.indConductBlock    ) as indConductBlock,
188                   max(0, H.indCrohnsDis       ) as indCrohnsDis,
189                   max(0, I.indHematCa         ) as indHematCa,
190                   max(0, J.indHospInf         ) as indHospInf,
191                   max(0, K.indIgANeph         ) as indIgANeph,
192                   max(0, L.indInterstLungDis  ) as indInterstLungDis,
193                   max(0, M.indMI              ) as indMI,
194                   max(0, N.indNephSyn         ) as indNephSyn,
195                   max(0, O.indNMSC            ) as indNMSC,
196                   max(0, P.indNonVertOsFrac   ) as indNonVertOsFrac,
197                   max(0, Q.indOppInf          ) as indOppInf,
198                   max(0, R.indPsoriasis       ) as indPsoriasis,
199                   max(0, S.indPSA             ) as indPSA,
200                   max(0, T.indRestrictLungDis ) as indRestrictLungDis,
201                   max(0, U.indSolidCa         ) as indSolidCa,
202                   max(0, V.indSpinalCordComp  ) as indSpinalCordComp,
203                   max(0, W.indUlcerColitis    ) as indUlcerColitis,
204                   max(0, X.indUveitis         ) as indUveitis,
205                   max(0, AA.indDiabetes       ) as indDiabetes,
206                   max(0, BB.indHT             ) as indHT,
207                   max(0, CC.indMetabSyn       ) as indMetabSyn,
208                   max(0, DD.indNAFattyLiverDis) as indNAFattyLiverDis,
209                   max(0, EE.indCOPDEmphysema  ) as indCOPDEmphysema,
210                   case
211                     when FF.meanPredEqDoseCat = "" then "None"
212                     else FF.meanPredEqDoseCat
213                     end as meanPredEqDoseCat,
214                   max(0, GG.charlson) as charlson,
215                   max(0, HH.ciras) as ciras,
216                   max(0, HH.numinflamMarker) as numinflamMarker,
217                   HH.numinflamMarker > 0 as indInflamMarker,
218                   max(0, II.nsaid) as indRxNSAID,
219                   max(0, II.htn) as indRxHtn,
3                                                                   The SAS System                                         17:48 Friday, June 15, 2018

220                   max(0, II.narcotics) as indRxNarcotics,
221                   max(0, II.fungus) as indRxFungus,
222                   max(0, II.op_bisphosp) as indRxOP_bisphosp,
223                   max(0, II.thiazide) as indRxThiazide,
224                   max(0, II.anticoagulant) as indRxAnticoagulant,
225                   max(0, II.antibiotics) as indRxAntibiotics,
226                   max(0, JJ.indIPAdmit12mPrior) as indIPAdmit12mPrior,
227                   max(0, JJ.countIPAdmits12mPrior) as countIPAdmits12mPrior,
228                   max(0, KK.countAVPhys12mPrior) as countAVPhys12mPrior,
229                   case
230                     when  0 <= max(0, KK.countAVPhys12mPrior) <=  4 then "0-4"
231                     when  5 <= max(0, KK.countAVPhys12mPrior) <=  9 then "5-9"
232                     when 10 <= max(0, KK.countAVPhys12mPrior) <= 14 then "10-14"
233                     when 15 <= max(0, KK.countAVPhys12mPrior) <= 19 then "15-19"
234                     when 20 <= max(0, KK.countAVPhys12mPrior)       then "20+"
235                     else ""
236                     end as catAVPhys12mPrior,
237                   max(0, KK.countAVRheum12mPrior) as countAVRheum12mPrior,
238                   case
239                     when 0  = max(0, KK.countAVRheum12mPrior) then 0
240                     when 1 <= max(0, KK.countAVRheum12mPrior) then 1
241                     else .
242                     end as indAVRheum12mPrior,
243                   max(0, KK.indERVisit12mPrior) as indERVisit12mPrior,
244                   max(0, KK.countERVisits) as countERVisits,
245                   case
246                     when 0  = max(0, KK.countERVisits)       then "0"
247                     when 1 <= max(0, KK.countERVisits) <=  1 then "1"
248                     when 2 <= max(0, KK.countERVisits)       then "2+"
249                     else ""
250                     end as catERVisits,
251                   max(0, LL.indRxBiologics) as indRxBiologics,
252                   max(0, MM.indOutpatientInfection) as indOutpatientInfection
253            from
254              DT.indexLookup A left join
255              (select indexID, 1 as indAmyloidosis      from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Amyloidosis/"
255      !                        , disease    )) B  on (A.indexID = B.indexID ) left join
256              (select indexID, 1 as indAortInsuffRegurg from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Aortic
256      ! Insufficiency\/Aortic Regurgitation/", disease    )) C  on (A.indexID = C.indexID ) left join
257              (select indexID, 1 as indApicalPulmFib    from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Apical Pulmonary
257      ! fibrosis/"                 , disease    )) D  on (A.indexID = D.indexID ) left join
258              (select indexID, 1 as indCaudaEquina      from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Cauda Equina
258      ! syndrome/"                     , disease    )) E  on (A.indexID = E.indexID ) left join
259              (select indexID, 1 as indVertFrac         from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Clinical vertebral
259      ! fracture/"               , disease    )) F  on (A.indexID = F.indexID ) left join
260              (select indexID, 1 as indConductBlock     from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Conduction Block/"
260      !                        , disease    )) G  on (A.indexID = G.indexID ) left join
261              (select indexID, 1 as indCrohnsDis        from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Crohn/"
261      !                        , disease    )) H  on (A.indexID = H.indexID ) left join
262              (select indexID, 1 as indHematCa          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Hematologic Cancer/"
262      !                        , disease    )) I  on (A.indexID = I.indexID ) left join
263              (select indexID, 1 as indHospInf          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Hospitalized
263      ! infection/"                    , disease    )) J  on (A.indexID = J.indexID ) left join
264              (select indexID, 1 as indIgANeph          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/IgA nephropathy/"
264      !                        , disease    )) K  on (A.indexID = K.indexID ) left join
265              (select indexID, 1 as indInterstLungDis   from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Interstitial lung
265      ! disease/"                 , disease    )) L  on (A.indexID = L.indexID ) left join
266              (select indexID, 1 as indMI               from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Myocardial
266      ! infarction/"                     , disease    )) M  on (A.indexID = M.indexID ) left join
267              (select indexID, 1 as indNephSyn          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Nephrotic syndrome/"
267      !                        , disease    )) N  on (A.indexID = N.indexID ) left join
268              (select indexID, 1 as indNMSC             from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Non Melanoma Skin
268      ! Cancer/"                  , disease    )) O  on (A.indexID = O.indexID ) left join
269              (select indexID, 1 as indNonVertOsFrac    from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Non-vertebral
269      ! osteoporotic fracture/"       , disease    )) P  on (A.indexID = P.indexID ) left join
270              (select indexID, 1 as indOppInf           from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Opportunistic
270      ! infection/"                   , disease    )) Q  on (A.indexID = Q.indexID ) left join
271              (select indexID, 1 as indPsoriasis        from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Psoriasis/"
271      !                        , disease    )) R  on (A.indexID = R.indexID ) left join
272              (select indexID, 1 as indPSA              from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Psoriatic arthritis/"
272      !                        , disease    )) S  on (A.indexID = S.indexID ) left join
273              (select indexID, 1 as indRestrictLungDis  from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Restrictive lung
4                                                                   The SAS System                                         17:48 Friday, June 15, 2018

273      ! disease/"                  , disease    )) T  on (A.indexID = T.indexID ) left join
274              (select indexID, 1 as indSolidCa          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Solid Cancer/"
274      !                        , disease    )) U  on (A.indexID = U.indexID ) left join
275              (select indexID, 1 as indSpinalCordComp   from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Spinal Cord
275      ! compression/"                   , disease    )) V  on (A.indexID = V.indexID ) left join
276              (select indexID, 1 as indUlcerColitis     from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Ulcerative Colitis/"
276      !                        , disease    )) W  on (A.indexID = W.indexID ) left join
277              (select indexID, 1 as indUveitis          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Uveitis/"
277      !                        , disease    )) X  on (A.indexID = X.indexID ) left join
278              (select indexID, 1 as indDiabetes         from DT.comorbiditiesOther where                           prxmatch("/Diabetes/"
278      !                        , comorbidity)) AA on (A.indexID = AA.indexID) left join
279              (select indexID, 1 as indHT               from DT.comorbiditiesOther where                           prxmatch("/Hypertention/"
279      !                        , comorbidity)) BB on (A.indexID = BB.indexID) left join
280              (select indexID, 1 as indMetabSyn         from DT.comorbiditiesOther where                           prxmatch("/Metabolic syndrome/"
280      !                        , comorbidity)) CC on (A.indexID = CC.indexID) left join
281              (select indexID, 1 as indNAFattyLiverDis  from DT.comorbiditiesOther where                           prxmatch("/Non-alcoholic fatty
281      ! liver disease/"         , comorbidity)) DD on (A.indexID = DD.indexID) left join
282              (select indexID, 1 as indCOPDEmphysema    from DT.comorbiditiesOther where                           prxmatch("/COPD or emphysema/"
282      !                        , comorbidity)) EE on (A.indexID = EE.indexID) left join
283              (select indexID, meanPredEqDoseCat        from DT.rxOralCorticosteroid
283      !                                      ) FF on (A.indexID = FF.indexID) left join
284              (select indexID, charlson from DT.charlsonIndex) GG on (A.indexID = GG.indexID) left join
285              (select indexID, ciras, numinflamMarker from DT.CIRAS) HH on (A.indexID = HH.indexID) left join
286              (select indexID, nsaid, htn, narcotics, fungus, op_bisphosp, thiazide, anticoagulant, antibiotics from DT.indRx) II on (A.indexID =
286      ! II.indexID) left join
287              (select indexID, indIPAdmit12mPrior, countIPAdmits12mPrior from DT.diagIndicatorsInpatient) JJ on (A.indexID = JJ.indexID) left join
288              (select indexID, countAVPhys12mPrior, countAVRheum12mPrior, indERVisit12mPrior, countERVisits from DT.countEncounters) KK on
288      ! (A.indexID = KK.indexID) left join
289              (select indexID, indRxBiologics from DT.indBiologics) LL on (A.indexID = LL.indexID) left join
290              (select indexID, indOutpatientInfection from DT.outpatientInfection) MM on (A.indexID = MM.indexID)
291            order by A.database;
NOTE: Table WORK.ALLCOVARIATES created, with 13689 rows and 60 columns.

292        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           3.10 seconds
      cpu time            2.66 seconds
      

293        
294        
295        proc rank data = Work.allCovariates out = Work.allCovariates groups = 4;
296          by database;
297          var charlson ciras countIPAdmits12mPrior countAVPhys12mPrior countAVRheum12mPrior;
298          ranks quartileCharlson quartileCIRAS quartileIPAdmits12mPrior quartileAVPhys12mPrior quartileAVRheum12mPrior;
299        run;

NOTE: There were 13689 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The data set WORK.ALLCOVARIATES has 13689 observations and 65 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           0.45 seconds
      cpu time            0.12 seconds
      

300        
301        
302        proc means data = Work.allCovariates maxdec = 2 nolabels;
303          class database exposure2;
304          var indAmyloidosis
305              indAortInsuffRegurg
306              indApicalPulmFib
307              indCaudaEquina
308              indVertFrac
309              indConductBlock
310              indCrohnsDis
311              indHematCa
312              indHospInf
313              indIgANeph
314              indInterstLungDis
315              indMI
316              indNephSyn
317              indNMSC
5                                                                   The SAS System                                         17:48 Friday, June 15, 2018

318              indNonVertOsFrac
319              indOppInf
320              indPsoriasis
321              indPSA
322              indRestrictLungDis
323              indSolidCa
324              indSpinalCordComp
325              indUlcerColitis
326              indUveitis
327              indDiabetes
328              indHT
329              indMetabSyn
330              indNAFattyLiverDis
331              indCOPDEmphysema
332              charlson
333              quartileCharlson
334              ciras
335              indInflamMarker
336              indRxNSAID
337              indRxHtn
338              indRxNarcotics
339              indRxFungus
340              indRxOP_bisphosp
341              indRxThiazide
342              indRxAnticoagulant
343              indRxAntibiotics
344              indIPAdmit12mPrior
345              indAVRheum12mPrior
346              indERVisit12mPrior
347              indRxBiologics
348              indOutpatientInfection;
349        run;

                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018   1

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD          DMARD, NSAID, or no exposure     1032    indAmyloidosis             1032            0.00            0.00            0.00            0.00
                                                       indAortInsuffRegurg        1032            0.00            0.03            0.00            1.00
                                                       indApicalPulmFib           1032            0.00            0.00            0.00            0.00
                                                       indCaudaEquina             1032            0.00            0.00            0.00            0.00
                                                       indVertFrac                1032            0.00            0.04            0.00            1.00
                                                       indConductBlock            1032            0.00            0.03            0.00            1.00
                                                       indCrohnsDis               1032            0.01            0.12            0.00            1.00
                                                       indHematCa                 1032            0.00            0.03            0.00            1.00
                                                       indHospInf                 1032            0.00            0.05            0.00            1.00
                                                       indIgANeph                 1032            0.00            0.04            0.00            1.00
                                                       indInterstLungDis          1032            0.00            0.00            0.00            0.00
                                                       indMI                      1032            0.00            0.00            0.00            0.00
                                                       indNephSyn                 1032            0.00            0.00            0.00            0.00
                                                       indNMSC                    1032            0.00            0.00            0.00            0.00
                                                       indNonVertOsFrac           1032            0.01            0.10            0.00            1.00
                                                       indOppInf                  1032            0.00            0.05            0.00            1.00
                                                       indPsoriasis               1032            0.01            0.09            0.00            1.00
                                                       indPSA                     1032            0.01            0.12            0.00            1.00
                                                       indRestrictLungDis         1032            0.00            0.04            0.00            1.00
                                                       indSolidCa                 1032            0.02            0.12            0.00            1.00
                                                       indSpinalCordComp          1032            0.00            0.03            0.00            1.00
                                                       indUlcerColitis            1032            0.01            0.09            0.00            1.00
                                                       indUveitis                 1032            0.04            0.20            0.00            1.00
                                                       indDiabetes                1032            0.19            0.40            0.00            1.00
                                                       indHT                      1032            0.46            0.50            0.00            1.00
                                                       indMetabSyn                1032            0.02            0.14            0.00            1.00
                                                       indNAFattyLiverDis         1032            0.01            0.10            0.00            1.00
                                                       indCOPDEmphysema           1032            0.12            0.33            0.00            1.00
                                                       charlson                   1032            0.24            0.72            0.00            8.00
                                                       quartileCharlson           1032            1.28            0.70            1.00            3.00
                                                       ciras                      1032            3.33            0.92            1.13            5.84
                                                       indInflamMarker            1032            0.00            0.00            0.00            0.00
                                                       indRxNSAID                 1032            0.34            0.47            0.00            1.00
                                                       indRxHtn                   1032            0.18            0.39            0.00            1.00
                                                       indRxNarcotics             1032            0.30            0.46            0.00            1.00
                                                       indRxFungus                1032            0.02            0.15            0.00            1.00
                                                       indRxOP_bisphosp           1032            0.03            0.17            0.00            1.00
                                                       indRxThiazide              1032            0.05            0.22            0.00            1.00
                                                       indRxAnticoagulant         1032            0.01            0.12            0.00            1.00
                                                       indRxAntibiotics           1032            0.41            0.49            0.00            1.00
                                                       indIPAdmit12mPrior         1032            0.04            0.19            0.00            1.00
                                                       indAVRheum12mPrior         1032            0.95            0.22            0.00            1.00
                                                       indERVisit12mPrior         1032            0.22            0.42            0.00            1.00
                                                       indRxBiologics             1032            0.12            0.32            0.00            1.00
                                                       indOutpatientInfection     1032            0.65            0.48            0.00            1.00

              TNF                               670    indAmyloidosis              670            0.00            0.00            0.00            0.00
                                                       indAortInsuffRegurg         670            0.01            0.12            0.00            1.00
                                                       indApicalPulmFib            670            0.00            0.00            0.00            0.00
                                                       indCaudaEquina              670            0.00            0.00            0.00            0.00
                                                       indVertFrac                 670            0.01            0.09            0.00            1.00
                                                       indConductBlock             670            0.00            0.00            0.00            0.00
                                                       indCrohnsDis                670            0.04            0.20            0.00            1.00
                                                       indHematCa                  670            0.00            0.04            0.00            1.00
                                                       indHospInf                  670            0.01            0.08            0.00            1.00
                                                       indIgANeph                  670            0.00            0.04            0.00            1.00
                                                       indInterstLungDis           670            0.00            0.00            0.00            0.00
                                                       indMI                       670            0.00            0.00            0.00            0.00
                                                       indNephSyn                  670            0.00            0.00            0.00            0.00
                                                       indNMSC                     670            0.00            0.00            0.00            0.00
                                                       indNonVertOsFrac            670            0.01            0.09            0.00            1.00
                                                       indOppInf                   670            0.00            0.05            0.00            1.00
                                                       indPsoriasis                670            0.02            0.15            0.00            1.00
                                                       indPSA                      670            0.05            0.21            0.00            1.00
                                                       indRestrictLungDis          670            0.01            0.08            0.00            1.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018   2

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD          TNF                               670    indSolidCa                  670            0.02            0.13            0.00            1.00
                                                       indSpinalCordComp           670            0.00            0.00            0.00            0.00
                                                       indUlcerColitis             670            0.02            0.15            0.00            1.00
                                                       indUveitis                  670            0.07            0.25            0.00            1.00
                                                       indDiabetes                 670            0.11            0.31            0.00            1.00
                                                       indHT                       670            0.35            0.48            0.00            1.00
                                                       indMetabSyn                 670            0.01            0.09            0.00            1.00
                                                       indNAFattyLiverDis          670            0.02            0.14            0.00            1.00
                                                       indCOPDEmphysema            670            0.05            0.21            0.00            1.00
                                                       charlson                    670            0.22            0.70            0.00           10.00
                                                       quartileCharlson            670            1.27            0.69            1.00            3.00
                                                       ciras                       670            3.80            0.84            1.13            5.84
                                                       indInflamMarker             670            0.00            0.00            0.00            0.00
                                                       indRxNSAID                  670            0.50            0.50            0.00            1.00
                                                       indRxHtn                    670            0.16            0.36            0.00            1.00
                                                       indRxNarcotics              670            0.30            0.46            0.00            1.00
                                                       indRxFungus                 670            0.02            0.13            0.00            1.00
                                                       indRxOP_bisphosp            670            0.03            0.16            0.00            1.00
                                                       indRxThiazide               670            0.05            0.22            0.00            1.00
                                                       indRxAnticoagulant          670            0.02            0.14            0.00            1.00
                                                       indRxAntibiotics            670            0.34            0.47            0.00            1.00
                                                       indIPAdmit12mPrior          670            0.02            0.13            0.00            1.00
                                                       indAVRheum12mPrior          670            0.98            0.15            0.00            1.00
                                                       indERVisit12mPrior          670            0.22            0.41            0.00            1.00
                                                       indRxBiologics              670            0.42            0.49            0.00            1.00
                                                       indOutpatientInfection      670            0.65            0.48            0.00            1.00

Marketscan    DMARD, NSAID, or no exposure     4209    indAmyloidosis             4209            0.00            0.00            0.00            0.00
                                                       indAortInsuffRegurg        4209            0.00            0.07            0.00            1.00
                                                       indApicalPulmFib           4209            0.00            0.00            0.00            0.00
                                                       indCaudaEquina             4209            0.00            0.02            0.00            1.00
                                                       indVertFrac                4209            0.00            0.06            0.00            1.00
                                                       indConductBlock            4209            0.01            0.07            0.00            1.00
                                                       indCrohnsDis               4209            0.02            0.14            0.00            1.00
                                                       indHematCa                 4209            0.00            0.05            0.00            1.00
                                                       indHospInf                 4209            0.02            0.14            0.00            1.00
                                                       indIgANeph                 4209            0.00            0.00            0.00            0.00
                                                       indInterstLungDis          4209            0.00            0.03            0.00            1.00
                                                       indMI                      4209            0.00            0.03            0.00            1.00
                                                       indNephSyn                 4209            0.00            0.00            0.00            0.00
                                                       indNMSC                    4209            0.01            0.08            0.00            1.00
                                                       indNonVertOsFrac           4209            0.01            0.09            0.00            1.00
                                                       indOppInf                  4209            0.01            0.07            0.00            1.00
                                                       indPsoriasis               4209            0.02            0.13            0.00            1.00
                                                       indPSA                     4209            0.02            0.15            0.00            1.00
                                                       indRestrictLungDis         4209            0.00            0.07            0.00            1.00
                                                       indSolidCa                 4209            0.02            0.15            0.00            1.00
                                                       indSpinalCordComp          4209            0.00            0.03            0.00            1.00
                                                       indUlcerColitis            4209            0.01            0.09            0.00            1.00
                                                       indUveitis                 4209            0.05            0.22            0.00            1.00
                                                       indDiabetes                4209            0.13            0.33            0.00            1.00
                                                       indHT                      4209            0.41            0.49            0.00            1.00
                                                       indMetabSyn                4209            0.01            0.12            0.00            1.00
                                                       indNAFattyLiverDis         4209            0.02            0.14            0.00            1.00
                                                       indCOPDEmphysema           4209            0.06            0.24            0.00            1.00
                                                       charlson                   4209            0.42            1.13            0.00           27.00
                                                       quartileCharlson           4209            1.43            0.83            1.00            3.00
                                                       ciras                      4209            3.38            0.93            0.40            5.97
                                                       indInflamMarker            4209            0.00            0.00            0.00            0.00
                                                       indRxNSAID                 4209            0.27            0.44            0.00            1.00
                                                       indRxHtn                   4209            0.18            0.38            0.00            1.00
                                                       indRxNarcotics             4209            0.27            0.44            0.00            1.00
                                                       indRxFungus                4209            0.02            0.15            0.00            1.00
                                                       indRxOP_bisphosp           4209            0.03            0.17            0.00            1.00
                                                       indRxThiazide              4209            0.05            0.22            0.00            1.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018   3

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
Marketscan    DMARD, NSAID, or no exposure     4209    indRxAnticoagulant         4209            0.02            0.14            0.00            1.00
                                                       indRxAntibiotics           4209            0.31            0.46            0.00            1.00
                                                       indIPAdmit12mPrior         4209            0.10            0.30            0.00            1.00
                                                       indAVRheum12mPrior         4209            0.97            0.17            0.00            1.00
                                                       indERVisit12mPrior         4209            0.23            0.42            0.00            1.00
                                                       indRxBiologics             4209            0.16            0.37            0.00            1.00
                                                       indOutpatientInfection     4209            0.72            0.45            0.00            1.00

              TNF                              3453    indAmyloidosis             3453            0.00            0.00            0.00            0.00
                                                       indAortInsuffRegurg        3453            0.01            0.08            0.00            1.00
                                                       indApicalPulmFib           3453            0.00            0.00            0.00            0.00
                                                       indCaudaEquina             3453            0.00            0.00            0.00            0.00
                                                       indVertFrac                3453            0.00            0.04            0.00            1.00
                                                       indConductBlock            3453            0.01            0.07            0.00            1.00
                                                       indCrohnsDis               3453            0.04            0.20            0.00            1.00
                                                       indHematCa                 3453            0.00            0.02            0.00            1.00
                                                       indHospInf                 3453            0.02            0.15            0.00            1.00
                                                       indIgANeph                 3453            0.00            0.04            0.00            1.00
                                                       indInterstLungDis          3453            0.00            0.03            0.00            1.00
                                                       indMI                      3453            0.00            0.03            0.00            1.00
                                                       indNephSyn                 3453            0.00            0.02            0.00            1.00
                                                       indNMSC                    3453            0.01            0.08            0.00            1.00
                                                       indNonVertOsFrac           3453            0.01            0.08            0.00            1.00
                                                       indOppInf                  3453            0.01            0.09            0.00            1.00
                                                       indPsoriasis               3453            0.03            0.16            0.00            1.00
                                                       indPSA                     3453            0.05            0.21            0.00            1.00
                                                       indRestrictLungDis         3453            0.01            0.08            0.00            1.00
                                                       indSolidCa                 3453            0.01            0.12            0.00            1.00
                                                       indSpinalCordComp          3453            0.00            0.02            0.00            1.00
                                                       indUlcerColitis            3453            0.02            0.14            0.00            1.00
                                                       indUveitis                 3453            0.06            0.24            0.00            1.00
                                                       indDiabetes                3453            0.11            0.32            0.00            1.00
                                                       indHT                      3453            0.38            0.49            0.00            1.00
                                                       indMetabSyn                3453            0.01            0.12            0.00            1.00
                                                       indNAFattyLiverDis         3453            0.03            0.18            0.00            1.00
                                                       indCOPDEmphysema           3453            0.05            0.21            0.00            1.00
                                                       charlson                   3453            0.42            1.20            0.00           27.00
                                                       quartileCharlson           3453            1.44            0.83            1.00            3.00
                                                       ciras                      3453            3.58            0.87            0.00            8.16
                                                       indInflamMarker            3453            0.00            0.03            0.00            1.00
                                                       indRxNSAID                 3453            0.55            0.50            0.00            1.00
                                                       indRxHtn                   3453            0.30            0.46            0.00            1.00
                                                       indRxNarcotics             3453            0.50            0.50            0.00            1.00
                                                       indRxFungus                3453            0.06            0.24            0.00            1.00
                                                       indRxOP_bisphosp           3453            0.03            0.17            0.00            1.00
                                                       indRxThiazide              3453            0.10            0.30            0.00            1.00
                                                       indRxAnticoagulant         3453            0.03            0.16            0.00            1.00
                                                       indRxAntibiotics           3453            0.66            0.47            0.00            1.00
                                                       indIPAdmit12mPrior         3453            0.10            0.30            0.00            1.00
                                                       indAVRheum12mPrior         3453            0.99            0.08            0.00            1.00
                                                       indERVisit12mPrior         3453            0.26            0.44            0.00            1.00
                                                       indRxBiologics             3453            0.45            0.50            0.00            1.00
                                                       indOutpatientInfection     3453            0.77            0.42            0.00            1.00

Medicare      DMARD, NSAID, or no exposure     3515    indAmyloidosis             3515            0.00            0.03            0.00            1.00
                                                       indAortInsuffRegurg        3515            0.05            0.22            0.00            1.00
                                                       indApicalPulmFib           3515            0.00            0.00            0.00            0.00
                                                       indCaudaEquina             3515            0.00            0.04            0.00            1.00
                                                       indVertFrac                3515            0.03            0.18            0.00            1.00
                                                       indConductBlock            3515            0.04            0.20            0.00            1.00
                                                       indCrohnsDis               3515            0.02            0.13            0.00            1.00
                                                       indHematCa                 3515            0.02            0.14            0.00            1.00
                                                       indHospInf                 3515            0.11            0.32            0.00            1.00
                                                       indIgANeph                 3515            0.00            0.04            0.00            1.00
                                                       indInterstLungDis          3515            0.00            0.07            0.00            1.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018   4

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare      DMARD, NSAID, or no exposure     3515    indMI                      3515            0.01            0.11            0.00            1.00
                                                       indNephSyn                 3515            0.00            0.04            0.00            1.00
                                                       indNMSC                    3515            0.02            0.14            0.00            1.00
                                                       indNonVertOsFrac           3515            0.05            0.21            0.00            1.00
                                                       indOppInf                  3515            0.02            0.15            0.00            1.00
                                                       indPsoriasis               3515            0.03            0.16            0.00            1.00
                                                       indPSA                     3515            0.03            0.18            0.00            1.00
                                                       indRestrictLungDis         3515            0.04            0.19            0.00            1.00
                                                       indSolidCa                 3515            0.10            0.31            0.00            1.00
                                                       indSpinalCordComp          3515            0.00            0.04            0.00            1.00
                                                       indUlcerColitis            3515            0.02            0.13            0.00            1.00
                                                       indUveitis                 3515            0.04            0.19            0.00            1.00
                                                       indDiabetes                3515            0.39            0.49            0.00            1.00
                                                       indHT                      3515            0.89            0.31            0.00            1.00
                                                       indMetabSyn                3515            0.03            0.16            0.00            1.00
                                                       indNAFattyLiverDis         3515            0.03            0.17            0.00            1.00
                                                       indCOPDEmphysema           3515            0.34            0.47            0.00            1.00
                                                       charlson                   3515            0.46            0.95            0.00            7.00
                                                       quartileCharlson           3515            1.54            0.89            1.00            3.00
                                                       ciras                      3515            1.69            0.39            0.01            2.21
                                                       indInflamMarker            3515            0.00            0.00            0.00            0.00
                                                       indRxNSAID                 3515            1.00            0.00            1.00            1.00
                                                       indRxHtn                   3515            0.37            0.48            0.00            1.00
                                                       indRxNarcotics             3515            0.60            0.49            0.00            1.00
                                                       indRxFungus                3515            0.08            0.27            0.00            1.00
                                                       indRxOP_bisphosp           3515            0.02            0.15            0.00            1.00
                                                       indRxThiazide              3515            0.12            0.32            0.00            1.00
                                                       indRxAnticoagulant         3515            0.03            0.17            0.00            1.00
                                                       indRxAntibiotics           3515            0.66            0.47            0.00            1.00
                                                       indIPAdmit12mPrior         3515            0.25            0.43            0.00            1.00
                                                       indAVRheum12mPrior         3515            0.87            0.34            0.00            1.00
                                                       indERVisit12mPrior         3515            0.35            0.48            0.00            1.00
                                                       indRxBiologics             3515            0.15            0.35            0.00            1.00
                                                       indOutpatientInfection     3515            0.85            0.36            0.00            1.00

              TNF                               810    indAmyloidosis              810            0.00            0.00            0.00            0.00
                                                       indAortInsuffRegurg         810            0.05            0.21            0.00            1.00
                                                       indApicalPulmFib            810            0.00            0.00            0.00            0.00
                                                       indCaudaEquina              810            0.00            0.04            0.00            1.00
                                                       indVertFrac                 810            0.02            0.13            0.00            1.00
                                                       indConductBlock             810            0.04            0.19            0.00            1.00
                                                       indCrohnsDis                810            0.04            0.20            0.00            1.00
                                                       indHematCa                  810            0.00            0.07            0.00            1.00
                                                       indHospInf                  810            0.07            0.25            0.00            1.00
                                                       indIgANeph                  810            0.00            0.00            0.00            0.00
                                                       indInterstLungDis           810            0.00            0.07            0.00            1.00
                                                       indMI                       810            0.01            0.12            0.00            1.00
                                                       indNephSyn                  810            0.00            0.00            0.00            0.00
                                                       indNMSC                     810            0.02            0.14            0.00            1.00
                                                       indNonVertOsFrac            810            0.03            0.18            0.00            1.00
                                                       indOppInf                   810            0.04            0.19            0.00            1.00
                                                       indPsoriasis                810            0.03            0.18            0.00            1.00
                                                       indPSA                      810            0.06            0.23            0.00            1.00
                                                       indRestrictLungDis          810            0.04            0.19            0.00            1.00
                                                       indSolidCa                  810            0.09            0.29            0.00            1.00
                                                       indSpinalCordComp           810            0.00            0.04            0.00            1.00
                                                       indUlcerColitis             810            0.03            0.18            0.00            1.00
                                                       indUveitis                  810            0.07            0.25            0.00            1.00
                                                       indDiabetes                 810            0.37            0.48            0.00            1.00
                                                       indHT                       810            0.89            0.31            0.00            1.00
                                                       indMetabSyn                 810            0.02            0.15            0.00            1.00
                                                       indNAFattyLiverDis          810            0.05            0.21            0.00            1.00
                                                       indCOPDEmphysema            810            0.30            0.46            0.00            1.00
                                                       charlson                    810            0.50            0.95            0.00            6.00
                                                       quartileCharlson            810            1.57            0.90            1.00            3.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018   5

                                                                 The MEANS Procedure

database      exposure2                       N Obs    Variable                      N            Mean         Std Dev         Minimum         Maximum
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare      TNF                               810    ciras                       810            1.79            0.32            0.00            2.21
                                                       indInflamMarker             810            0.00            0.00            0.00            0.00
                                                       indRxNSAID                  810            1.00            0.00            1.00            1.00
                                                       indRxHtn                    810            0.37            0.48            0.00            1.00
                                                       indRxNarcotics              810            0.59            0.49            0.00            1.00
                                                       indRxFungus                 810            0.09            0.29            0.00            1.00
                                                       indRxOP_bisphosp            810            0.02            0.15            0.00            1.00
                                                       indRxThiazide               810            0.12            0.32            0.00            1.00
                                                       indRxAnticoagulant          810            0.03            0.18            0.00            1.00
                                                       indRxAntibiotics            810            0.66            0.47            0.00            1.00
                                                       indIPAdmit12mPrior          810            0.22            0.42            0.00            1.00
                                                       indAVRheum12mPrior          810            0.99            0.09            0.00            1.00
                                                       indERVisit12mPrior          810            0.31            0.46            0.00            1.00
                                                       indRxBiologics              810            0.32            0.47            0.00            1.00
                                                       indOutpatientInfection      810            0.89            0.32            0.00            1.00
------------------------------------------------------------------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 13689 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The PROCEDURE MEANS printed pages 1-5.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.34 seconds
      cpu time            0.54 seconds
      

350        proc freq data = Work.allCovariates;
351          table database * exposure2 * (meanPredEqDoseCat quartileCharlson quartileCIRAS quartileIPAdmits12mPrior quartileAVPhys12mPrior
351      ! quartileAVRheum12mPrior catERVisits) / list;
352        run;

                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018   6

                                                                  The FREQ Procedure

                                                                                                                Cumulative    Cumulative
              database      exposure2                       meanPredEqDoseCat          Frequency     Percent     Frequency      Percent
              --------------------------------------------------------------------------------------------------------------------------
              MPCD          DMARD, NSAID, or no exposure    High (10+ mg/d)                   2        0.01             2         0.01  
              MPCD          DMARD, NSAID, or no exposure    Low (<2.5 mg/d)                 168        1.23           170         1.24  
              MPCD          DMARD, NSAID, or no exposure    Medium-High (5-10 mg/d)          11        0.08           181         1.32  
              MPCD          DMARD, NSAID, or no exposure    Medium-Low (2.5-5 mg/d)          23        0.17           204         1.49  
              MPCD          DMARD, NSAID, or no exposure    None                            828        6.05          1032         7.54  
              MPCD          TNF                             High (10+ mg/d)                   1        0.01          1033         7.55  
              MPCD          TNF                             Low (<2.5 mg/d)                 201        1.47          1234         9.01  
              MPCD          TNF                             Medium-High (5-10 mg/d)          15        0.11          1249         9.12  
              MPCD          TNF                             Medium-Low (2.5-5 mg/d)          41        0.30          1290         9.42  
              MPCD          TNF                             None                            412        3.01          1702        12.43  
              Marketscan    DMARD, NSAID, or no exposure    High (10+ mg/d)                   7        0.05          1709        12.48  
              Marketscan    DMARD, NSAID, or no exposure    Low (<2.5 mg/d)                 975        7.12          2684        19.61  
              Marketscan    DMARD, NSAID, or no exposure    Medium-High (5-10 mg/d)          44        0.32          2728        19.93  
              Marketscan    DMARD, NSAID, or no exposure    Medium-Low (2.5-5 mg/d)         120        0.88          2848        20.81  
              Marketscan    DMARD, NSAID, or no exposure    None                           3063       22.38          5911        43.18  
              Marketscan    TNF                             High (10+ mg/d)                  19        0.14          5930        43.32  
              Marketscan    TNF                             Low (<2.5 mg/d)                1089        7.96          7019        51.27  
              Marketscan    TNF                             Medium-High (5-10 mg/d)          93        0.68          7112        51.95  
              Marketscan    TNF                             Medium-Low (2.5-5 mg/d)         202        1.48          7314        53.43  
              Marketscan    TNF                             None                           2050       14.98          9364        68.41  
              Medicare      DMARD, NSAID, or no exposure    High (10+ mg/d)                  20        0.15          9384        68.55  
              Medicare      DMARD, NSAID, or no exposure    Low (<2.5 mg/d)                 771        5.63         10155        74.18  
              Medicare      DMARD, NSAID, or no exposure    Medium-High (5-10 mg/d)         116        0.85         10271        75.03  
              Medicare      DMARD, NSAID, or no exposure    Medium-Low (2.5-5 mg/d)         200        1.46         10471        76.49  
              Medicare      DMARD, NSAID, or no exposure    None                           2408       17.59         12879        94.08  
              Medicare      TNF                             High (10+ mg/d)                   5        0.04         12884        94.12  
              Medicare      TNF                             Low (<2.5 mg/d)                 212        1.55         13096        95.67  
              Medicare      TNF                             Medium-High (5-10 mg/d)          36        0.26         13132        95.93  
              Medicare      TNF                             Medium-Low (2.5-5 mg/d)          83        0.61         13215        96.54  
              Medicare      TNF                             None                            474        3.46         13689       100.00  


                                                                                                            Cumulative    Cumulative
                 database      exposure2                       quartileCharlson    Frequency     Percent     Frequency      Percent
                 -------------------------------------------------------------------------------------------------------------------
                 MPCD          DMARD, NSAID, or no exposure                   1         885        6.47           885         6.47  
                 MPCD          DMARD, NSAID, or no exposure                   3         147        1.07          1032         7.54  
                 MPCD          TNF                                            1         578        4.22          1610        11.76  
                 MPCD          TNF                                            3          92        0.67          1702        12.43  
                 Marketscan    DMARD, NSAID, or no exposure                   1        3294       24.06          4996        36.50  
                 Marketscan    DMARD, NSAID, or no exposure                   3         915        6.68          5911        43.18  
                 Marketscan    TNF                                            1        2691       19.66          8602        62.84  
                 Marketscan    TNF                                            3         762        5.57          9364        68.41  
                 Medicare      DMARD, NSAID, or no exposure                   1        2559       18.69         11923        87.10  
                 Medicare      DMARD, NSAID, or no exposure                   3         956        6.98         12879        94.08  
                 Medicare      TNF                                            1         580        4.24         13459        98.32  
                 Medicare      TNF                                            3         230        1.68         13689       100.00  


                                                                                                           Cumulative    Cumulative
                   database      exposure2                       quartileCIRAS    Frequency     Percent     Frequency      Percent
                   ----------------------------------------------------------------------------------------------------------------
                   MPCD          DMARD, NSAID, or no exposure                0         325        2.37           325         2.37  
                   MPCD          DMARD, NSAID, or no exposure                1         272        1.99           597         4.36  
                   MPCD          DMARD, NSAID, or no exposure                2         218        1.59           815         5.95  
                   MPCD          DMARD, NSAID, or no exposure                3         217        1.59          1032         7.54  
                   MPCD          TNF                                         0          83        0.61          1115         8.15  
                   MPCD          TNF                                         1         156        1.14          1271         9.28  
                   MPCD          TNF                                         2         185        1.35          1456        10.64  
                   MPCD          TNF                                         3         246        1.80          1702        12.43  
                   Marketscan    DMARD, NSAID, or no exposure                0        1198        8.75          2900        21.18  
                   Marketscan    DMARD, NSAID, or no exposure                1        1119        8.17          4019        29.36  
                   Marketscan    DMARD, NSAID, or no exposure                2         942        6.88          4961        36.24  
                   Marketscan    DMARD, NSAID, or no exposure                3         950        6.94          5911        43.18  
                   Marketscan    TNF                                         0         718        5.25          6629        48.43  
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018   7

                                                                  The FREQ Procedure

                                                                                                           Cumulative    Cumulative
                   database      exposure2                       quartileCIRAS    Frequency     Percent     Frequency      Percent
                   ----------------------------------------------------------------------------------------------------------------
                   Marketscan    TNF                                         1         830        6.06          7459        54.49  
                   Marketscan    TNF                                         2         978        7.14          8437        61.63  
                   Marketscan    TNF                                         3         927        6.77          9364        68.41  
                   Medicare      DMARD, NSAID, or no exposure                0         931        6.80         10295        75.21  
                   Medicare      DMARD, NSAID, or no exposure                1         874        6.38         11169        81.59  
                   Medicare      DMARD, NSAID, or no exposure                2         843        6.16         12012        87.75  
                   Medicare      DMARD, NSAID, or no exposure                3         867        6.33         12879        94.08  
                   Medicare      TNF                                         0         133        0.97         13012        95.05  
                   Medicare      TNF                                         1         210        1.53         13222        96.59  
                   Medicare      TNF                                         2         231        1.69         13453        98.28  
                   Medicare      TNF                                         3         236        1.72         13689       100.00  


                                                                       quartile                             Cumulative    Cumulative
                 database      exposure2                       IPAdmits12mPrior    Frequency     Percent     Frequency      Percent
                 -------------------------------------------------------------------------------------------------------------------
                 MPCD          DMARD, NSAID, or no exposure                   1         994        7.26           994         7.26  
                 MPCD          DMARD, NSAID, or no exposure                   3          38        0.28          1032         7.54  
                 MPCD          TNF                                            1         658        4.81          1690        12.35  
                 MPCD          TNF                                            3          12        0.09          1702        12.43  
                 Marketscan    DMARD, NSAID, or no exposure                   1        3793       27.71          5495        40.14  
                 Marketscan    DMARD, NSAID, or no exposure                   3         416        3.04          5911        43.18  
                 Marketscan    TNF                                            1        3100       22.65          9011        65.83  
                 Marketscan    TNF                                            3         353        2.58          9364        68.41  
                 Medicare      DMARD, NSAID, or no exposure                   1        2649       19.35         12013        87.76  
                 Medicare      DMARD, NSAID, or no exposure                   3         866        6.33         12879        94.08  
                 Medicare      TNF                                            1         629        4.59         13508        98.68  
                 Medicare      TNF                                            3         181        1.32         13689       100.00  


                                                                       quartile                             Cumulative    Cumulative
                 database      exposure2                         AVPhys12mPrior    Frequency     Percent     Frequency      Percent
                 -------------------------------------------------------------------------------------------------------------------
                 MPCD          DMARD, NSAID, or no exposure                   0         271        1.98           271         1.98  
                 MPCD          DMARD, NSAID, or no exposure                   1         260        1.90           531         3.88  
                 MPCD          DMARD, NSAID, or no exposure                   2         257        1.88           788         5.76  
                 MPCD          DMARD, NSAID, or no exposure                   3         244        1.78          1032         7.54  
                 MPCD          TNF                                            0         134        0.98          1166         8.52  
                 MPCD          TNF                                            1         140        1.02          1306         9.54  
                 MPCD          TNF                                            2         189        1.38          1495        10.92  
                 MPCD          TNF                                            3         207        1.51          1702        12.43  
                 Marketscan    DMARD, NSAID, or no exposure                   0        1246        9.10          2948        21.54  
                 Marketscan    DMARD, NSAID, or no exposure                   1        1221        8.92          4169        30.46  
                 Marketscan    DMARD, NSAID, or no exposure                   2         884        6.46          5053        36.91  
                 Marketscan    DMARD, NSAID, or no exposure                   3         858        6.27          5911        43.18  
                 Marketscan    TNF                                            0         635        4.64          6546        47.82  
                 Marketscan    TNF                                            1         966        7.06          7512        54.88  
                 Marketscan    TNF                                            2         919        6.71          8431        61.59  
                 Marketscan    TNF                                            3         933        6.82          9364        68.41  
                 Medicare      DMARD, NSAID, or no exposure                   0         892        6.52         10256        74.92  
                 Medicare      DMARD, NSAID, or no exposure                   1         854        6.24         11110        81.16  
                 Medicare      DMARD, NSAID, or no exposure                   2         951        6.95         12061        88.11  
                 Medicare      DMARD, NSAID, or no exposure                   3         818        5.98         12879        94.08  
                 Medicare      TNF                                            0         112        0.82         12991        94.90  
                 Medicare      TNF                                            1         208        1.52         13199        96.42  
                 Medicare      TNF                                            2         256        1.87         13455        98.29  
                 Medicare      TNF                                            3         234        1.71         13689       100.00  
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018   8

                                                                  The FREQ Procedure

                                                                       quartile                             Cumulative    Cumulative
                 database      exposure2                        AVRheum12mPrior    Frequency     Percent     Frequency      Percent
                 -------------------------------------------------------------------------------------------------------------------
                 MPCD          DMARD, NSAID, or no exposure                   0         118        0.86           118         0.86  
                 MPCD          DMARD, NSAID, or no exposure                   1         578        4.22           696         5.08  
                 MPCD          DMARD, NSAID, or no exposure                   2         181        1.32           877         6.41  
                 MPCD          DMARD, NSAID, or no exposure                   3         155        1.13          1032         7.54  
                 MPCD          TNF                                            0          59        0.43          1091         7.97  
                 MPCD          TNF                                            1         198        1.45          1289         9.42  
                 MPCD          TNF                                            2         171        1.25          1460        10.67  
                 MPCD          TNF                                            3         242        1.77          1702        12.43  
                 Marketscan    DMARD, NSAID, or no exposure                   0        1317        9.62          3019        22.05  
                 Marketscan    DMARD, NSAID, or no exposure                   1         914        6.68          3933        28.73  
                 Marketscan    DMARD, NSAID, or no exposure                   2        1000        7.31          4933        36.04  
                 Marketscan    DMARD, NSAID, or no exposure                   3         978        7.14          5911        43.18  
                 Marketscan    TNF                                            0         647        4.73          6558        47.91  
                 Marketscan    TNF                                            1         724        5.29          7282        53.20  
                 Marketscan    TNF                                            2        1003        7.33          8285        60.52  
                 Marketscan    TNF                                            3        1079        7.88          9364        68.41  
                 Medicare      DMARD, NSAID, or no exposure                   0         657        4.80         10021        73.20  
                 Medicare      DMARD, NSAID, or no exposure                   1         997        7.28         11018        80.49  
                 Medicare      DMARD, NSAID, or no exposure                   2        1086        7.93         12104        88.42  
                 Medicare      DMARD, NSAID, or no exposure                   3         775        5.66         12879        94.08  
                 Medicare      TNF                                            0          22        0.16         12901        94.24  
                 Medicare      TNF                                            1         103        0.75         13004        95.00  
                 Medicare      TNF                                            2         272        1.99         13276        96.98  
                 Medicare      TNF                                            3         413        3.02         13689       100.00  


                                                                                                          Cumulative    Cumulative
                    database      exposure2                       catERVisits    Frequency     Percent     Frequency      Percent
                    --------------------------------------------------------------------------------------------------------------
                    MPCD          DMARD, NSAID, or no exposure    0                   804        5.87           804         5.87  
                    MPCD          DMARD, NSAID, or no exposure    1                   160        1.17           964         7.04  
                    MPCD          DMARD, NSAID, or no exposure    2+                   68        0.50          1032         7.54  
                    MPCD          TNF                             0                   524        3.83          1556        11.37  
                    MPCD          TNF                             1                   100        0.73          1656        12.10  
                    MPCD          TNF                             2+                   46        0.34          1702        12.43  
                    Marketscan    DMARD, NSAID, or no exposure    0                  3229       23.59          4931        36.02  
                    Marketscan    DMARD, NSAID, or no exposure    1                   621        4.54          5552        40.56  
                    Marketscan    DMARD, NSAID, or no exposure    2+                  359        2.62          5911        43.18  
                    Marketscan    TNF                             0                  2545       18.59          8456        61.77  
                    Marketscan    TNF                             1                   586        4.28          9042        66.05  
                    Marketscan    TNF                             2+                  322        2.35          9364        68.41  
                    Medicare      DMARD, NSAID, or no exposure    0                  2274       16.61         11638        85.02  
                    Medicare      DMARD, NSAID, or no exposure    1                   700        5.11         12338        90.13  
                    Medicare      DMARD, NSAID, or no exposure    2+                  541        3.95         12879        94.08  
                    Medicare      TNF                             0                   559        4.08         13438        98.17  
                    Medicare      TNF                             1                   165        1.21         13603        99.37  
                    Medicare      TNF                             2+                   86        0.63         13689       100.00  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 13689 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The PROCEDURE FREQ printed pages 6-8.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.04 seconds
      cpu time            0.25 seconds
      

353        proc sql;
354          select database,
355                 catAge,
356                 min(age) as min,
357                 mean(age) as mean,
358                 max(age) as max,
359                 count(*) as n,
360                 sum(exposure2 = "TNF") as nTNF,
361                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
362            from Work.AllCovariates
363            group by database, catAge;
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018   9

                                                                                                                  n
                                              cat                                                      DMARDNSAIDNo
                                  database    Age         min      mean       max         n      nTNF           Exp
                                  ---------------------------------------------------------------------------------
                                  MPCD        1-18         10  13.51351        15        37        22            15
                                  MPCD        19-29        20  23.24242        25       165        85            80
                                  MPCD        30-39        30  32.29688        35       320       161           159
                                  MPCD        40-49        40   42.4605        45       443       208           235
                                  MPCD        50-59        50  52.42857        55       420       132           288
                                  MPCD        60-69        60  62.02041        65       245        53           192
                                  MPCD        70+          70  72.84722        80        72         9            63
                                  Marketscan  1-18          7  15.89241        18       158        82            76
                                  Marketscan  19-29        19  24.84442        29       932       454           478
                                  Marketscan  30-39        30  34.74077        39      1489       735           754
                                  Marketscan  40-49        40  44.49826        49      2007      1005          1002
                                  Marketscan  50-59        50  54.42667        59      2025       819          1206
                                  Marketscan  60-69        60  63.10051        69       786       287           499
                                  Marketscan  70+          70  76.30189       100       265        71           194
                                  Medicare    60-69        65  67.03483        69      1809       397          1412
                                  Medicare    70+          70  75.63355       100      2516       413          2103
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
364          select database,
365                 quartileCharlson,
366                 min(charlson) as min,
367                 mean(charlson) as mean,
368                 max(charlson) as max,
369                 count(*) as n,
370                 sum(exposure2 = "TNF") as nTNF,
371                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
372            from Work.AllCovariates
6                                                                   The SAS System                                         17:48 Friday, June 15, 2018

373            group by database, quartileCharlson;
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  10

                                             Rank for                                                               n
                                             Variable                                                    DMARDNSAIDNo
                                 database    charlson       min      mean       max         n      nTNF           Exp
                                 ------------------------------------------------------------------------------------
                                 MPCD               1         0         0         0      1463       578           885
                                 MPCD               3         1  1.640167        10       239        92           147
                                 Marketscan         1         0         0         0      5985      2691          3294
                                 Marketscan         3         1  1.915325        27      1677       762           915
                                 Medicare           1         0         0         0      3139       580          2559
                                 Medicare           3         1  1.692243         7      1186       230           956
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
374          select database,
375                 quartileCIRAS,
376                 min(ciras) as min,
377                 mean(ciras) as mean,
378                 max(ciras) as max,
379                 count(*) as n,
380                 sum(exposure2 = "TNF") as nTNF,
381                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
382            from Work.AllCovariates
383            group by database, quartileCIRAS;
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  11

                                             Rank for                                                               n
                                             Variable                                                    DMARDNSAIDNo
                                 database       ciras       min      mean       max         n      nTNF           Exp
                                 ------------------------------------------------------------------------------------
                                 MPCD               0     1.128  2.343083     2.778       408        83           325
                                 MPCD               1      2.87   3.14428     3.438       428       156           272
                                 MPCD               2      3.53  3.776854     4.098       403       185           218
                                 MPCD               3      4.19  4.673369      5.84       463       246           217
                                 Marketscan         0         0  2.350907     2.804      1916       718          1198
                                 Marketscan         1     2.844   3.12928     3.438      1949       830          1119
                                 Marketscan         2     3.464  3.772847     4.124      1920       978           942
                                 Marketscan         3     4.164  4.661478     8.164      1877       927           950
                                 Medicare           0         0  1.159263     1.458      1064       133           931
                                 Medicare           1     1.484  1.647122     1.788      1084       210           874
                                 Medicare           2     1.814  1.902251     1.986      1074       231           843
                                 Medicare           3     2.012  2.102326      2.21      1103       236           867
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
384          select database,
385                 quartileIPAdmits12mPrior,
386                 min(countIPAdmits12mPrior) as min,
387                 mean(countIPAdmits12mPrior) as mean,
388                 max(countIPAdmits12mPrior) as max,
389                 count(*) as n,
390                 sum(exposure2 = "TNF") as nTNF,
391                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
392            from Work.AllCovariates
393            group by database, quartileIPAdmits12mPrior;
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  12

                                               Rank for
                                               Variable
                                                  count                                                               n
                                            IPAdmits12m                                                    DMARDNSAIDNo
                               database           Prior       min      mean       max         n      nTNF           Exp
                               ----------------------------------------------------------------------------------------
                               MPCD                   1         0         0         0      1652       658           994
                               MPCD                   3         1      1.46         5        50        12            38
                               Marketscan             1         0         0         0      6893      3100          3793
                               Marketscan             3         1  1.293888         6       769       353           416
                               Medicare               1         0         0         0      3278       629          2649
                               Medicare               3         1  1.671442        10      1047       181           866
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
394          select database,
395                 quartileAVPhys12mPrior,
396                 min(countAVPhys12mPrior) as min,
397                 mean(countAVPhys12mPrior) as mean,
398                 max(countAVPhys12mPrior) as max,
399                 count(*) as n,
400                 sum(exposure2 = "TNF") as nTNF,
401                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
402            from Work.AllCovariates
403            group by database, quartileAVPhys12mPrior;
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  13

                                               Rank for
                                               Variable
                                                  count                                                               n
                                              AVPhys12m                                                    DMARDNSAIDNo
                               database           Prior       min      mean       max         n      nTNF           Exp
                               ----------------------------------------------------------------------------------------
                               MPCD                   0         0  3.787654         5       405       134           271
                               MPCD                   1         6    6.9675         8       400       140           260
                               MPCD                   2         9  10.77803        13       446       189           257
                               MPCD                   3        14  20.53215        57       451       207           244
                               Marketscan             0         0  3.734716         5      1881       635          1246
                               Marketscan             1         6  7.462277         9      2187       966          1221
                               Marketscan             2        10  11.78148        14      1803       919           884
                               Marketscan             3        15  22.07538        93      1791       933           858
                               Medicare               0         0  5.827689         8      1004       112           892
                               Medicare               1         9  11.01412        13      1062       208           854
                               Medicare               2        14  17.02651        21      1207       256           951
                               Medicare               3        22  30.62643       127      1052       234           818
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
404          select database,
405                 quartileAVRheum12mPrior,
406                 min(countAVRheum12mPrior) as min,
407                 mean(countAVRheum12mPrior) as mean,
408                 max(countAVRheum12mPrior) as max,
409                 count(*) as n,
410                 sum(exposure2 = "TNF") as nTNF,
411                 sum(exposure2 ^= "TNF") as nDMARDNSAIDNoExp
412            from Work.AllCovariates
413            group by database, quartileAVRheum12mPrior;
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  14

                                               Rank for
                                               Variable
                                                  count                                                               n
                                             AVRheum12m                                                    DMARDNSAIDNo
                               database           Prior       min      mean       max         n      nTNF           Exp
                               ----------------------------------------------------------------------------------------
                               MPCD                   0         0  0.621469         1       177        59           118
                               MPCD                   1         2         2         2       776       198           578
                               MPCD                   2         3         3         3       352       171           181
                               MPCD                   3         4  5.176322        12       397       242           155
                               Marketscan             0         0  3.488798         5      1964       647          1317
                               Marketscan             1         6  6.990842         8      1638       724           914
                               Marketscan             2         9  10.75637        13      2003      1003          1000
                               Marketscan             3        14  20.96646        93      2057      1079           978
                               Medicare               0         0  0.312224         1       679        22           657
                               Medicare               1         2         2         2      1100       103           997
                               Medicare               2         3  3.392489         4      1358       272          1086
                               Medicare               3         5  7.476431        36      1188       413           775
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
414        quit;
NOTE: The PROCEDURE SQL printed pages 9-14.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.54 seconds
      cpu time            0.60 seconds
      

415        
416        
417        /*
418        Fit 2-level model
419        2 levels of treatment exposure: TNF vs DMARD, NSAID, or no exposure
420        
421        Fit separate models for each data source: MPCD, Marketscan, Medicare
422        
423        Some parameters blow up; exlude these from the model estimation
424         */
425        %let class = catAge (ref = "70+")
426                     sex (ref = "M")
427                     meanPredEqDoseCat (ref = "None")
428                     quartileCharlson (ref = first)
429                     quartileCIRAS (ref = first)
430                     quartileAVPhys12mPrior (ref = first)
431                     quartileAVRheum12mPrior (ref = first)
432                     / param = ref;
433        
434        
435        %let db = MPCD;
436        proc logistic data = Work.allCovariates outest = Work.psBetas2Level;
437          where database = "&db";
438          class &class;
7                                                                   The SAS System                                         17:48 Friday, June 15, 2018

439          model exposure2 (event = "TNF") =
440                catAge
441                sex
442                /* indAmyloidosis */
443                indAortInsuffRegurg
444                /* indApicalPulmFib */
445                /* indCaudaEquina */
446                indVertFrac
447                /* indConductBlock */
448                indCrohnsDis
449                indHematCa
450                indHospInf
451                indIgANeph
452                /* indInterstLungDis */
453                /* indMI */
454                /* indNephSyn */
455                /* indNMSC */
456                indNonVertOsFrac
457                indOppInf
458                indPsoriasis
459                indPSA
460                indRestrictLungDis
461                indSolidCa
462                /* indSpinalCordComp */
463                indUlcerColitis
464                indUveitis
465                indDiabetes
466                indHT
467                indMetabSyn
468                indNAFattyLiverDis
469                indCOPDEmphysema
470                meanPredEqDoseCat
471                quartileCharlson
472                indInflamMarker
473                indRxNSAID
474                indRxHtn
475                indRxNarcotics
476                indRxFungus
477                indRxOP_bisphosp
478                indRxThiazide
479                indRxAnticoagulant
480                indRxAntibiotics
481                countIPAdmits12mPrior
482                indERVisit12mPrior
483                countAVRheum12mPrior
484                indRxBiologics
485                indOutpatientInfection
486                / link = logit rsquare;
487          output out = Work.ps2Level predicted = ps xbeta = xbeta;
488        run;

                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  15

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure2         
                                                   Number of Response Levels     2                 
                                                   Model                         binary logit      
                                                   Optimization Technique        Fisher's scoring  


                                                       Number of Observations Read        1702
                                                       Number of Observations Used        1702


                                                                   Response Profile
 
                                                Ordered                                          Total
                                                  Value     exposure2                        Frequency

                                                      1     DMARD, NSAID, or no exposure          1032
                                                      2     TNF                                    670

                                                       Probability modeled is exposure2='TNF'.
NOTE: PROC LOGISTIC is modeling the probability that exposure2='TNF'.


                                                               Class Level Information
 
                               Class                 Value                                  Design Variables

                               catAge                1-18                         1      0      0      0      0      0
                                                     19-29                        0      1      0      0      0      0
                                                     30-39                        0      0      1      0      0      0
                                                     40-49                        0      0      0      1      0      0
                                                     50-59                        0      0      0      0      1      0
                                                     60-69                        0      0      0      0      0      1
                                                     70+                          0      0      0      0      0      0

                               SEX                   F                            1                                   
                                                     M                            0                                   

                               meanPredEqDoseCat     High (10+ mg/d)              1      0      0      0              
                                                     Low (<2.5 mg/d)              0      1      0      0              
                                                     Medium-High (5-10 mg/d)      0      0      1      0              
                                                     Medium-Low (2.5-5 mg/d)      0      0      0      1              
                                                     None                         0      0      0      0              

                               quartileCharlson      1                            0                                   
                                                     3                            1                                   


                                                               Model Convergence Status

                                                    Convergence criterion (GCONV=1E-8) satisfied.          
NOTE: Convergence criterion (GCONV=1E-8) satisfied.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC            2283.888       1767.885
                                                        SC             2289.327       2012.666
                                                        -2 Log L       2281.888       1677.885


                                                R-Square    0.2987    Max-rescaled R-Square    0.4046
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  16

                                                                The LOGISTIC Procedure

                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio       604.0022       44         <.0001
                                               Score                  515.8107       44         <.0001
                                               Wald                   361.5292       44         <.0001


                                                              Type 3 Analysis of Effects
 
                                                                                     Wald
                                               Effect                    DF    Chi-Square    Pr > ChiSq

                                               catAge                     6       51.5436        <.0001
                                               SEX                        1        3.7051        0.0542
                                               indAortInsuffRegurg        1        3.9823        0.0460
                                               indVertFrac                1        2.8786        0.0898
                                               indCrohnsDis               1        5.7464        0.0165
                                               indHematCa                 1        0.0535        0.8170
                                               indHospInf                 1        2.8859        0.0894
                                               indIgANeph                 1        3.2418        0.0718
                                               indNonVertOsFrac           1        1.2436        0.2648
                                               indOppInf                  1        0.9366        0.3332
                                               indPsoriasis               1        4.6760        0.0306
                                               indPSA                     1        2.6468        0.1038
                                               indRestrictLungDis         1        3.1606        0.0754
                                               indSolidCa                 1        1.0785        0.2990
                                               indUlcerColitis            1        0.5473        0.4594
                                               indUveitis                 1        1.3762        0.2408
                                               indDiabetes                1        0.1143        0.7353
                                               indHT                      1        0.7959        0.3723
                                               indMetabSyn                1        2.3887        0.1222
                                               indNAFattyLiverDis         1        0.8072        0.3689
                                               indCOPDEmphysema           1        7.8937        0.0050
                                               meanPredEqDoseCat          4       23.4711        0.0001
                                               quartileCharlson           1        1.3164        0.2512
                                               indInflamMarker            0                            
                                               indRxNSAID                 1       91.9569        <.0001
                                               indRxHtn                   1        4.6283        0.0314
                                               indRxNarcotics             1        0.7962        0.3722
                                               indRxFungus                1        0.1836        0.6683
                                               indRxOP_bisphosp           1        0.0110        0.9165
                                               indRxThiazide              1        1.8082        0.1787
                                               indRxAnticoagulant         1        0.0474        0.8277
                                               indRxAntibiotics           1       58.4300        <.0001
                                               countIPAdmits12mPrio       1        4.0078        0.0453
                                               indERVisit12mPrior         1        0.4855        0.4859
                                               countAVRheum12mPrior       1       68.7332        <.0001
                                               indRxBiologics             1      108.1554        <.0001
                                               indOutpatientInfecti       1        2.4593        0.1168


             NOTE: The following parameters have been set to 0, since the variables are a linear combination of other variables as shown.


                                                                 indInflamMarker =  0


 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  17

                                                                The LOGISTIC Procedure

                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                        Parameter                                       DF    Estimate       Error    Chi-Square    Pr > ChiSq

                        Intercept                                        1     -3.3666      0.4591       53.7797        <.0001
                        catAge               1-18                        1      2.2338      0.5843       14.6175        0.0001
                        catAge               19-29                       1      2.0687      0.4662       19.6865        <.0001
                        catAge               30-39                       1      1.7969      0.4449       16.3150        <.0001
                        catAge               40-49                       1      1.6836      0.4312       15.2444        <.0001
                        catAge               50-59                       1      0.9193      0.4281        4.6127        0.0317
                        catAge               60-69                       1      0.7637      0.4427        2.9765        0.0845
                        SEX                  F                           1     -0.2542      0.1321        3.7051        0.0542
                        indAortInsuffRegurg                              1      2.1913      1.0981        3.9823        0.0460
                        indVertFrac                                      1      1.8196      1.0725        2.8786        0.0898
                        indCrohnsDis                                     1      0.9988      0.4166        5.7464        0.0165
                        indHematCa                                       1     -2.2471      9.7116        0.0535        0.8170
                        indHospInf                                       1      1.8834      1.1087        2.8859        0.0894
                        indIgANeph                                       1     -2.2814      1.2671        3.2418        0.0718
                        indNonVertOsFrac                                 1     -0.8925      0.8003        1.2436        0.2648
                        indOppInf                                        1     -1.3079      1.3515        0.9366        0.3332
                        indPsoriasis                                     1      1.3613      0.6295        4.6760        0.0306
                        indPSA                                           1      0.7175      0.4410        2.6468        0.1038
                        indRestrictLungDis                               1      1.7386      0.9780        3.1606        0.0754
                        indSolidCa                                       1      0.5287      0.5091        1.0785        0.2990
                        indUlcerColitis                                  1      0.3954      0.5344        0.5473        0.4594
                        indUveitis                                       1      0.3334      0.2842        1.3762        0.2408
                        indDiabetes                                      1     -0.0672      0.1987        0.1143        0.7353
                        indHT                                            1      0.1377      0.1543        0.7959        0.3723
                        indMetabSyn                                      1     -0.8452      0.5469        2.3887        0.1222
                        indNAFattyLiverDis                               1      0.4509      0.5018        0.8072        0.3689
                        indCOPDEmphysema                                 1     -0.7221      0.2570        7.8937        0.0050
                        meanPredEqDoseCat    High (10+ mg/d)             1      0.3813      1.2439        0.0940        0.7592
                        meanPredEqDoseCat    Low (<2.5 mg/d)             1      0.6754      0.1493       20.4687        <.0001
                        meanPredEqDoseCat    Medium-High (5-10 mg/d)     1      0.5775      0.4890        1.3950        0.2376
                        meanPredEqDoseCat    Medium-Low (2.5-5 mg/d)     1      0.7070      0.3354        4.4429        0.0350
                        quartileCharlson     3                           1      0.2483      0.2164        1.3164        0.2512
                        indInflamMarker                                  0           0                                        
                        indRxNSAID                                       1      1.8554      0.1935       91.9569        <.0001
                        indRxHtn                                         1     -0.4966      0.2308        4.6283        0.0314
                        indRxNarcotics                                   1     -0.1638      0.1835        0.7962        0.3722
                        indRxFungus                                      1     -0.2080      0.4854        0.1836        0.6683
                        indRxOP_bisphosp                                 1      0.0419      0.3992        0.0110        0.9165
                        indRxThiazide                                    1      0.4499      0.3346        1.8082        0.1787
                        indRxAnticoagulant                               1      0.1125      0.5169        0.0474        0.8277
                        indRxAntibiotics                                 1     -1.5261      0.1996       58.4300        <.0001
                        countIPAdmits12mPrio                             1     -0.6544      0.3269        4.0078        0.0453
                        indERVisit12mPrior                               1     -0.1111      0.1595        0.4855        0.4859
                        countAVRheum12mPrior                             1      0.3572      0.0431       68.7332        <.0001
                        indRxBiologics                                   1      1.5173      0.1459      108.1554        <.0001
                        indOutpatientInfecti                             1     -0.2102      0.1340        2.4593        0.1168


                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               catAge               1-18  vs 70+                          9.335       2.970      29.338
                               catAge               19-29 vs 70+                          7.915       3.174      19.738
                               catAge               30-39 vs 70+                          6.031       2.522      14.423
                               catAge               40-49 vs 70+                          5.385       2.313      12.539
                               catAge               50-59 vs 70+                          2.508       1.084       5.803
                               catAge               60-69 vs 70+                          2.146       0.901       5.111
                               SEX                  F vs M                                0.776       0.599       1.005
                               indAortInsuffRegurg                                        8.947       1.040      76.981
                               indVertFrac                                                6.169       0.754      50.480
                               indCrohnsDis                                               2.715       1.200       6.143
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  18

                                                                The LOGISTIC Procedure

                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               indHematCa                                                 0.106      <0.001    >999.999
                               indHospInf                                                 6.576       0.749      57.767
                               indIgANeph                                                 0.102       0.009       1.224
                               indNonVertOsFrac                                           0.410       0.085       1.966
                               indOppInf                                                  0.270       0.019       3.823
                               indPsoriasis                                               3.901       1.136      13.398
                               indPSA                                                     2.049       0.863       4.864
                               indRestrictLungDis                                         5.689       0.837      38.682
                               indSolidCa                                                 1.697       0.626       4.602
                               indUlcerColitis                                            1.485       0.521       4.233
                               indUveitis                                                 1.396       0.800       2.436
                               indDiabetes                                                0.935       0.633       1.380
                               indHT                                                      1.148       0.848       1.553
                               indMetabSyn                                                0.429       0.147       1.254
                               indNAFattyLiverDis                                         1.570       0.587       4.197
                               indCOPDEmphysema                                           0.486       0.294       0.804
                               meanPredEqDoseCat    High (10+ mg/d)         vs None       1.464       0.128      16.763
                               meanPredEqDoseCat    Low (<2.5 mg/d)         vs None       1.965       1.466       2.633
                               meanPredEqDoseCat    Medium-High (5-10 mg/d) vs None       1.782       0.683       4.646
                               meanPredEqDoseCat    Medium-Low (2.5-5 mg/d) vs None       2.028       1.051       3.913
                               quartileCharlson     3 vs 1                                1.282       0.839       1.959
                               indRxNSAID                                                 6.395       4.376       9.344
                               indRxHtn                                                   0.609       0.387       0.957
                               indRxNarcotics                                             0.849       0.592       1.216
                               indRxFungus                                                0.812       0.314       2.103
                               indRxOP_bisphosp                                           1.043       0.477       2.280
                               indRxThiazide                                              1.568       0.814       3.021
                               indRxAnticoagulant                                         1.119       0.406       3.082
                               indRxAntibiotics                                           0.217       0.147       0.321
                               countIPAdmits12mPrio                                       0.520       0.274       0.986
                               indERVisit12mPrior                                         0.895       0.655       1.223
                               countAVRheum12mPrior                                       1.429       1.314       1.555
                               indRxBiologics                                             4.560       3.426       6.069
                               indOutpatientInfecti                                       0.810       0.623       1.054


                                             Association of Predicted Probabilities and Observed Responses

                                                  Percent Concordant      82.7    Somers' D    0.654
                                                  Percent Discordant      17.3    Gamma        0.654
                                                  Percent Tied             0.0    Tau-a        0.312
                                                  Pairs                 691440    c            0.827
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 1702 observations read from the data set WORK.ALLCOVARIATES.
      WHERE database='MPCD';
NOTE: The data set WORK.PSBETAS2LEVEL has 1 observations and 52 variables.
NOTE: The data set WORK.PS2LEVEL has 1702 observations and 68 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 15-18.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           0.88 seconds
      cpu time            0.23 seconds
      

489        proc datasets library = work nolist;
490          change psBetas2Level = psBetas2Level&db
491                 ps2Level = ps2Level&db;
492        run;

NOTE: Changing the name WORK.PSBETAS2LEVEL to WORK.PSBETAS2LEVELMPCD (memtype=DATA).
NOTE: Changing the name WORK.PS2LEVEL to WORK.PS2LEVELMPCD (memtype=DATA).
493        
494        %let db = Marketscan;
8                                                                   The SAS System                                         17:48 Friday, June 15, 2018


NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

495        proc logistic data = Work.allCovariates outest = Work.psBetas2Level;
496          where database = "&db";
497          class &class;
498          model exposure2 (event = "TNF") =
499                catAge
500                sex
501                /* indAmyloidosis */
502                indAortInsuffRegurg
503                /* indApicalPulmFib */
504                /* indCaudaEquina */
505                indVertFrac
506                indConductBlock
507                indCrohnsDis
508                indHematCa
509                indHospInf
510                indIgANeph
511                indInterstLungDis
512                indMI
513                /* indNephSyn */
514                indNMSC
515                indNonVertOsFrac
516                indOppInf
517                indPsoriasis
518                indPSA
519                indRestrictLungDis
520                indSolidCa
521                indSpinalCordComp
522                indUlcerColitis
523                indUveitis
524                indDiabetes
525                indHT
526                indMetabSyn
527                indNAFattyLiverDis
528                indCOPDEmphysema
529                meanPredEqDoseCat
530                quartileCharlson
531                indInflamMarker
532                indRxNSAID
533                indRxHtn
534                indRxNarcotics
535                indRxFungus
536                indRxOP_bisphosp
537                indRxThiazide
538                indRxAnticoagulant
539                indRxAntibiotics
540                countIPAdmits12mPrior
541                indERVisit12mPrior
542                countAVRheum12mPrior
543                indRxBiologics
544                indOutpatientInfection
545                / link = logit rsquare;
546          output out = Work.ps2Level predicted = ps xbeta = xbeta;
547        run;

                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  19

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure2         
                                                   Number of Response Levels     2                 
                                                   Model                         binary logit      
                                                   Optimization Technique        Fisher's scoring  


                                                       Number of Observations Read        7662
                                                       Number of Observations Used        7662


                                                                   Response Profile
 
                                                Ordered                                          Total
                                                  Value     exposure2                        Frequency

                                                      1     DMARD, NSAID, or no exposure          4209
                                                      2     TNF                                   3453

                                                       Probability modeled is exposure2='TNF'.
NOTE: PROC LOGISTIC is modeling the probability that exposure2='TNF'.


                                                               Class Level Information
 
                               Class                 Value                                  Design Variables

                               catAge                1-18                         1      0      0      0      0      0
                                                     19-29                        0      1      0      0      0      0
                                                     30-39                        0      0      1      0      0      0
                                                     40-49                        0      0      0      1      0      0
                                                     50-59                        0      0      0      0      1      0
                                                     60-69                        0      0      0      0      0      1
                                                     70+                          0      0      0      0      0      0

                               SEX                   F                            1                                   
                                                     M                            0                                   

                               meanPredEqDoseCat     High (10+ mg/d)              1      0      0      0              
                                                     Low (<2.5 mg/d)              0      1      0      0              
                                                     Medium-High (5-10 mg/d)      0      0      1      0              
                                                     Medium-Low (2.5-5 mg/d)      0      0      0      1              
                                                     None                         0      0      0      0              

                               quartileCharlson      1                            0                                   
                                                     3                            1                                   


                                                               Model Convergence Status

                                                    Convergence criterion (GCONV=1E-8) satisfied.          
NOTE: Convergence criterion (GCONV=1E-8) satisfied.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC           10549.072       8487.694
                                                        SC            10556.016       8841.839
                                                        -2 Log L      10547.072       8385.694


                                                R-Square    0.2458    Max-rescaled R-Square    0.3288
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  20

                                                                The LOGISTIC Procedure

                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio      2161.3787       50         <.0001
                                               Score                 1941.6419       50         <.0001
                                               Wald                  1529.4365       50         <.0001


                                                              Type 3 Analysis of Effects
 
                                                                                     Wald
                                               Effect                    DF    Chi-Square    Pr > ChiSq

                                               catAge                     6       63.9888        <.0001
                                               SEX                        1       12.8954        0.0003
                                               indAortInsuffRegurg        1        3.4246        0.0642
                                               indVertFrac                1        0.1454        0.7030
                                               indConductBlock            1        0.0056        0.9404
                                               indCrohnsDis               1        2.5591        0.1097
                                               indHematCa                 1        7.1922        0.0073
                                               indHospInf                 1        5.7397        0.0166
                                               indIgANeph                 1        0.0018        0.9666
                                               indInterstLungDis          1        0.6835        0.4084
                                               indMI                      1        0.0305        0.8613
                                               indNMSC                    1        1.2862        0.2567
                                               indNonVertOsFrac           1        0.6957        0.4042
                                               indOppInf                  1        0.0072        0.9326
                                               indPsoriasis               1        0.3682        0.5440
                                               indPSA                     1        8.2650        0.0040
                                               indRestrictLungDis         1        0.0362        0.8490
                                               indSolidCa                 1       15.1329        0.0001
                                               indSpinalCordComp          1        0.0421        0.8375
                                               indUlcerColitis            1        3.4103        0.0648
                                               indUveitis                 1        0.6981        0.4034
                                               indDiabetes                1        3.1874        0.0742
                                               indHT                      1        0.3209        0.5711
                                               indMetabSyn                1        0.1032        0.7480
                                               indNAFattyLiverDis         1        9.2812        0.0023
                                               indCOPDEmphysema           1        4.5393        0.0331
                                               meanPredEqDoseCat          4       77.3462        <.0001
                                               quartileCharlson           1       32.8323        <.0001
                                               indInflamMarker            1        0.0010        0.9751
                                               indRxNSAID                 1       93.2712        <.0001
                                               indRxHtn                   1        2.6798        0.1016
                                               indRxNarcotics             1        9.3454        0.0022
                                               indRxFungus                1        0.7635        0.3822
                                               indRxOP_bisphosp           1        2.6021        0.1067
                                               indRxThiazide              1        0.7722        0.3796
                                               indRxAnticoagulant         1        0.4486        0.5030
                                               indRxAntibiotics           1      272.1328        <.0001
                                               countIPAdmits12mPrio       1        4.6179        0.0316
                                               indERVisit12mPrior         1        0.1466        0.7018
                                               countAVRheum12mPrior       1       62.2520        <.0001
                                               indRxBiologics             1      544.8395        <.0001
                                               indOutpatientInfecti       1        0.5516        0.4577


 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  21

                                                                The LOGISTIC Procedure

                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                        Parameter                                       DF    Estimate       Error    Chi-Square    Pr > ChiSq

                        Intercept                                        1     -2.6412      0.1882      197.0335        <.0001
                        catAge               1-18                        1      1.2327      0.2526       23.8241        <.0001
                        catAge               19-29                       1      1.0719      0.1890       32.1591        <.0001
                        catAge               30-39                       1      1.0315      0.1813       32.3551        <.0001
                        catAge               40-49                       1      1.0127      0.1764       32.9770        <.0001
                        catAge               50-59                       1      0.6684      0.1740       14.7524        0.0001
                        catAge               60-69                       1      0.5674      0.1848        9.4309        0.0021
                        SEX                  F                           1     -0.2005      0.0558       12.8954        0.0003
                        indAortInsuffRegurg                              1      0.6800      0.3675        3.4246        0.0642
                        indVertFrac                                      1     -0.2033      0.5333        0.1454        0.7030
                        indConductBlock                                  1      0.0292      0.3910        0.0056        0.9404
                        indCrohnsDis                                     1      0.2753      0.1721        2.5591        0.1097
                        indHematCa                                       1     -2.2712      0.8469        7.1922        0.0073
                        indHospInf                                       1     -0.5101      0.2129        5.7397        0.0166
                        indIgANeph                                       1     12.5109       298.7        0.0018        0.9666
                        indInterstLungDis                                1      0.9364      1.1326        0.6835        0.4084
                        indMI                                            1      0.1311      0.7502        0.0305        0.8613
                        indNMSC                                          1     -0.4186      0.3691        1.2862        0.2567
                        indNonVertOsFrac                                 1     -0.2835      0.3399        0.6957        0.4042
                        indOppInf                                        1     -0.0283      0.3340        0.0072        0.9326
                        indPsoriasis                                     1     -0.1210      0.1994        0.3682        0.5440
                        indPSA                                           1      0.4642      0.1615        8.2650        0.0040
                        indRestrictLungDis                               1     -0.0740      0.3888        0.0362        0.8490
                        indSolidCa                                       1     -0.8397      0.2159       15.1329        0.0001
                        indSpinalCordComp                                1     -0.2061      1.0046        0.0421        0.8375
                        indUlcerColitis                                  1      0.4618      0.2501        3.4103        0.0648
                        indUveitis                                       1     -0.0979      0.1171        0.6981        0.4034
                        indDiabetes                                      1     -0.1605      0.0899        3.1874        0.0742
                        indHT                                            1     -0.0360      0.0636        0.3209        0.5711
                        indMetabSyn                                      1     -0.0747      0.2327        0.1032        0.7480
                        indNAFattyLiverDis                               1      0.5358      0.1759        9.2812        0.0023
                        indCOPDEmphysema                                 1     -0.2764      0.1297        4.5393        0.0331
                        meanPredEqDoseCat    High (10+ mg/d)             1      1.5658      0.5033        9.6789        0.0019
                        meanPredEqDoseCat    Low (<2.5 mg/d)             1      0.3486      0.0617       31.8820        <.0001
                        meanPredEqDoseCat    Medium-High (5-10 mg/d)     1      1.0816      0.2138       25.5903        <.0001
                        meanPredEqDoseCat    Medium-Low (2.5-5 mg/d)     1      0.7025      0.1376       26.0445        <.0001
                        quartileCharlson     3                           1     -0.3977      0.0694       32.8323        <.0001
                        indInflamMarker                                  1     12.4340       398.0        0.0010        0.9751
                        indRxNSAID                                       1      0.6017      0.0623       93.2712        <.0001
                        indRxHtn                                         1      0.1292      0.0789        2.6798        0.1016
                        indRxNarcotics                                   1      0.2011      0.0658        9.3454        0.0022
                        indRxFungus                                      1      0.1211      0.1386        0.7635        0.3822
                        indRxOP_bisphosp                                 1     -0.2482      0.1539        2.6021        0.1067
                        indRxThiazide                                    1      0.1030      0.1172        0.7722        0.3796
                        indRxAnticoagulant                               1     -0.1180      0.1761        0.4486        0.5030
                        indRxAntibiotics                                 1      1.1031      0.0669      272.1328        <.0001
                        countIPAdmits12mPrio                             1     -0.1469      0.0684        4.6179        0.0316
                        indERVisit12mPrior                               1     -0.0256      0.0670        0.1466        0.7018
                        countAVRheum12mPrior                             1      0.0313     0.00397       62.2520        <.0001
                        indRxBiologics                                   1      1.4498      0.0621      544.8395        <.0001
                        indOutpatientInfecti                             1      0.0477      0.0642        0.5516        0.4577


                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               catAge               1-18  vs 70+                          3.431       2.091       5.628
                               catAge               19-29 vs 70+                          2.921       2.017       4.231
                               catAge               30-39 vs 70+                          2.805       1.966       4.003
                               catAge               40-49 vs 70+                          2.753       1.949       3.890
                               catAge               50-59 vs 70+                          1.951       1.387       2.744
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  22

                                                                The LOGISTIC Procedure

                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               catAge               60-69 vs 70+                          1.764       1.228       2.533
                               SEX                  F vs M                                0.818       0.733       0.913
                               indAortInsuffRegurg                                        1.974       0.961       4.056
                               indVertFrac                                                0.816       0.287       2.321
                               indConductBlock                                            1.030       0.478       2.216
                               indCrohnsDis                                               1.317       0.940       1.845
                               indHematCa                                                 0.103       0.020       0.543
                               indHospInf                                                 0.600       0.396       0.911
                               indIgANeph                                              >999.999      <0.001    >999.999
                               indInterstLungDis                                          2.551       0.277      23.483
                               indMI                                                      1.140       0.262       4.960
                               indNMSC                                                    0.658       0.319       1.356
                               indNonVertOsFrac                                           0.753       0.387       1.466
                               indOppInf                                                  0.972       0.505       1.871
                               indPsoriasis                                               0.886       0.599       1.310
                               indPSA                                                     1.591       1.159       2.183
                               indRestrictLungDis                                         0.929       0.433       1.990
                               indSolidCa                                                 0.432       0.283       0.659
                               indSpinalCordComp                                          0.814       0.114       5.829
                               indUlcerColitis                                            1.587       0.972       2.591
                               indUveitis                                                 0.907       0.721       1.141
                               indDiabetes                                                0.852       0.714       1.016
                               indHT                                                      0.965       0.852       1.093
                               indMetabSyn                                                0.928       0.588       1.464
                               indNAFattyLiverDis                                         1.709       1.211       2.412
                               indCOPDEmphysema                                           0.759       0.588       0.978
                               meanPredEqDoseCat    High (10+ mg/d)         vs None       4.786       1.785      12.835
                               meanPredEqDoseCat    Low (<2.5 mg/d)         vs None       1.417       1.256       1.599
                               meanPredEqDoseCat    Medium-High (5-10 mg/d) vs None       2.949       1.940       4.485
                               meanPredEqDoseCat    Medium-Low (2.5-5 mg/d) vs None       2.019       1.541       2.644
                               quartileCharlson     3 vs 1                                0.672       0.586       0.770
                               indInflamMarker                                         >999.999      <0.001    >999.999
                               indRxNSAID                                                 1.825       1.615       2.062
                               indRxHtn                                                   1.138       0.975       1.328
                               indRxNarcotics                                             1.223       1.075       1.391
                               indRxFungus                                                1.129       0.860       1.481
                               indRxOP_bisphosp                                           0.780       0.577       1.055
                               indRxThiazide                                              1.108       0.881       1.395
                               indRxAnticoagulant                                         0.889       0.629       1.255
                               indRxAntibiotics                                           3.013       2.643       3.435
                               countIPAdmits12mPrio                                       0.863       0.755       0.987
                               indERVisit12mPrior                                         0.975       0.855       1.111
                               countAVRheum12mPrior                                       1.032       1.024       1.040
                               indRxBiologics                                             4.262       3.774       4.814
                               indOutpatientInfecti                                       1.049       0.925       1.189


                                             Association of Predicted Probabilities and Observed Responses

                                                 Percent Concordant        79.3    Somers' D    0.587
                                                 Percent Discordant        20.7    Gamma        0.587
                                                 Percent Tied               0.0    Tau-a        0.291
                                                 Pairs                 14533677    c            0.793
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 7662 observations read from the data set WORK.ALLCOVARIATES.
      WHERE database='Marketscan';
NOTE: The data set WORK.PSBETAS2LEVEL has 1 observations and 57 variables.
NOTE: The data set WORK.PS2LEVEL has 7662 observations and 68 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 19-22.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           0.76 seconds
      cpu time            0.62 seconds
      

9                                                                   The SAS System                                         17:48 Friday, June 15, 2018

548        proc datasets library = work nolist;
549          change psBetas2Level = psBetas2Level&db
550                 ps2Level = ps2Level&db;
551        run;

NOTE: Changing the name WORK.PSBETAS2LEVEL to WORK.PSBETAS2LEVELMARKETSCAN (memtype=DATA).
NOTE: Changing the name WORK.PS2LEVEL to WORK.PS2LEVELMARKETSCAN (memtype=DATA).
552        
553        %let db = Medicare;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

554        proc logistic data = Work.allCovariates outest = Work.psBetas2Level;
555          where database = "&db";
556          class &class;
557          model exposure2 (event = "TNF") =
558                catAge
559                sex
560                indAmyloidosis
561                indAortInsuffRegurg
562                /* indApicalPulmFib */
563                indCaudaEquina
564                indVertFrac
565                indConductBlock
566                indCrohnsDis
567                indHematCa
568                indHospInf
569                indIgANeph
570                indInterstLungDis
571                indMI
572                indNephSyn
573                indNMSC
574                indNonVertOsFrac
575                indOppInf
576                indPsoriasis
577                indPSA
578                indRestrictLungDis
579                indSolidCa
580                indSpinalCordComp
581                indUlcerColitis
582                indUveitis
583                indDiabetes
584                indHT
585                indMetabSyn
586                indNAFattyLiverDis
587                indCOPDEmphysema
588                meanPredEqDoseCat
589                quartileCharlson
590                indInflamMarker
591                indRxNSAID
592                indRxHtn
593                indRxNarcotics
594                indRxFungus
595                indRxOP_bisphosp
596                indRxThiazide
597                indRxAnticoagulant
598                indRxAntibiotics
599                countIPAdmits12mPrior
600                indERVisit12mPrior
601                countAVRheum12mPrior
602                indRxBiologics
603                indOutpatientInfection
604                / link = logit rsquare;
605          output out = Work.ps2Level predicted = ps xbeta = xbeta;
606        run;

                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  23

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure2         
                                                   Number of Response Levels     2                 
                                                   Model                         binary logit      
                                                   Optimization Technique        Fisher's scoring  


                                                       Number of Observations Read        4325
                                                       Number of Observations Used        4325


                                                                   Response Profile
 
                                                Ordered                                          Total
                                                  Value     exposure2                        Frequency

                                                      1     DMARD, NSAID, or no exposure          3515
                                                      2     TNF                                    810

                                                       Probability modeled is exposure2='TNF'.
NOTE: PROC LOGISTIC is modeling the probability that exposure2='TNF'.


                                                               Class Level Information
 
                                      Class                 Value                           Design Variables

                                      catAge                60-69                        1                     
                                                            70+                          0                     

                                      SEX                   F                            1                     
                                                            M                            0                     

                                      meanPredEqDoseCat     High (10+ mg/d)              1      0      0      0
                                                            Low (<2.5 mg/d)              0      1      0      0
                                                            Medium-High (5-10 mg/d)      0      0      1      0
                                                            Medium-Low (2.5-5 mg/d)      0      0      0      1
                                                            None                         0      0      0      0

                                      quartileCharlson      1                            0                     
                                                            3                            1                     


                                                               Model Convergence Status

                                                    Convergence criterion (GCONV=1E-8) satisfied.          
NOTE: Convergence criterion (GCONV=1E-8) satisfied.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC            4173.545       3787.751
                                                        SC             4179.917       4087.243
                                                        -2 Log L       4171.545       3693.751


                                                R-Square    0.1046    Max-rescaled R-Square    0.1690


 
 
 
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  24

                                                                The LOGISTIC Procedure

                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio       477.7939       46         <.0001
                                               Score                  499.6071       46         <.0001
                                               Wald                   391.5643       46         <.0001


                                                              Type 3 Analysis of Effects
 
                                                                                     Wald
                                               Effect                    DF    Chi-Square    Pr > ChiSq

                                               catAge                     1       22.1929        <.0001
                                               SEX                        1        1.7704        0.1833
                                               indAmyloidosis             1        0.0003        0.9854
                                               indAortInsuffRegurg        1        1.8952        0.1686
                                               indCaudaEquina             1        0.0097        0.9215
                                               indVertFrac                1        2.7309        0.0984
                                               indConductBlock            1        0.0140        0.9060
                                               indCrohnsDis               1        5.7853        0.0162
                                               indHematCa                 1       14.8830        0.0001
                                               indHospInf                 1       18.1041        <.0001
                                               indIgANeph                 1        0.0006        0.9809
                                               indInterstLungDis          1        0.1325        0.7158
                                               indMI                      1        1.3003        0.2542
                                               indNephSyn                 1        0.0004        0.9843
                                               indNMSC                    1        0.0817        0.7751
                                               indNonVertOsFrac           1        0.7782        0.3777
                                               indOppInf                  1        5.4964        0.0191
                                               indPsoriasis               1        0.8390        0.3597
                                               indPSA                     1        1.3121        0.2520
                                               indRestrictLungDis         1        0.1383        0.7100
                                               indSolidCa                 1        0.4706        0.4927
                                               indSpinalCordComp          1        0.0265        0.8707
                                               indUlcerColitis            1        1.4097        0.2351
                                               indUveitis                 1        6.7673        0.0093
                                               indDiabetes                1        0.5677        0.4512
                                               indHT                      1        0.0396        0.8423
                                               indMetabSyn                1        0.5025        0.4784
                                               indNAFattyLiverDis         1        4.1914        0.0406
                                               indCOPDEmphysema           1        0.7882        0.3747
                                               meanPredEqDoseCat          4       18.6832        0.0009
                                               quartileCharlson           1        0.1368        0.7115
                                               indInflamMarker            0                            
                                               indRxNSAID                 0                            
                                               indRxHtn                   1        0.4657        0.4950
                                               indRxNarcotics             1        0.5736        0.4488
                                               indRxFungus                1        0.6795        0.4098
                                               indRxOP_bisphosp           1        0.0420        0.8376
                                               indRxThiazide              1        0.4026        0.5258
                                               indRxAnticoagulant         1        0.0435        0.8348
                                               indRxAntibiotics           1        0.0394        0.8427
                                               countIPAdmits12mPrio       1        0.7575        0.3841
                                               indERVisit12mPrior         1        2.2081        0.1373
                                               countAVRheum12mPrior       1      155.9282        <.0001
                                               indRxBiologics             1       85.9240        <.0001
                                               indOutpatientInfecti       1        7.1930        0.0073


             NOTE: The following parameters have been set to 0, since the variables are a linear combination of other variables as shown.


                                                             indInflamMarker =  0        
                                                                  indRxNSAID =  Intercept
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  25

                                                                The LOGISTIC Procedure

                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                        Parameter                                       DF    Estimate       Error    Chi-Square    Pr > ChiSq

                        Intercept                                        1     -2.7366      0.2006      186.1977        <.0001
                        catAge               60-69                       1      0.4061      0.0862       22.1929        <.0001
                        SEX                  F                           1     -0.1154      0.0867        1.7704        0.1833
                        indAmyloidosis                                   1    -13.2281       722.1        0.0003        0.9854
                        indAortInsuffRegurg                              1     -0.2919      0.2121        1.8952        0.1686
                        indCaudaEquina                                   1      0.1088      1.1037        0.0097        0.9215
                        indVertFrac                                      1     -0.5066      0.3066        2.7309        0.0984
                        indConductBlock                                  1      0.0288      0.2440        0.0140        0.9060
                        indCrohnsDis                                     1      0.6115      0.2542        5.7853        0.0162
                        indHematCa                                       1     -2.2481      0.5827       14.8830        0.0001
                        indHospInf                                       1     -0.8348      0.1962       18.1041        <.0001
                        indIgANeph                                       1    -12.3789       516.5        0.0006        0.9809
                        indInterstLungDis                                1     -0.2311      0.6349        0.1325        0.7158
                        indMI                                            1      0.4586      0.4022        1.3003        0.2542
                        indNephSyn                                       1    -13.1202       664.9        0.0004        0.9843
                        indNMSC                                          1      0.0961      0.3365        0.0817        0.7751
                        indNonVertOsFrac                                 1     -0.2092      0.2371        0.7782        0.3777
                        indOppInf                                        1      0.6047      0.2579        5.4964        0.0191
                        indPsoriasis                                     1     -0.2463      0.2690        0.8390        0.3597
                        indPSA                                           1      0.2397      0.2092        1.3121        0.2520
                        indRestrictLungDis                               1     -0.0925      0.2489        0.1383        0.7100
                        indSolidCa                                       1     -0.1030      0.1501        0.4706        0.4927
                        indSpinalCordComp                                1      0.1836      1.1282        0.0265        0.8707
                        indUlcerColitis                                  1      0.3223      0.2715        1.4097        0.2351
                        indUveitis                                       1      0.4823      0.1854        6.7673        0.0093
                        indDiabetes                                      1     -0.0678      0.0900        0.5677        0.4512
                        indHT                                            1      0.0273      0.1374        0.0396        0.8423
                        indMetabSyn                                      1     -0.2019      0.2847        0.5025        0.4784
                        indNAFattyLiverDis                               1      0.4276      0.2089        4.1914        0.0406
                        indCOPDEmphysema                                 1     -0.0841      0.0947        0.7882        0.3747
                        meanPredEqDoseCat    High (10+ mg/d)             1      0.2799      0.5314        0.2775        0.5983
                        meanPredEqDoseCat    Low (<2.5 mg/d)             1      0.2062      0.1002        4.2288        0.0397
                        meanPredEqDoseCat    Medium-High (5-10 mg/d)     1      0.2621      0.2187        1.4353        0.2309
                        meanPredEqDoseCat    Medium-Low (2.5-5 mg/d)     1      0.6315      0.1539       16.8325        <.0001
                        quartileCharlson     3                           1      0.0375      0.1015        0.1368        0.7115
                        indInflamMarker                                  0           0                                        
                        indRxNSAID                                       0           0                                        
                        indRxHtn                                         1     -0.0724      0.1061        0.4657        0.4950
                        indRxNarcotics                                   1     -0.0668      0.0882        0.5736        0.4488
                        indRxFungus                                      1      0.1250      0.1516        0.6795        0.4098
                        indRxOP_bisphosp                                 1      0.0575      0.2803        0.0420        0.8376
                        indRxThiazide                                    1      0.0933      0.1471        0.4026        0.5258
                        indRxAnticoagulant                               1     -0.0511      0.2452        0.0435        0.8348
                        indRxAntibiotics                                 1      0.0185      0.0933        0.0394        0.8427
                        countIPAdmits12mPrio                             1     -0.0518      0.0596        0.7575        0.3841
                        indERVisit12mPrior                               1     -0.1492      0.1004        2.2081        0.1373
                        countAVRheum12mPrior                             1      0.1662      0.0133      155.9282        <.0001
                        indRxBiologics                                   1      0.9595      0.1035       85.9240        <.0001
                        indOutpatientInfecti                             1      0.3482      0.1298        7.1930        0.0073


                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               catAge               60-69 vs 70+                          1.501       1.268       1.777
                               SEX                  F vs M                                0.891       0.752       1.056
                               indAmyloidosis                                            <0.001      <0.001    >999.999
                               indAortInsuffRegurg                                        0.747       0.493       1.132
                               indCaudaEquina                                             1.115       0.128       9.699
                               indVertFrac                                                0.603       0.330       1.099
                               indConductBlock                                            1.029       0.638       1.660
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  26

                                                                The LOGISTIC Procedure

                                                                 Odds Ratio Estimates
                                                                           
                                                                                          Point          95% Wald
                               Effect                                                  Estimate      Confidence Limits

                               indCrohnsDis                                               1.843       1.120       3.034
                               indHematCa                                                 0.106       0.034       0.331
                               indHospInf                                                 0.434       0.295       0.637
                               indIgANeph                                                <0.001      <0.001    >999.999
                               indInterstLungDis                                          0.794       0.229       2.755
                               indMI                                                      1.582       0.719       3.479
                               indNephSyn                                                <0.001      <0.001    >999.999
                               indNMSC                                                    1.101       0.569       2.129
                               indNonVertOsFrac                                           0.811       0.510       1.291
                               indOppInf                                                  1.831       1.104       3.035
                               indPsoriasis                                               0.782       0.461       1.324
                               indPSA                                                     1.271       0.843       1.915
                               indRestrictLungDis                                         0.912       0.560       1.485
                               indSolidCa                                                 0.902       0.672       1.211
                               indSpinalCordComp                                          1.202       0.132      10.967
                               indUlcerColitis                                            1.380       0.811       2.350
                               indUveitis                                                 1.620       1.126       2.330
                               indDiabetes                                                0.934       0.783       1.115
                               indHT                                                      1.028       0.785       1.345
                               indMetabSyn                                                0.817       0.468       1.428
                               indNAFattyLiverDis                                         1.534       1.018       2.309
                               indCOPDEmphysema                                           0.919       0.764       1.107
                               meanPredEqDoseCat    High (10+ mg/d)         vs None       1.323       0.467       3.749
                               meanPredEqDoseCat    Low (<2.5 mg/d)         vs None       1.229       1.010       1.496
                               meanPredEqDoseCat    Medium-High (5-10 mg/d) vs None       1.300       0.846       1.995
                               meanPredEqDoseCat    Medium-Low (2.5-5 mg/d) vs None       1.880       1.391       2.543
                               quartileCharlson     3 vs 1                                1.038       0.851       1.267
                               indRxHtn                                                   0.930       0.755       1.145
                               indRxNarcotics                                             0.935       0.787       1.112
                               indRxFungus                                                1.133       0.842       1.525
                               indRxOP_bisphosp                                           1.059       0.611       1.835
                               indRxThiazide                                              1.098       0.823       1.465
                               indRxAnticoagulant                                         0.950       0.588       1.536
                               indRxAntibiotics                                           1.019       0.848       1.223
                               countIPAdmits12mPrio                                       0.949       0.845       1.067
                               indERVisit12mPrior                                         0.861       0.707       1.049
                               countAVRheum12mPrior                                       1.181       1.150       1.212
                               indRxBiologics                                             2.610       2.131       3.197
                               indOutpatientInfecti                                       1.417       1.098       1.827


                                            Association of Predicted Probabilities and Observed Responses

                                                 Percent Concordant       74.7    Somers' D    0.493
                                                 Percent Discordant       25.3    Gamma        0.493
                                                 Percent Tied              0.0    Tau-a        0.150
                                                 Pairs                 2847150    c            0.747
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 4325 observations read from the data set WORK.ALLCOVARIATES.
10                                                                  The SAS System                                         17:48 Friday, June 15, 2018

      WHERE database='Medicare';
NOTE: The data set WORK.PSBETAS2LEVEL has 1 observations and 55 variables.
NOTE: The data set WORK.PS2LEVEL has 4325 observations and 68 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 23-26.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           0.49 seconds
      cpu time            0.32 seconds
      

607        proc datasets library = work nolist;
608          change psBetas2Level = psBetas2Level&db
609                 ps2Level = ps2Level&db;
610        run;

NOTE: Changing the name WORK.PSBETAS2LEVEL to WORK.PSBETAS2LEVELMEDICARE (memtype=DATA).
NOTE: Changing the name WORK.PS2LEVEL to WORK.PS2LEVELMEDICARE (memtype=DATA).
611        

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

612        proc sql;
613          create table Work.ps2Level as
614            select * from ps2LevelMPCD union corr
615            select * from ps2LevelMarketscan union corr
616            select * from ps2LevelMedicare ;
NOTE: Table WORK.PS2LEVEL created, with 13689 rows and 68 columns.

617          create table Work.psBetas2Level as
618            select "MPCD" as database, * from psBetas2LevelMPCD union corr
619            select "Marketscan" as database, * from psBetas2LevelMarketscan union corr
620            select "Medicare" as database, * from psBetas2LevelMedicare ;
NOTE: Table WORK.PSBETAS2LEVEL created, with 3 rows and 48 columns.

621        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.35 seconds
      cpu time            0.37 seconds
      

622        
623        
624        /*
625        Check
626         */
627        /* proc sql;
628          select "DATA CHECK: Should return 0 records" as table,
629                 database, indexID,
630                 sum(ps) as sumPS
631            from Work.ps2Level
632            group by database, indexID
633            having calculated sumPS < 1 - 1e-12;
634        quit; */
635        
636        
637        /*
638        Union model coefficients from the 4-level model and the 2-level model
639         */
640        proc sql;
641          create table Work.psBetas as
642            select * from Work.psBetas2Level ;
NOTE: Table WORK.PSBETAS created, with 3 rows and 48 columns.

643        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

644        
11                                                                  The SAS System                                         17:48 Friday, June 15, 2018

645        
646        /*
647        Calculate IPTW
648         */
649        %let varlist = indexID, database, _level_, ps,
650                       age,
651                       catAge,
652                       sex,
653                       indAmyloidosis,
654                       indAortInsuffRegurg,
655                       indApicalPulmFib,
656                       indCaudaEquina,
657                       indVertFrac,
658                       indConductBlock,
659                       indCrohnsDis,
660                       indHematCa,
661                       indHospInf,
662                       indIgANeph,
663                       indInterstLungDis,
664                       indMI,
665                       indNephSyn,
666                       indNMSC,
667                       indNonVertOsFrac,
668                       indOppInf,
669                       indPsoriasis,
670                       indPSA,
671                       indRestrictLungDis,
672                       indSolidCa,
673                       indSpinalCordComp,
674                       indUlcerColitis,
675                       indUveitis,
676                       indDiabetes,
677                       indHT,
678                       indMetabSyn,
679                       indNAFattyLiverDis,
680                       indCOPDEmphysema,
681                       meanPredEqDoseCat,
682                       charlson,
683                       quartileCharlson,
684                       indInflamMarker,
685                       indRxNSAID,
686                       indRxHtn,
687                       indRxNarcotics,
688                       indRxFungus,
689                       indRxOP_bisphosp,
690                       indRxThiazide,
691                       indRxAnticoagulant,
692                       indRxAntibiotics,
693                       indIPAdmit12mPrior,
694                       countIPAdmits12mPrior,
695                       indERVisit12mPrior,
696                       ciras,
697                       quartileCIRAS,
698                       countAVPhys12mPrior,
699                       quartileAVPhys12mPrior,
700                       countAVRheum12mPrior,
701                       quartileAVRheum12mPrior,
702                       indAVRheum12mPrior,
703                       indRxBiologics,
704                       indOutpatientInfection
705        ;
706        proc sql;
707          create table Work.ps as
708            select "2-level exposure" as model, exposure2 as exposure, &varlist from Work.ps2Level
709            order by indexID, exposure;
NOTE: Table WORK.PS created, with 13689 rows and 61 columns.

710          alter table Work.ps add iptw numeric;
NOTE: Table WORK.PS has been modified, with 62 columns.
711          update Work.ps set iptw = (exposure  = _level_) / ps + (exposure ^= _level_) / (1 - ps);
NOTE: 13689 rows were updated in WORK.PS.

12                                                                  The SAS System                                         17:48 Friday, June 15, 2018

712        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.37 seconds
      cpu time            0.20 seconds
      

713        
714        
715        /*
716        Determine common support region
717        For propensity of TNF
718         */
719        %let exposure = "TNF";
720        proc means data = Work.ps n nmiss min max mean median stddev;
721          where _level_ in (&exposure);
722          class model database _level_ exposure;
723          var ps;
724        run;

                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  27

                                                                 The MEANS Procedure

                                                    Analysis Variable : ps Estimated Probability
 
                                                                                                                    N
  model              database     Response Value                 exposure                       N Obs       N    Miss        Minimum        Maximum
  -------------------------------------------------------------------------------------------------------------------------------------------------
  2-level exposure   MPCD         TNF                            DMARD, NSAID, or no exposure    1032    1032       0      0.0035353      0.9293361

                                                                 TNF                              670     670       0      0.0351711      0.9975323

                     Marketscan   TNF                            DMARD, NSAID, or no exposure    4209    4209       0      0.0077444      0.9707597

                                                                 TNF                             3453    3453       0      0.0199106      0.9999997

                     Medicare     TNF                            DMARD, NSAID, or no exposure    3515    3515       0   2.7803117E-8      0.9788347

                                                                 TNF                              810     810       0      0.0291705      0.9263483
  -------------------------------------------------------------------------------------------------------------------------------------------------

                                                     Analysis Variable : ps Estimated Probability
 
   model              database     Response Value                 exposure                       N Obs           Mean         Median        Std Dev
   ------------------------------------------------------------------------------------------------------------------------------------------------
   2-level exposure   MPCD         TNF                            DMARD, NSAID, or no exposure    1032      0.2690677      0.2108590      0.2064291

                                                                  TNF                              670      0.5855570      0.6022968      0.2581790

                      Marketscan   TNF                            DMARD, NSAID, or no exposure    4209      0.3348856      0.2603093      0.2086652

                                                                  TNF                             3453      0.5917945      0.6020447      0.2279905

                      Medicare     TNF                            DMARD, NSAID, or no exposure    3515      0.1647886      0.1335526      0.1169928

                                                                  TNF                              810      0.2848990      0.2351652      0.1732181
   ------------------------------------------------------------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 13689 observations read from the data set WORK.PS.
      WHERE _level_='TNF';
NOTE: The PROCEDURE MEANS printed page 27.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

725        proc sql;
726          create table Work.commonSupportRegion as
727            select model, database,
728                   max(minPS) as commonSupportLowerBound,
729                   min(maxPS) as commonSupportUpperBound
730            from (select model, database, exposure,
731                         min(ps) as minPS,
732                         max(ps) as maxPS
733                  from Work.ps
734                  where _level_ in (&exposure)
735                  group by model, database, exposure)
736            group by model, database;
NOTE: Table WORK.COMMONSUPPORTREGION created, with 3 rows and 4 columns.

737          select * from Work.commonSupportRegion;
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  28

                                                                                   common        common
                                                                                  Support       Support
                                               model             database      LowerBound    UpperBound
                                               --------------------------------------------------------
                                               2-level exposure  MPCD            0.035171      0.929336
                                               2-level exposure  Marketscan      0.019911       0.97076
                                               2-level exposure  Medicare        0.029171      0.926348
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
738          create table Work.temp as
739            select * from Work.ps where _level_ in (&exposure);
NOTE: Table WORK.TEMP created, with 13689 rows and 62 columns.

740          create table Work.ps as
741            select A.*,
742                   B.commonSupportLowerBound,
743                   B.commonSupportUpperBound,
744                   case
745                     when A.ps = . then .
746                     when B.commonSupportLowerBound <= A.ps <= B.commonSupportUpperBound then 1
747                     else 0
748                     end as indCommonSupport
749            from Work.temp A inner join
750                 Work.commonSupportRegion B on (A.model = B.model &
751                                                A.database = B.database);
NOTE: Table WORK.PS created, with 13689 rows and 65 columns.

752          select model,
753                 database,
754                 exposure,
755                 _level_,
756                 sum(indCommonSupport = 1) as n1,
757                 sum(indCommonSupport = 1) / sum(^missing(indCommonSupport)) format = percent9.3 as prop1,
758                 sum(indCommonSupport = 0) as n0,
759                 sum(indCommonSupport = 0) / sum(^missing(indCommonSupport)) format = percent9.3 as prop0
760            from Work.ps
761            group by model, database, exposure, _level_;
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  29

          model             database    exposure                      Response Value                      n1      prop1        n0      prop0
          ----------------------------------------------------------------------------------------------------------------------------------
          2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                                973   94.283%         59    5.717% 
          2-level exposure  MPCD        TNF                           TNF                                610   91.045%         60    8.955% 
          2-level exposure  Marketscan  DMARD, NSAID, or no exposure  TNF                               4208   99.976%          1    0.024% 
          2-level exposure  Marketscan  TNF                           TNF                               3440   99.624%         13    0.376% 
          2-level exposure  Medicare    DMARD, NSAID, or no exposure  TNF                               3397   96.643%        118    3.357% 
          2-level exposure  Medicare    TNF                           TNF                                810   100.00%          0    0.000% 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
762        quit;
NOTE: The PROCEDURE SQL printed pages 28-29.
13                                                                  The SAS System                                         17:48 Friday, June 15, 2018

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.43 seconds
      cpu time            0.32 seconds
      

763        
764        
765        /*
766        Stabilize weights
767        
768        See
769        
770        Austin, P. C., and Stuart, E. A. (2015) Moving towards best practice when
771        using inverse probability of treatment weighting (IPTW) using the propensity
772        score to estimate causal treatment effects in observational studies. Statist.
773        Med., 34: 3661–3679. doi: 10.1002/sim.6607.
774         */
775        proc sql;
776          create table Work.temp as select * from Work.ps;
NOTE: Table WORK.TEMP created, with 13689 rows and 65 columns.

777          create table Work.ps as
778            select A.*,
779                   B.marginalPS,
780                   B.marginalPS * ((A.exposure  = A._level_) / A.ps +
781                                   (A.exposure ^= A._level_) / (1 - A.ps))
782                     as iptwStabilized
783            from Work.temp A inner join
784                 (select model,
785                         database,
786                         exposure,
787                         _level_,
788                         mean(ps) as marginalPS
789                  from Work.temp
790                  group by model, database, exposure, _level_) B on (A.model = B.model &
791                                                                     A.database = B.database &
792                                                                     A.exposure = B.exposure);
NOTE: Table WORK.PS created, with 13689 rows and 67 columns.

793          drop table Work.temp;
NOTE: Table WORK.TEMP has been dropped.
794        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.31 seconds
      cpu time            0.26 seconds
      

795        proc means data = Work.ps n nmiss min max mean median stddev maxdec = 3;
796          class indCommonSupport model database exposure _level_;
797          var ps marginalPS iptw iptwStabilized;
798        run;

                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  30

                                                                 The MEANS Procedure

    indCommon
      Support  model             database    exposure                      Response Value                N Obs  Variable        Label
 ----------------------------------------------------------------------------------------------------------------------------------------------------
            0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              59  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                              60  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                 Marketscan  DMARD, NSAID, or no exposure  TNF                               1  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                              13  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                 Medicare    DMARD, NSAID, or no exposure  TNF                             118  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

            1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                             973  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                             610  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                 Marketscan  DMARD, NSAID, or no exposure  TNF                            4208  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                            3440  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                 Medicare    DMARD, NSAID, or no exposure  TNF                            3397  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       

                                             TNF                           TNF                             810  ps              Estimated Probability
                                                                                                                marginalPS                           
                                                                                                                iptw                                 
                                                                                                                iptwStabilized                       
 ----------------------------------------------------------------------------------------------------------------------------------------------------

        indCommon                                                                                                                               N
          Support  model             database    exposure                      Response Value                N Obs  Variable            N    Miss
     --------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              59  ps                 59       0
                                                                                                                    marginalPS         59       0
                                                                                                                    iptw               59       0
                                                                                                                    iptwStabilized     59       0
     --------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  31

                                                                 The MEANS Procedure

        indCommon                                                                                                                               N
          Support  model             database    exposure                      Response Value                N Obs  Variable            N    Miss
     --------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        TNF                           TNF                              60  ps                 60       0
                                                                                                                    marginalPS         60       0
                                                                                                                    iptw               60       0
                                                                                                                    iptwStabilized     60       0

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                               1  ps                  1       0
                                                                                                                    marginalPS          1       0
                                                                                                                    iptw                1       0
                                                                                                                    iptwStabilized      1       0

                                                 TNF                           TNF                              13  ps                 13       0
                                                                                                                    marginalPS         13       0
                                                                                                                    iptw               13       0
                                                                                                                    iptwStabilized     13       0

                                     Medicare    DMARD, NSAID, or no exposure  TNF                             118  ps                118       0
                                                                                                                    marginalPS        118       0
                                                                                                                    iptw              118       0
                                                                                                                    iptwStabilized    118       0

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                             973  ps                973       0
                                                                                                                    marginalPS        973       0
                                                                                                                    iptw              973       0
                                                                                                                    iptwStabilized    973       0

                                                 TNF                           TNF                             610  ps                610       0
                                                                                                                    marginalPS        610       0
                                                                                                                    iptw              610       0
                                                                                                                    iptwStabilized    610       0

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            4208  ps               4208       0
                                                                                                                    marginalPS       4208       0
                                                                                                                    iptw             4208       0
                                                                                                                    iptwStabilized   4208       0

                                                 TNF                           TNF                            3440  ps               3440       0
                                                                                                                    marginalPS       3440       0
                                                                                                                    iptw             3440       0
                                                                                                                    iptwStabilized   3440       0

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            3397  ps               3397       0
                                                                                                                    marginalPS       3397       0
                                                                                                                    iptw             3397       0
                                                                                                                    iptwStabilized   3397       0

                                                 TNF                           TNF                             810  ps                810       0
                                                                                                                    marginalPS        810       0
                                                                                                                    iptw              810       0
                                                                                                                    iptwStabilized    810       0
     --------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Minimum
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              59  ps                     0.004
                                                                                                                    marginalPS             0.269
                                                                                                                    iptw                   1.004
                                                                                                                    iptwStabilized         0.270

                                                 TNF                           TNF                              60  ps                     0.930
                                                                                                                    marginalPS             0.586
                                                                                                                    iptw                   1.002
                                                                                                                    iptwStabilized         0.587
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  32

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Minimum
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  Marketscan  DMARD, NSAID, or no exposure  TNF                               1  ps                     0.008
                                                                                                                    marginalPS             0.335
                                                                                                                    iptw                   1.008
                                                                                                                    iptwStabilized         0.337

                                                 TNF                           TNF                              13  ps                     0.974
                                                                                                                    marginalPS             0.592
                                                                                                                    iptw                   1.000
                                                                                                                    iptwStabilized         0.592

                                     Medicare    DMARD, NSAID, or no exposure  TNF                             118  ps                     0.000
                                                                                                                    marginalPS             0.165
                                                                                                                    iptw                   1.000
                                                                                                                    iptwStabilized         0.165

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                             973  ps                     0.036
                                                                                                                    marginalPS             0.269
                                                                                                                    iptw                   1.037
                                                                                                                    iptwStabilized         0.279

                                                 TNF                           TNF                             610  ps                     0.035
                                                                                                                    marginalPS             0.586
                                                                                                                    iptw                   1.076
                                                                                                                    iptwStabilized         0.630

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            4208  ps                     0.027
                                                                                                                    marginalPS             0.335
                                                                                                                    iptw                   1.028
                                                                                                                    iptwStabilized         0.344

                                                 TNF                           TNF                            3440  ps                     0.020
                                                                                                                    marginalPS             0.592
                                                                                                                    iptw                   1.030
                                                                                                                    iptwStabilized         0.610

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            3397  ps                     0.029
                                                                                                                    marginalPS             0.165
                                                                                                                    iptw                   1.030
                                                                                                                    iptwStabilized         0.170

                                                 TNF                           TNF                             810  ps                     0.029
                                                                                                                    marginalPS             0.285
                                                                                                                    iptw                   1.080
                                                                                                                    iptwStabilized         0.308
     -------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Maximum
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              59  ps                     0.035
                                                                                                                    marginalPS             0.269
                                                                                                                    iptw                   1.036
                                                                                                                    iptwStabilized         0.279

                                                 TNF                           TNF                              60  ps                     0.998
                                                                                                                    marginalPS             0.586
                                                                                                                    iptw                   1.075
                                                                                                                    iptwStabilized         0.629

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                               1  ps                     0.008
                                                                                                                    marginalPS             0.335
                                                                                                                    iptw                   1.008
                                                                                                                    iptwStabilized         0.337
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  33

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Maximum
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  Marketscan  TNF                           TNF                              13  ps                     1.000
                                                                                                                    marginalPS             0.592
                                                                                                                    iptw                   1.027
                                                                                                                    iptwStabilized         0.608

                                     Medicare    DMARD, NSAID, or no exposure  TNF                             118  ps                     0.979
                                                                                                                    marginalPS             0.165
                                                                                                                    iptw                  47.247
                                                                                                                    iptwStabilized         7.786

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                             973  ps                     0.929
                                                                                                                    marginalPS             0.269
                                                                                                                    iptw                  14.152
                                                                                                                    iptwStabilized         3.808

                                                 TNF                           TNF                             610  ps                     0.929
                                                                                                                    marginalPS             0.586
                                                                                                                    iptw                  28.432
                                                                                                                    iptwStabilized        16.649

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            4208  ps                     0.971
                                                                                                                    marginalPS             0.335
                                                                                                                    iptw                  34.199
                                                                                                                    iptwStabilized        11.453

                                                 TNF                           TNF                            3440  ps                     0.970
                                                                                                                    marginalPS             0.592
                                                                                                                    iptw                  50.224
                                                                                                                    iptwStabilized        29.723

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            3397  ps                     0.922
                                                                                                                    marginalPS             0.165
                                                                                                                    iptw                  12.848
                                                                                                                    iptwStabilized         2.117

                                                 TNF                           TNF                             810  ps                     0.926
                                                                                                                    marginalPS             0.285
                                                                                                                    iptw                  34.281
                                                                                                                    iptwStabilized         9.767
     -------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable                Mean
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              59  ps                     0.021
                                                                                                                    marginalPS             0.269
                                                                                                                    iptw                   1.022
                                                                                                                    iptwStabilized         0.275

                                                 TNF                           TNF                              60  ps                     0.962
                                                                                                                    marginalPS             0.586
                                                                                                                    iptw                   1.040
                                                                                                                    iptwStabilized         0.609

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                               1  ps                     0.008
                                                                                                                    marginalPS             0.335
                                                                                                                    iptw                   1.008
                                                                                                                    iptwStabilized         0.337

                                                 TNF                           TNF                              13  ps                     0.991
                                                                                                                    marginalPS             0.592
                                                                                                                    iptw                   1.009
                                                                                                                    iptwStabilized         0.597
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  34

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable                Mean
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  Medicare    DMARD, NSAID, or no exposure  TNF                             118  ps                     0.065
                                                                                                                    marginalPS             0.165
                                                                                                                    iptw                   2.449
                                                                                                                    iptwStabilized         0.404

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                             973  ps                     0.284
                                                                                                                    marginalPS             0.269
                                                                                                                    iptw                   1.678
                                                                                                                    iptwStabilized         0.451

                                                 TNF                           TNF                             610  ps                     0.549
                                                                                                                    marginalPS             0.586
                                                                                                                    iptw                   2.613
                                                                                                                    iptwStabilized         1.530

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            4208  ps                     0.335
                                                                                                                    marginalPS             0.335
                                                                                                                    iptw                   1.849
                                                                                                                    iptwStabilized         0.619

                                                 TNF                           TNF                            3440  ps                     0.590
                                                                                                                    marginalPS             0.592
                                                                                                                    iptw                   2.194
                                                                                                                    iptwStabilized         1.298

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            3397  ps                     0.168
                                                                                                                    marginalPS             0.165
                                                                                                                    iptw                   1.243
                                                                                                                    iptwStabilized         0.205

                                                 TNF                           TNF                             810  ps                     0.285
                                                                                                                    marginalPS             0.285
                                                                                                                    iptw                   4.944
                                                                                                                    iptwStabilized         1.409
     -------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable              Median
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              59  ps                     0.021
                                                                                                                    marginalPS             0.269
                                                                                                                    iptw                   1.022
                                                                                                                    iptwStabilized         0.275

                                                 TNF                           TNF                              60  ps                     0.965
                                                                                                                    marginalPS             0.586
                                                                                                                    iptw                   1.036
                                                                                                                    iptwStabilized         0.607

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                               1  ps                     0.008
                                                                                                                    marginalPS             0.335
                                                                                                                    iptw                   1.008
                                                                                                                    iptwStabilized         0.337

                                                 TNF                           TNF                              13  ps                     1.000
                                                                                                                    marginalPS             0.592
                                                                                                                    iptw                   1.000
                                                                                                                    iptwStabilized         0.592

                                     Medicare    DMARD, NSAID, or no exposure  TNF                             118  ps                     0.020
                                                                                                                    marginalPS             0.165
                                                                                                                    iptw                   1.020
                                                                                                                    iptwStabilized         0.168
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  35

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable              Median
     -------------------------------------------------------------------------------------------------------------------------------------------
                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                             973  ps                     0.230
                                                                                                                    marginalPS             0.269
                                                                                                                    iptw                   1.298
                                                                                                                    iptwStabilized         0.349

                                                 TNF                           TNF                             610  ps                     0.561
                                                                                                                    marginalPS             0.586
                                                                                                                    iptw                   1.782
                                                                                                                    iptwStabilized         1.043

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            4208  ps                     0.260
                                                                                                                    marginalPS             0.335
                                                                                                                    iptw                   1.352
                                                                                                                    iptwStabilized         0.453

                                                 TNF                           TNF                            3440  ps                     0.601
                                                                                                                    marginalPS             0.592
                                                                                                                    iptw                   1.664
                                                                                                                    iptwStabilized         0.985

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            3397  ps                     0.137
                                                                                                                    marginalPS             0.165
                                                                                                                    iptw                   1.158
                                                                                                                    iptwStabilized         0.191

                                                 TNF                           TNF                             810  ps                     0.235
                                                                                                                    marginalPS             0.285
                                                                                                                    iptw                   4.252
                                                                                                                    iptwStabilized         1.211
     -------------------------------------------------------------------------------------------------------------------------------------------

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Std Dev
     -------------------------------------------------------------------------------------------------------------------------------------------
                0  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                              59  ps                     0.008
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.009
                                                                                                                    iptwStabilized         0.002

                                                 TNF                           TNF                              60  ps                     0.021
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.023
                                                                                                                    iptwStabilized         0.013

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                               1  ps                          
                                                                                                                    marginalPS                  
                                                                                                                    iptw                        
                                                                                                                    iptwStabilized              

                                                 TNF                           TNF                              13  ps                     0.012
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.012
                                                                                                                    iptwStabilized         0.007

                                     Medicare    DMARD, NSAID, or no exposure  TNF                             118  ps                     0.209
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   6.548
                                                                                                                    iptwStabilized         1.079

                1  2-level exposure  MPCD        DMARD, NSAID, or no exposure  TNF                             973  ps                     0.203
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   1.311
                                                                                                                    iptwStabilized         0.353
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  36

                                                                 The MEANS Procedure

        indCommon
          Support  model             database    exposure                      Response Value                N Obs  Variable             Std Dev
     -------------------------------------------------------------------------------------------------------------------------------------------
                1  2-level exposure  MPCD        TNF                           TNF                             610  ps                     0.240
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   2.629
                                                                                                                    iptwStabilized         1.540

                                     Marketscan  DMARD, NSAID, or no exposure  TNF                            4208  ps                     0.209
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   1.502
                                                                                                                    iptwStabilized         0.503

                                                 TNF                           TNF                            3440  ps                     0.227
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   1.736
                                                                                                                    iptwStabilized         1.027

                                     Medicare    DMARD, NSAID, or no exposure  TNF                            3397  ps                     0.111
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   0.381
                                                                                                                    iptwStabilized         0.063

                                                 TNF                           TNF                             810  ps                     0.173
                                                                                                                    marginalPS             0.000
                                                                                                                    iptw                   3.063
                                                                                                                    iptwStabilized         0.873
     -------------------------------------------------------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 13689 observations read from the data set WORK.PS.
NOTE: The PROCEDURE MEANS printed pages 30-36.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.14 seconds
      cpu time            0.15 seconds
      

799        proc corr data = Work.ps;
800          var iptw iptwStabilized;
801        run;

                                                                  --- AS project ---                                   17:48 Friday, June 15, 2018  37

                                                                  The CORR Procedure

                                                     2  Variables:    iptw           iptwStabilized 


                                                                  Simple Statistics
 
                           Variable                 N          Mean       Std Dev           Sum       Minimum       Maximum

                           iptw                 13689       1.98748       1.88255         27207       1.00000      50.22446
                           iptwStabilized       13689       0.75900       0.85385         10390       0.16479      29.72256


                                                     Pearson Correlation Coefficients, N = 13689 
                                                              Prob > |r| under H0: Rho=0
 
                                                                                             iptw
                                                                             iptw      Stabilized

                                                     iptw                 1.00000         0.86934
                                                                                           <.0001

                                                     iptwStabilized       0.86934         1.00000
                                                                           <.0001                
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: The PROCEDURE CORR printed page 37.
NOTE: PROCEDURE CORR used (Total process time):
      real time           0.10 seconds
      cpu time            0.04 seconds
      

802        
803        
804        /*
14                                                                  The SAS System                                         17:48 Friday, June 15, 2018

805        Save output data files
806         */
807        proc sql;
808          create table DT.ps as
809            select *
810            from Work.ps;
NOTE: Table DT.PS created, with 13689 rows and 67 columns.

811          create table Work.psDeidentified as
812            select model,
813                   database,
814                   exposure,
815                   _level_,
816                   ps,
817                   indCommonSupport,
818                   iptw,
819                   marginalPS,
820                   iptwStabilized,
821                   age,
822                   catAge,
823                   sex,
824                   indAmyloidosis,
825                   indAortInsuffRegurg,
826                   indApicalPulmFib,
827                   indCaudaEquina,
828                   indVertFrac,
829                   indConductBlock,
830                   indCrohnsDis,
831                   indHematCa,
832                   indHospInf,
833                   indIgANeph,
834                   indInterstLungDis,
835                   indMI,
836                   indNephSyn,
837                   indNMSC,
838                   indNonVertOsFrac,
839                   indOppInf,
840                   indPsoriasis,
841                   indPSA,
842                   indRestrictLungDis,
843                   indSolidCa,
844                   indSpinalCordComp,
845                   indUlcerColitis,
846                   indUveitis,
847                   indDiabetes,
848                   indHT,
849                   indMetabSyn,
850                   indNAFattyLiverDis,
851                   indCOPDEmphysema,
852                   meanPredEqDoseCat,
853                   charlson,
854                   quartileCharlson,
855                   indInflamMarker,
856                   indRxNSAID,
857                   indRxHtn,
858                   indRxNarcotics,
859                   indRxFungus,
860                   indRxOP_bisphosp,
861                   indRxThiazide,
862                   indRxAnticoagulant,
863                   indIPAdmit12mPrior,
864                   indRxAntibiotics,
865                   countIPAdmits12mPrior,
866                   indERVisit12mPrior,
867                   ciras,
868                   quartileCIRAS,
869                   countAVPhys12mPrior,
870                   quartileAVPhys12mPrior,
871                   countAVRheum12mPrior,
872                   quartileAVRheum12mPrior,
873                   indAVRheum12mPrior,
874                   indRxBiologics,
15                                                                  The SAS System                                         17:48 Friday, June 15, 2018

875                   indOutpatientInfection
876            from DT.ps;
NOTE: Table WORK.PSDEIDENTIFIED created, with 13689 rows and 64 columns.

877        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.12 seconds
      cpu time            0.09 seconds
      

878        proc export
879          data = Work.psBetas
880          outfile = "data\processed\psBetas.csv"
881          dbms = csv
882          replace;
883          delimiter = ",";
884        run;

885         /**********************************************************************
886         *   PRODUCT:   SAS
887         *   VERSION:   9.4
888         *   CREATOR:   External File Interface
889         *   DATE:      15JUN18
890         *   DESC:      Generated SAS Datastep Code
891         *   TEMPLATE SOURCE:  (None Specified.)
892         ***********************************************************************/
893            data _null_;
894            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
895            %let _EFIREC_ = 0;     /* clear export record count macro variable */
896            file 'data\processed\psBetas.csv' delimiter=',' DSD DROPOVER lrecl=32767;
897            if _n_ = 1 then        /* write column names or labels */
898             do;
899               put
900                  "database"
901               ','
902                  "_LINK_"
903               ','
904                  "_TYPE_"
905               ','
906                  "_STATUS_"
907               ','
908                  "_NAME_"
909               ','
910                  "Intercept"
911               ','
912                  "catAge60N69"
913               ','
914                  "SEXF"
915               ','
916                  "indAortInsuffRegurg"
917               ','
918                  "indVertFrac"
919               ','
920                  "indCrohnsDis"
921               ','
922                  "indHematCa"
923               ','
924                  "indHospInf"
925               ','
926                  "indIgANeph"
927               ','
928                  "indNonVertOsFrac"
929               ','
930                  "indOppInf"
931               ','
932                  "indPsoriasis"
933               ','
934                  "indPSA"
935               ','
936                  "indRestrictLungDis"
937               ','
938                  "indSolidCa"
16                                                                  The SAS System                                         17:48 Friday, June 15, 2018

939               ','
940                  "indUlcerColitis"
941               ','
942                  "indUveitis"
943               ','
944                  "indDiabetes"
945               ','
946                  "indHT"
947               ','
948                  "indMetabSyn"
949               ','
950                  "indNAFattyLiverDis"
951               ','
952                  "indCOPDEmphysema"
953               ','
954                  "meanPredEqDoseCatHigh__10__mg_d_"
955               ','
956                  "meanPredEqDoseCatLow___2_5_mg_d_"
957               ','
958                  "meanPredEqDoseCatMedium_High__5_"
959               ','
960                  "meanPredEqDoseCatMedium_Low__2_5"
961               ','
962                  "quartileCharlson3"
963               ','
964                  "indInflamMarker"
965               ','
966                  "indRxNSAID"
967               ','
968                  "indRxHtn"
969               ','
970                  "indRxNarcotics"
971               ','
972                  "indRxFungus"
973               ','
974                  "indRxOP_bisphosp"
975               ','
976                  "indRxThiazide"
977               ','
978                  "indRxAnticoagulant"
979               ','
980                  "indRxAntibiotics"
981               ','
982                  "countIPAdmits12mPrior"
983               ','
984                  "indERVisit12mPrior"
985               ','
986                  "countAVRheum12mPrior"
987               ','
988                  "indRxBiologics"
989               ','
990                  "indOutpatientInfection"
991               ','
992                  "_LNLIKE_"
993               ','
994                  "_ESTTYPE_"
995               ;
996             end;
997           set  WORK.PSBETAS   end=EFIEOD;
998               format database $10. ;
999               format _LINK_ $8. ;
1000              format _TYPE_ $8. ;
1001              format _STATUS_ $11. ;
1002              format _NAME_ $9. ;
1003              format Intercept best12. ;
1004              format catAge60N69 best12. ;
1005              format SEXF best12. ;
1006              format indAortInsuffRegurg best12. ;
1007              format indVertFrac best12. ;
1008              format indCrohnsDis best12. ;
1009              format indHematCa best12. ;
1010              format indHospInf best12. ;
17                                                                  The SAS System                                         17:48 Friday, June 15, 2018

1011              format indIgANeph best12. ;
1012              format indNonVertOsFrac best12. ;
1013              format indOppInf best12. ;
1014              format indPsoriasis best12. ;
1015              format indPSA best12. ;
1016              format indRestrictLungDis best12. ;
1017              format indSolidCa best12. ;
1018              format indUlcerColitis best12. ;
1019              format indUveitis best12. ;
1020              format indDiabetes best12. ;
1021              format indHT best12. ;
1022              format indMetabSyn best12. ;
1023              format indNAFattyLiverDis best12. ;
1024              format indCOPDEmphysema best12. ;
1025              format meanPredEqDoseCatHigh__10__mg_d_ best12. ;
1026              format meanPredEqDoseCatLow___2_5_mg_d_ best12. ;
1027              format meanPredEqDoseCatMedium_High__5_ best12. ;
1028              format meanPredEqDoseCatMedium_Low__2_5 best12. ;
1029              format quartileCharlson3 best12. ;
1030              format indInflamMarker best12. ;
1031              format indRxNSAID best12. ;
1032              format indRxHtn best12. ;
1033              format indRxNarcotics best12. ;
1034              format indRxFungus best12. ;
1035              format indRxOP_bisphosp best12. ;
1036              format indRxThiazide best12. ;
1037              format indRxAnticoagulant best12. ;
1038              format indRxAntibiotics best12. ;
1039              format countIPAdmits12mPrior best12. ;
1040              format indERVisit12mPrior best12. ;
1041              format countAVRheum12mPrior best12. ;
1042              format indRxBiologics best12. ;
1043              format indOutpatientInfection best12. ;
1044              format _LNLIKE_ best12. ;
1045              format _ESTTYPE_ $4. ;
1046            do;
1047              EFIOUT + 1;
1048              put database $ @;
1049              put _LINK_ $ @;
1050              put _TYPE_ $ @;
1051              put _STATUS_ $ @;
1052              put _NAME_ $ @;
1053              put Intercept @;
1054              put catAge60N69 @;
1055              put SEXF @;
1056              put indAortInsuffRegurg @;
1057              put indVertFrac @;
1058              put indCrohnsDis @;
1059              put indHematCa @;
1060              put indHospInf @;
1061              put indIgANeph @;
1062              put indNonVertOsFrac @;
1063              put indOppInf @;
1064              put indPsoriasis @;
1065              put indPSA @;
1066              put indRestrictLungDis @;
1067              put indSolidCa @;
1068              put indUlcerColitis @;
1069              put indUveitis @;
1070              put indDiabetes @;
1071              put indHT @;
1072              put indMetabSyn @;
1073              put indNAFattyLiverDis @;
1074              put indCOPDEmphysema @;
1075              put meanPredEqDoseCatHigh__10__mg_d_ @;
1076              put meanPredEqDoseCatLow___2_5_mg_d_ @;
1077              put meanPredEqDoseCatMedium_High__5_ @;
1078              put meanPredEqDoseCatMedium_Low__2_5 @;
1079              put quartileCharlson3 @;
1080              put indInflamMarker @;
1081              put indRxNSAID @;
1082              put indRxHtn @;
18                                                                  The SAS System                                         17:48 Friday, June 15, 2018

1083              put indRxNarcotics @;
1084              put indRxFungus @;
1085              put indRxOP_bisphosp @;
1086              put indRxThiazide @;
1087              put indRxAnticoagulant @;
1088              put indRxAntibiotics @;
1089              put countIPAdmits12mPrior @;
1090              put indERVisit12mPrior @;
1091              put countAVRheum12mPrior @;
1092              put indRxBiologics @;
1093              put indOutpatientInfection @;
1094              put _LNLIKE_ @;
1095              put _ESTTYPE_ $ ;
1096              ;
1097            end;
1098           if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
1099           if EFIEOD then call symputx('_EFIREC_',EFIOUT);
1100           run;

NOTE: The file 'data\processed\psBetas.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\psBetas.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=15Jun2018:17:48:49,
      Create Time=15Jun2018:17:48:49

NOTE: 4 records were written to the file 'data\processed\psBetas.csv'.
      The minimum record length was 564.
      The maximum record length was 712.
NOTE: There were 3 observations read from the data set WORK.PSBETAS.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

3 records created in data\processed\psBetas.csv from WORK.PSBETAS.
  
  
NOTE: "data\processed\psBetas.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.26 seconds
      cpu time            0.17 seconds
      

1101       proc export
1102         data = Work.psDeidentified
1103         outfile = "data\processed\psDeidentified.csv"
1104         dbms = csv
1105         replace;
1106         delimiter = ",";
1107       run;

1108        /**********************************************************************
1109        *   PRODUCT:   SAS
1110        *   VERSION:   9.4
1111        *   CREATOR:   External File Interface
1112        *   DATE:      15JUN18
1113        *   DESC:      Generated SAS Datastep Code
1114        *   TEMPLATE SOURCE:  (None Specified.)
1115        ***********************************************************************/
1116           data _null_;
1117           %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
1118           %let _EFIREC_ = 0;     /* clear export record count macro variable */
1119           file 'data\processed\psDeidentified.csv' delimiter=',' DSD DROPOVER lrecl=32767;
1120           if _n_ = 1 then        /* write column names or labels */
1121            do;
1122              put
1123                 "model"
1124              ','
1125                 "database"
1126              ','
1127                 "exposure"
1128              ','
19                                                                  The SAS System                                         17:48 Friday, June 15, 2018

1129                 "_LEVEL_"
1130              ','
1131                 "ps"
1132              ','
1133                 "indCommonSupport"
1134              ','
1135                 "iptw"
1136              ','
1137                 "marginalPS"
1138              ','
1139                 "iptwStabilized"
1140              ','
1141                 "age"
1142              ','
1143                 "catAge"
1144              ','
1145                 "SEX"
1146              ','
1147                 "indAmyloidosis"
1148              ','
1149                 "indAortInsuffRegurg"
1150              ','
1151                 "indApicalPulmFib"
1152              ','
1153                 "indCaudaEquina"
1154              ','
1155                 "indVertFrac"
1156              ','
1157                 "indConductBlock"
1158              ','
1159                 "indCrohnsDis"
1160              ','
1161                 "indHematCa"
1162              ','
1163                 "indHospInf"
1164              ','
1165                 "indIgANeph"
1166              ','
1167                 "indInterstLungDis"
1168              ','
1169                 "indMI"
1170              ','
1171                 "indNephSyn"
1172              ','
1173                 "indNMSC"
1174              ','
1175                 "indNonVertOsFrac"
1176              ','
1177                 "indOppInf"
1178              ','
1179                 "indPsoriasis"
1180              ','
1181                 "indPSA"
1182              ','
1183                 "indRestrictLungDis"
1184              ','
1185                 "indSolidCa"
1186              ','
1187                 "indSpinalCordComp"
1188              ','
1189                 "indUlcerColitis"
1190              ','
1191                 "indUveitis"
1192              ','
1193                 "indDiabetes"
1194              ','
1195                 "indHT"
1196              ','
1197                 "indMetabSyn"
1198              ','
1199                 "indNAFattyLiverDis"
1200              ','
20                                                                  The SAS System                                         17:48 Friday, June 15, 2018

1201                 "indCOPDEmphysema"
1202              ','
1203                 "meanPredEqDoseCat"
1204              ','
1205                 "charlson"
1206              ','
1207                 "quartileCharlson"
1208              ','
1209                 "indInflamMarker"
1210              ','
1211                 "indRxNSAID"
1212              ','
1213                 "indRxHtn"
1214              ','
1215                 "indRxNarcotics"
1216              ','
1217                 "indRxFungus"
1218              ','
1219                 "indRxOP_bisphosp"
1220              ','
1221                 "indRxThiazide"
1222              ','
1223                 "indRxAnticoagulant"
1224              ','
1225                 "indIPAdmit12mPrior"
1226              ','
1227                 "indRxAntibiotics"
1228              ','
1229                 "countIPAdmits12mPrior"
1230              ','
1231                 "indERVisit12mPrior"
1232              ','
1233                 "ciras"
1234              ','
1235                 "quartileCIRAS"
1236              ','
1237                 "countAVPhys12mPrior"
1238              ','
1239                 "quartileAVPhys12mPrior"
1240              ','
1241                 "countAVRheum12mPrior"
1242              ','
1243                 "quartileAVRheum12mPrior"
1244              ','
1245                 "indAVRheum12mPrior"
1246              ','
1247                 "indRxBiologics"
1248              ','
1249                 "indOutpatientInfection"
1250              ;
1251            end;
1252          set  WORK.PSDEIDENTIFIED   end=EFIEOD;
1253              format model $16. ;
1254              format database $10. ;
1255              format exposure $28. ;
1256              format _LEVEL_ $28. ;
1257              format ps best12. ;
1258              format indCommonSupport best12. ;
1259              format iptw best12. ;
1260              format marginalPS best12. ;
1261              format iptwStabilized best12. ;
1262              format age best12. ;
1263              format catAge $5. ;
1264              format SEX $2. ;
1265              format indAmyloidosis best12. ;
1266              format indAortInsuffRegurg best12. ;
1267              format indApicalPulmFib best12. ;
1268              format indCaudaEquina best12. ;
1269              format indVertFrac best12. ;
1270              format indConductBlock best12. ;
1271              format indCrohnsDis best12. ;
1272              format indHematCa best12. ;
21                                                                  The SAS System                                         17:48 Friday, June 15, 2018

1273              format indHospInf best12. ;
1274              format indIgANeph best12. ;
1275              format indInterstLungDis best12. ;
1276              format indMI best12. ;
1277              format indNephSyn best12. ;
1278              format indNMSC best12. ;
1279              format indNonVertOsFrac best12. ;
1280              format indOppInf best12. ;
1281              format indPsoriasis best12. ;
1282              format indPSA best12. ;
1283              format indRestrictLungDis best12. ;
1284              format indSolidCa best12. ;
1285              format indSpinalCordComp best12. ;
1286              format indUlcerColitis best12. ;
1287              format indUveitis best12. ;
1288              format indDiabetes best12. ;
1289              format indHT best12. ;
1290              format indMetabSyn best12. ;
1291              format indNAFattyLiverDis best12. ;
1292              format indCOPDEmphysema best12. ;
1293              format meanPredEqDoseCat $23. ;
1294              format charlson best12. ;
1295              format quartileCharlson best12. ;
1296              format indInflamMarker best12. ;
1297              format indRxNSAID best12. ;
1298              format indRxHtn best12. ;
1299              format indRxNarcotics best12. ;
1300              format indRxFungus best12. ;
1301              format indRxOP_bisphosp best12. ;
1302              format indRxThiazide best12. ;
1303              format indRxAnticoagulant best12. ;
1304              format indIPAdmit12mPrior best12. ;
1305              format indRxAntibiotics best12. ;
1306              format countIPAdmits12mPrior best12. ;
1307              format indERVisit12mPrior best12. ;
1308              format ciras best12. ;
1309              format quartileCIRAS best12. ;
1310              format countAVPhys12mPrior best12. ;
1311              format quartileAVPhys12mPrior best12. ;
1312              format countAVRheum12mPrior best12. ;
1313              format quartileAVRheum12mPrior best12. ;
1314              format indAVRheum12mPrior best12. ;
1315              format indRxBiologics best12. ;
1316              format indOutpatientInfection best12. ;
1317            do;
1318              EFIOUT + 1;
1319              put model $ @;
1320              put database $ @;
1321              put exposure $ @;
1322              put _LEVEL_ $ @;
1323              put ps @;
1324              put indCommonSupport @;
1325              put iptw @;
1326              put marginalPS @;
1327              put iptwStabilized @;
1328              put age @;
1329              put catAge $ @;
1330              put SEX $ @;
1331              put indAmyloidosis @;
1332              put indAortInsuffRegurg @;
1333              put indApicalPulmFib @;
1334              put indCaudaEquina @;
1335              put indVertFrac @;
1336              put indConductBlock @;
1337              put indCrohnsDis @;
1338              put indHematCa @;
1339              put indHospInf @;
1340              put indIgANeph @;
1341              put indInterstLungDis @;
1342              put indMI @;
1343              put indNephSyn @;
1344              put indNMSC @;
22                                                                  The SAS System                                         17:48 Friday, June 15, 2018

1345              put indNonVertOsFrac @;
1346              put indOppInf @;
1347              put indPsoriasis @;
1348              put indPSA @;
1349              put indRestrictLungDis @;
1350              put indSolidCa @;
1351              put indSpinalCordComp @;
1352              put indUlcerColitis @;
1353              put indUveitis @;
1354              put indDiabetes @;
1355              put indHT @;
1356              put indMetabSyn @;
1357              put indNAFattyLiverDis @;
1358              put indCOPDEmphysema @;
1359              put meanPredEqDoseCat $ @;
1360              put charlson @;
1361              put quartileCharlson @;
1362              put indInflamMarker @;
1363              put indRxNSAID @;
1364              put indRxHtn @;
1365              put indRxNarcotics @;
1366              put indRxFungus @;
1367              put indRxOP_bisphosp @;
1368              put indRxThiazide @;
1369              put indRxAnticoagulant @;
1370              put indIPAdmit12mPrior @;
1371              put indRxAntibiotics @;
1372              put countIPAdmits12mPrior @;
1373              put indERVisit12mPrior @;
1374              put ciras @;
1375              put quartileCIRAS @;
1376              put countAVPhys12mPrior @;
1377              put quartileAVPhys12mPrior @;
1378              put countAVRheum12mPrior @;
1379              put quartileAVRheum12mPrior @;
1380              put indAVRheum12mPrior @;
1381              put indRxBiologics @;
1382              put indOutpatientInfection ;
1383              ;
1384            end;
1385           if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
1386           if EFIEOD then call symputx('_EFIREC_',EFIOUT);
1387           run;

NOTE: The file 'data\processed\psDeidentified.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\psDeidentified.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=15Jun2018:17:48:49,
      Create Time=15Jun2018:17:48:49

NOTE: 13690 records were written to the file 'data\processed\psDeidentified.csv'.
      The minimum record length was 201.
      The maximum record length was 868.
NOTE: There were 13689 observations read from the data set WORK.PSDEIDENTIFIED.
NOTE: DATA statement used (Total process time):
      real time           0.20 seconds
      cpu time            0.18 seconds
      

13689 records created in data\processed\psDeidentified.csv from WORK.PSDEIDENTIFIED.
  
  
NOTE: "data\processed\psDeidentified.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.39 seconds
      cpu time            0.29 seconds
      

1388       proc export
1389         data = Work.commonSupportRegion
1390         outfile = "data\processed\commonSupportRegion.csv"
1391         dbms = csv
23                                                                  The SAS System                                         17:48 Friday, June 15, 2018

1392         replace;
1393         delimiter = ",";
1394       run;

1395        /**********************************************************************
1396        *   PRODUCT:   SAS
1397        *   VERSION:   9.4
1398        *   CREATOR:   External File Interface
1399        *   DATE:      15JUN18
1400        *   DESC:      Generated SAS Datastep Code
1401        *   TEMPLATE SOURCE:  (None Specified.)
1402        ***********************************************************************/
1403           data _null_;
1404           %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
1405           %let _EFIREC_ = 0;     /* clear export record count macro variable */
1406           file 'data\processed\commonSupportRegion.csv' delimiter=',' DSD DROPOVER lrecl=32767;
1407           if _n_ = 1 then        /* write column names or labels */
1408            do;
1409              put
1410                 "model"
1411              ','
1412                 "database"
1413              ','
1414                 "commonSupportLowerBound"
1415              ','
1416                 "commonSupportUpperBound"
1417              ;
1418            end;
1419          set  WORK.COMMONSUPPORTREGION   end=EFIEOD;
1420              format model $16. ;
1421              format database $10. ;
1422              format commonSupportLowerBound best12. ;
1423              format commonSupportUpperBound best12. ;
1424            do;
1425              EFIOUT + 1;
1426              put model $ @;
1427              put database $ @;
1428              put commonSupportLowerBound @;
1429              put commonSupportUpperBound ;
1430              ;
1431            end;
1432           if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
1433           if EFIEOD then call symputx('_EFIREC_',EFIOUT);
1434           run;

NOTE: The file 'data\processed\commonSupportRegion.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\commonSupportRegion.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=15Jun2018:17:48:50,
      Create Time=15Jun2018:17:48:50

NOTE: 4 records were written to the file 'data\processed\commonSupportRegion.csv'.
      The minimum record length was 47.
      The maximum record length was 62.
NOTE: There were 3 observations read from the data set WORK.COMMONSUPPORTREGION.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

3 records created in data\processed\commonSupportRegion.csv from WORK.COMMONSUPPORTREGION.
  
  
NOTE: "data\processed\commonSupportRegion.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
      

1435       
1436       
1437       ods html close;
24                                                                  The SAS System                                         17:48 Friday, June 15, 2018

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           24.31 seconds
      cpu time            8.23 seconds
      
