1                                                          The SAS System                            16:25 Monday, November 20, 2017

NOTE: Unable to open SASUSER.REGSTRY. WORK.REGSTRY will be opened instead.
NOTE: All registry changes will be lost at the end of the session.

WARNING: Unable to copy SASUSER registry to WORK registry. Because of this, you will not see registry customizations during this 
         session.
NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2002-2012 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M1) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70058223.
NOTE: This session is executing on the W32_ES08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 13.1
      SAS/ETS 13.1
      SAS/OR 13.1
      SAS/IML 13.1
      SAS/QC 13.1

NOTE: Additional host information:

 W32_ES08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any of the shared folders.

 


NOTE: SAS initialization used:
      real time           0.21 seconds
      cpu time            0.15 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                                        *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=modelPropensityScore; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: h:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
NOTE: Libref NDC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: W:\onenote\references\drug ndcs\sas data
127        footnote "&pgm.";
128        * footnote2 "%sysfunc(datetime(),datetime14.)";
2                                                                   The SAS System                                     16:25 Monday, November 20, 2017

129        title1 '--- AS project ---';
130        **********************************************************************;
131        options macrogen mlogic mprint symbolgen;
132        options nomacrogen nomlogic nomprint nosymbolgen;
133        
134        
135        ods html
136          body = "output\&cmt..html"
137          style = Statistical;
NOTE: Writing HTML Body file: output\modelPropensityScore.html
138        
139        
140        proc sql;
141          create table Work.allCovariates as
142            select A.database,
143                   A.exposure as exposure4,
144                   case
145                     when A.exposure in ("No exposure", "NSAID") then "NSAID or no exposure"
146                     else A.exposure
147                     end as exposure3,
148                   A.PATID,
149                   A.age,
150                   A.SEX,
151                   A.indexID,
152                   max(0, B.indAmyloidosis     ) as indAmyloidosis,
153                   max(0, C.indAortInsuffRegurg) as indAortInsuffRegurg,
154                   max(0, D.indApicalPulmFib   ) as indApicalPulmFib,
155                   max(0, E.indCaudaEquina     ) as indCaudaEquina,
156                   max(0, F.indVertFrac        ) as indVertFrac,
157                   max(0, G.indConductBlock    ) as indConductBlock,
158                   max(0, H.indCrohnsDis       ) as indCrohnsDis,
159                   max(0, I.indHematCa         ) as indHematCa,
160                   max(0, J.indHospInf         ) as indHospInf,
161                   max(0, K.indIgANeph         ) as indIgANeph,
162                   max(0, L.indInterstLungDis  ) as indInterstLungDis,
163                   max(0, M.indMI              ) as indMI,
164                   max(0, N.indNephSyn         ) as indNephSyn,
165                   max(0, O.indNMSC            ) as indNMSC,
166                   max(0, P.indNonVertOsFrac   ) as indNonVertOsFrac,
167                   max(0, Q.indOppInf          ) as indOppInf,
168                   max(0, R.indPsoriasis       ) as indPsoriasis,
169                   max(0, S.indPSA             ) as indPSA,
170                   max(0, T.indRestrictLungDis ) as indRestrictLungDis,
171                   max(0, U.indSolidCa         ) as indSolidCa,
172                   max(0, V.indSpinalCordComp  ) as indSpinalCordComp,
173                   max(0, W.indUlcerColitis    ) as indUlcerColitis,
174                   max(0, X.indUveitis         ) as indUveitis,
175                   max(0, AA.indDiabetes       ) as indDiabetes,
176                   max(0, BB.indHT             ) as indHT,
177                   max(0, CC.indMetabSyn       ) as indMetabSyn,
178                   max(0, DD.indNAFattyLiverDis) as indNAFattyLiverDis
179            from
180              DT.indexLookup A left join
181              (select indexID, 1 as indAmyloidosis      from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Amyloidosis/"
181      !                        , disease    )) B  on (A.indexID = B.indexID ) left join
182              (select indexID, 1 as indAortInsuffRegurg from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Aortic
182      ! Insufficiency\/Aortic Regurgitation/", disease    )) C  on (A.indexID = C.indexID ) left join
183              (select indexID, 1 as indApicalPulmFib    from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Apical Pulmonary
183      ! fibrosis/"                 , disease    )) D  on (A.indexID = D.indexID ) left join
184              (select indexID, 1 as indCaudaEquina      from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Cauda Equina
184      ! syndrome/"                     , disease    )) E  on (A.indexID = E.indexID ) left join
185              (select indexID, 1 as indVertFrac         from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Clinical vertebral
185      ! fracture/"               , disease    )) F  on (A.indexID = F.indexID ) left join
186              (select indexID, 1 as indConductBlock     from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Conduction Block/"
186      !                        , disease    )) G  on (A.indexID = G.indexID ) left join
187              (select indexID, 1 as indCrohnsDis        from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Crohnâ€™s Disease/"
187      !                          , disease    )) H  on (A.indexID = H.indexID ) left join
188              (select indexID, 1 as indHematCa          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Hematologic Cancer/"
188      !                        , disease    )) I  on (A.indexID = I.indexID ) left join
189              (select indexID, 1 as indHospInf          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Hospitalized
189      ! infection/"                    , disease    )) J  on (A.indexID = J.indexID ) left join
190              (select indexID, 1 as indIgANeph          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/IgA nephropathy/"
3                                                                   The SAS System                                     16:25 Monday, November 20, 2017

190      !                        , disease    )) K  on (A.indexID = K.indexID ) left join
191              (select indexID, 1 as indInterstLungDis   from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Interstitial lung
191      ! disease/"                 , disease    )) L  on (A.indexID = L.indexID ) left join
192              (select indexID, 1 as indMI               from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Myocardial
192      ! infarction/"                     , disease    )) M  on (A.indexID = M.indexID ) left join
193              (select indexID, 1 as indNephSyn          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Nephrotic syndrome/"
193      !                        , disease    )) N  on (A.indexID = N.indexID ) left join
194              (select indexID, 1 as indNMSC             from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Non Melanoma Skin
194      ! Cancer/"                  , disease    )) O  on (A.indexID = O.indexID ) left join
195              (select indexID, 1 as indNonVertOsFrac    from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Non-vertebral
195      ! osteoporotic fracture/"       , disease    )) P  on (A.indexID = P.indexID ) left join
196              (select indexID, 1 as indOppInf           from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Opportunistic
196      ! infection/"                   , disease    )) Q  on (A.indexID = Q.indexID ) left join
197              (select indexID, 1 as indPsoriasis        from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Psoriasis/"
197      !                        , disease    )) R  on (A.indexID = R.indexID ) left join
198              (select indexID, 1 as indPSA              from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Psoriatic arthritis/"
198      !                        , disease    )) S  on (A.indexID = S.indexID ) left join
199              (select indexID, 1 as indRestrictLungDis  from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Restrictive lung
199      ! disease/"                  , disease    )) T  on (A.indexID = T.indexID ) left join
200              (select indexID, 1 as indSolidCa          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Solid Cancer/"
200      !                        , disease    )) U  on (A.indexID = U.indexID ) left join
201              (select indexID, 1 as indSpinalCordComp   from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Spinal Cord
201      ! compression/"                   , disease    )) V  on (A.indexID = V.indexID ) left join
202              (select indexID, 1 as indUlcerColitis     from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Ulcerative Colitis/"
202      !                        , disease    )) W  on (A.indexID = W.indexID ) left join
203              (select indexID, 1 as indUveitis          from DT.comorbidities      where indPrevPriorToIndex = 1 & prxmatch("/Uveitis/"
203      !                        , disease    )) X  on (A.indexID = X.indexID ) left join
204              (select indexID, 1 as indDiabetes         from DT.comorbiditiesOther where                           prxmatch("/Diabetes/"
204      !                        , comorbidity)) AA on (A.indexID = AA.indexID) left join
205              (select indexID, 1 as indHT               from DT.comorbiditiesOther where                           prxmatch("/Hypertention/"
205      !                        , comorbidity)) BB on (A.indexID = BB.indexID) left join
206              (select indexID, 1 as indMetabSyn         from DT.comorbiditiesOther where                           prxmatch("/Metabolic syndrome/"
206      !                        , comorbidity)) CC on (A.indexID = CC.indexID) left join
207              (select indexID, 1 as indNAFattyLiverDis  from DT.comorbiditiesOther where                           prxmatch("/Non-alcoholic fatty
207      ! liver disease/"         , comorbidity)) DD on (A.indexID = DD.indexID) ;
NOTE: Table WORK.ALLCOVARIATES created, with 60010 rows and 34 columns.

208        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           2.08 seconds
      cpu time            1.79 seconds
      

209        
210        
211        proc means data = Work.allCovariates;
212          var indAmyloidosis
213              indAortInsuffRegurg
214              indApicalPulmFib
215              indCaudaEquina
216              indVertFrac
217              indConductBlock
218              indCrohnsDis
219              indHematCa
220              indHospInf
221              indIgANeph
222              indInterstLungDis
223              indMI
224              indNephSyn
225              indNMSC
226              indNonVertOsFrac
227              indOppInf
228              indPsoriasis
229              indPSA
230              indRestrictLungDis
231              indSolidCa
232              indSpinalCordComp
233              indUlcerColitis
234              indUveitis
235              indDiabetes
236              indHT
237              indMetabSyn
4                                                                   The SAS System                                     16:25 Monday, November 20, 2017

238              indNAFattyLiverDis;
239        run;

                                                                  --- AS project ---                               16:25 Monday, November 20, 2017   1

                                                                 The MEANS Procedure

                             Variable                   N            Mean         Std Dev         Minimum         Maximum
                             --------------------------------------------------------------------------------------------
                             indAmyloidosis         60010     0.000333278       0.0182530               0       1.0000000
                             indAortInsuffRegurg    60010       0.0194634       0.1381482               0       1.0000000
                             indApicalPulmFib       60010     0.000099983       0.0099988               0       1.0000000
                             indCaudaEquina         60010     0.000716547       0.0267590               0       1.0000000
                             indVertFrac            60010       0.0294618       0.1690983               0       1.0000000
                             indConductBlock        60010       0.0187802       0.1357491               0       1.0000000
                             indCrohnsDis           60010               0               0               0               0
                             indHematCa             60010       0.0070988       0.0839556               0       1.0000000
                             indHospInf             60010       0.0975837       0.2967535               0       1.0000000
                             indIgANeph             60010       0.0014331       0.0378294               0       1.0000000
                             indInterstLungDis      60010       0.0038994       0.0623234               0       1.0000000
                             indMI                  60010       0.0072821       0.0850248               0       1.0000000
                             indNephSyn             60010     0.000616564       0.0248233               0       1.0000000
                             indNMSC                60010       0.0074154       0.0857937               0       1.0000000
                             indNonVertOsFrac       60010       0.0291785       0.1683079               0       1.0000000
                             indOppInf              60010       0.0151308       0.1220742               0       1.0000000
                             indPsoriasis           60010       0.0271621       0.1625571               0       1.0000000
                             indPSA                 60010       0.0390102       0.1936208               0       1.0000000
                             indRestrictLungDis     60010       0.0181636       0.1335441               0       1.0000000
                             indSolidCa             60010       0.0409265       0.1981216               0       1.0000000
                             indSpinalCordComp      60010       0.0033161       0.0574906               0       1.0000000
                             indUlcerColitis        60010       0.0189135       0.1362208               0       1.0000000
                             indUveitis             60010       0.0423096       0.2012963               0       1.0000000
                             indDiabetes            60010       0.2952508       0.4561592               0       1.0000000
                             indHT                  60010       0.6665389       0.4714536               0       1.0000000
                             indMetabSyn            60010       0.0194968       0.1382640               0       1.0000000
                             indNAFattyLiverDis     60010       0.0365772       0.1877230               0       1.0000000
                             --------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 60010 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The PROCEDURE MEANS printed page 1.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.15 seconds
      cpu time            0.20 seconds
      

240        
241        
242        /*
243        Fit 4-level model
244        4 levels of treatment exposure: TNF, DMARD, NSAID, no exposure
245         */
246        proc logistic data = Work.allCovariates outest = Work.psBetas4Level;
247          class exposure4 (ref = "TNF")
248                database (ref = "Medicare")
249                sex (ref = "M")
250                / param = ref;
251          model exposure4 = database
252                            age
253                            sex
254                            indAmyloidosis
255                            indAortInsuffRegurg
256                            indApicalPulmFib
257                            indCaudaEquina
258                            indVertFrac
259                            indConductBlock
260                            indCrohnsDis
261                            indHematCa
262                            indHospInf
263                            indIgANeph
264                            indInterstLungDis
265                            indMI
266                            indNephSyn
267                            indNMSC
268                            indNonVertOsFrac
269                            indOppInf
270                            indPsoriasis
271                            indPSA
272                            indRestrictLungDis
273                            indSolidCa
274                            indSpinalCordComp
275                            indUlcerColitis
276                            indUveitis
277                            indDiabetes
278                            indHT
279                            indMetabSyn
280                            indNAFattyLiverDis
281                            / link = glogit rsquare;
282          output out = Work.ps4Level predicted = ps xbeta = xbeta;
283        run;

                                                                  --- AS project ---                               16:25 Monday, November 20, 2017   2

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure4         
                                                   Number of Response Levels     4                 
                                                   Model                         generalized logit 
                                                   Optimization Technique        Newton-Raphson    


                                                       Number of Observations Read       60010
                                                       Number of Observations Used       60009


                                                                   Response Profile
 
                                                         Ordered                         Total
                                                           Value     exposure4       Frequency

                                                               1     DMARD                7719
                                                               2     NSAID               18740
                                                               3     No exposure         20564
                                                               4     TNF                 12986

                                            Logits modeled use exposure4='TNF' as the reference category.

NOTE: 1 observation was deleted due to missing values for the response or explanatory variables.
NOTE: PROC LOGISTIC is fitting the generalized logit model. The logits modeled contrast each response category against the reference category 
      (exposure4='TNF').


                                                               Class Level Information
 
                                                                                      Design
                                                        Class        Value          Variables

                                                        database     MPCD            1      0
                                                                     Marketscan      0      1
                                                                     Medicare        0      0

                                                        SEX          F               1       
                                                                     M               0       


                                                               Model Convergence Status

                                                    Convergence criterion (GCONV=1E-8) satisfied.          
NOTE: Convergence criterion (GCONV=1E-8) satisfied.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC           159086.38      146017.58
                                                        SC            159113.39      146854.79
                                                        -2 Log L      159080.38      145831.58


                                                R-Square    0.1981    Max-rescaled R-Square    0.2132


                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio     13248.8017       90         <.0001
                                               Score                11725.6009       90         <.0001
                                               Wald                  9888.6188       90         <.0001
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017   3

                                                                The LOGISTIC Procedure

                                                             Type 3 Analysis of Effects
 
                                                                                    Wald
                                               Effect                   DF    Chi-Square    Pr > ChiSq

                                               database                  6      629.6951        <.0001
                                               age                       3     3438.9716        <.0001
                                               SEX                       3      620.0740        <.0001
                                               indAmyloidosis            3        1.6795        0.6415
                                               indAortInsuffRegurg       3      205.6945        <.0001
                                               indApicalPulmFib          3        0.7861        0.8528
                                               indCaudaEquina            3        1.8366        0.6070
                                               indVertFrac               3       58.4718        <.0001
                                               indConductBlock           3      142.5329        <.0001
                                               indCrohnsDis              0                            
                                               indHematCa                3       80.0872        <.0001
                                               indHospInf                3      225.6945        <.0001
                                               indIgANeph                3        9.5366        0.0229
                                               indInterstLungDis         3       17.7708        0.0005
                                               indMI                     3        2.3868        0.4961
                                               indNephSyn                3        5.0302        0.1696
                                               indNMSC                   3       91.2928        <.0001
                                               indNonVertOsFrac          3      294.8700        <.0001
                                               indOppInf                 3      158.9131        <.0001
                                               indPsoriasis              3      168.9005        <.0001
                                               indPSA                    3      713.3400        <.0001
                                               indRestrictLungDis        3      147.0978        <.0001
                                               indSolidCa                3      613.4559        <.0001
                                               indSpinalCordComp         3       26.2937        <.0001
                                               indUlcerColitis           3      241.7497        <.0001
                                               indUveitis                3      507.1916        <.0001
                                               indDiabetes               3        8.6066        0.0350
                                               indHT                     3      100.6069        <.0001
                                               indMetabSyn               3       10.6465        0.0138
                                               indNAFattyLiverDis        3       22.1735        <.0001


NOTE: The following parameters have been set to 0, since the variables are a linear combination of other variables as shown.


                                                                  indCrohnsDis_DMARD =  0
                                                                  indCrohnsDis_NSAID =  0
                                                            indCrohnsDis_No_exposure =  0


                                                      Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                       Parameter                         exposure4      DF    Estimate       Error    Chi-Square    Pr > ChiSq

                       Intercept                         DMARD           1     -1.5254      0.0654      544.4754        <.0001
                       Intercept                         NSAID           1     -0.3404      0.0513       44.0808        <.0001
                       Intercept                         No exposure     1     -1.7650      0.0550     1030.7578        <.0001
                       database            MPCD          DMARD           1     -0.4727      0.0603       61.5032        <.0001
                       database            MPCD          NSAID           1     -0.6396      0.0481      177.0826        <.0001
                       database            MPCD          No exposure     1    -0.00409      0.0460        0.0079        0.9291
                       database            Marketscan    DMARD           1     -0.5848      0.0372      247.5060        <.0001
                       database            Marketscan    NSAID           1     -0.5979      0.0293      416.7425        <.0001
                       database            Marketscan    No exposure     1     -0.2562      0.0298       73.9822        <.0001
                       age                               DMARD           1      0.0203     0.00113      323.3283        <.0001
                       age                               NSAID           1      0.0176    0.000910      375.8457        <.0001
                       age                               No exposure     1      0.0529    0.000950     3104.4245        <.0001
                       SEX                 F             DMARD           1      0.3666      0.0295      154.2697        <.0001
                       SEX                 F             NSAID           1      0.0492      0.0238        4.2625        0.0390
                       SEX                 F             No exposure     1     -0.2978      0.0244      149.0212        <.0001
                       indAmyloidosis                    DMARD           1     -0.8620      0.8182        1.1101        0.2921
                       indAmyloidosis                    NSAID           1     -0.2688      0.5235        0.2637        0.6076
                       indAmyloidosis                    No exposure     1     -1.0428      1.1245        0.8599        0.3538
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017   4

                                                                The LOGISTIC Procedure

                                                      Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                       Parameter                         exposure4      DF    Estimate       Error    Chi-Square    Pr > ChiSq

                       indAortInsuffRegurg               DMARD           1     -0.2314      0.1051        4.8456        0.0277
                       indAortInsuffRegurg               NSAID           1      0.0382      0.0829        0.2127        0.6446
                       indAortInsuffRegurg               No exposure     1     -1.4253      0.1184      144.9105        <.0001
                       indApicalPulmFib                  DMARD           1      9.3956     59.9504        0.0246        0.8755
                       indApicalPulmFib                  NSAID           1      8.8005     59.9491        0.0216        0.8833
                       indApicalPulmFib                  No exposure     1      8.3102     59.9583        0.0192        0.8898
                       indCaudaEquina                    DMARD           1      0.8869      0.6931        1.6376        0.2007
                       indCaudaEquina                    NSAID           1      0.7968      0.6251        1.6247        0.2024
                       indCaudaEquina                    No exposure     1      0.7383      0.6653        1.2313        0.2671
                       indVertFrac                       DMARD           1     -0.0200      0.1047        0.0365        0.8485
                       indVertFrac                       NSAID           1      0.4609      0.0826       31.1113        <.0001
                       indVertFrac                       No exposure     1      0.1608      0.0903        3.1698        0.0750
                       indConductBlock                   DMARD           1     -0.1121      0.1199        0.8750        0.3496
                       indConductBlock                   NSAID           1      0.3278      0.0939       12.1848        0.0005
                       indConductBlock                   No exposure     1     -0.7343      0.1150       40.7471        <.0001
                       indCrohnsDis                      DMARD           0           0                                        
                       indCrohnsDis                      NSAID           0           0                                        
                       indCrohnsDis                      No exposure     0           0                                        
                       indHematCa                        DMARD           1      1.0554      0.2014       27.4493        <.0001
                       indHematCa                        NSAID           1      1.0453      0.1822       32.8947        <.0001
                       indHematCa                        No exposure     1     -0.0312      0.2167        0.0207        0.8856
                       indHospInf                        DMARD           1      0.3496      0.0542       41.6198        <.0001
                       indHospInf                        NSAID           1      0.5186      0.0450      132.5246        <.0001
                       indHospInf                        No exposure     1      0.0272      0.0513        0.2820        0.5954
                       indIgANeph                        DMARD           1     -0.2355      0.3539        0.4427        0.5058
                       indIgANeph                        NSAID           1     -0.0295      0.2703        0.0119        0.9130
                       indIgANeph                        No exposure     1     -1.3804      0.4766        8.3883        0.0038
                       indInterstLungDis                 DMARD           1      0.2746      0.2113        1.6900        0.1936
                       indInterstLungDis                 NSAID           1     -0.3204      0.1956        2.6836        0.1014
                       indInterstLungDis                 No exposure     1     -0.5627      0.2592        4.7134        0.0299
                       indMI                             DMARD           1     -0.1856      0.1779        1.0878        0.2970
                       indMI                             NSAID           1     -0.1471      0.1428        1.0603        0.3031
                       indMI                             No exposure     1     -0.2406      0.1598        2.2666        0.1322
                       indNephSyn                        DMARD           1      0.1959      0.4864        0.1623        0.6870
                       indNephSyn                        NSAID           1      0.1259      0.4172        0.0911        0.7628
                       indNephSyn                        No exposure     1     -2.1799      1.0824        4.0559        0.0440
                       indNMSC                           DMARD           1     -0.3748      0.1684        4.9552        0.0260
                       indNMSC                           NSAID           1      0.1091      0.1257        0.7535        0.3854
                       indNMSC                           No exposure     1     -3.4284      0.3958       75.0404        <.0001
                       indNonVertOsFrac                  DMARD           1      0.0223      0.0875        0.0649        0.7989
                       indNonVertOsFrac                  NSAID           1      0.3958      0.0696       32.3623        <.0001
                       indNonVertOsFrac                  No exposure     1     -1.0239      0.0977      109.7916        <.0001
                       indOppInf                         DMARD           1     -0.2064      0.1019        4.1026        0.0428
                       indOppInf                         NSAID           1     -0.3685      0.0857       18.5069        <.0001
                       indOppInf                         No exposure     1     -2.2699      0.1817      156.0379        <.0001
                       indPsoriasis                      DMARD           1     -0.1711      0.0816        4.4024        0.0359
                       indPsoriasis                      NSAID           1     -0.1262      0.0685        3.3988        0.0652
                       indPsoriasis                      No exposure     1     -1.4738      0.1158      161.9185        <.0001
                       indPSA                            DMARD           1     -0.3286      0.0644       26.0606        <.0001
                       indPSA                            NSAID           1     -1.0325      0.0588      307.9800        <.0001
                       indPSA                            No exposure     1     -2.0988      0.0893      552.6868        <.0001
                       indRestrictLungDis                DMARD           1      0.0570      0.1013        0.3170        0.5734
                       indRestrictLungDis                NSAID           1      0.0227      0.0851        0.0711        0.7897
                       indRestrictLungDis                No exposure     1     -1.3614      0.1307      108.5780        <.0001
                       indSolidCa                        DMARD           1      0.2026      0.0751        7.2820        0.0070
                       indSolidCa                        NSAID           1      0.4847      0.0616       61.9031        <.0001
                       indSolidCa                        No exposure     1     -1.2831      0.0855      225.0346        <.0001
                       indSpinalCordComp                 DMARD           1      0.3652      0.2686        1.8481        0.1740
                       indSpinalCordComp                 NSAID           1      0.5941      0.2251        6.9664        0.0083
                       indSpinalCordComp                 No exposure     1     -0.5067      0.2868        3.1202        0.0773
                       indUlcerColitis                   DMARD           1     -0.1508      0.0860        3.0742        0.0795
                       indUlcerColitis                   NSAID           1     -0.6446      0.0758       72.2268        <.0001
                       indUlcerColitis                   No exposure     1     -1.6172      0.1126      206.1000        <.0001
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017   5

                                                                The LOGISTIC Procedure

                                                      Analysis of Maximum Likelihood Estimates
 
                                                                                          Standard          Wald
                       Parameter                         exposure4      DF    Estimate       Error    Chi-Square    Pr > ChiSq

                       indUveitis                        DMARD           1     -0.1658      0.0620        7.1411        0.0075
                       indUveitis                        NSAID           1     -0.2204      0.0490       20.2242        <.0001
                       indUveitis                        No exposure     1     -1.8947      0.0850      496.3426        <.0001
                       indDiabetes                       DMARD           1      0.0443      0.0363        1.4943        0.2215
                       indDiabetes                       NSAID           1      0.0828      0.0300        7.6450        0.0057
                       indDiabetes                       No exposure     1      0.0733      0.0305        5.8002        0.0160
                       indHT                             DMARD           1      0.0387      0.0384        1.0191        0.3127
                       indHT                             NSAID           1    -0.00462      0.0306        0.0228        0.8799
                       indHT                             No exposure     1     -0.2384      0.0310       59.1102        <.0001
                       indMetabSyn                       DMARD           1     -0.0368      0.1005        0.1345        0.7138
                       indMetabSyn                       NSAID           1     -0.0807      0.0832        0.9397        0.3323
                       indMetabSyn                       No exposure     1     -0.2721      0.0909        8.9669        0.0027
                       indNAFattyLiverDis                DMARD           1     -0.2343      0.0759        9.5257        0.0020
                       indNAFattyLiverDis                NSAID           1     -0.1869      0.0606        9.5215        0.0020
                       indNAFattyLiverDis                No exposure     1     -0.2991      0.0659       20.6295        <.0001


                                                                Odds Ratio Estimates
                                                                          
                                                                                            Point          95% Wald
                            Effect                                        exposure4      Estimate      Confidence Limits

                            database            MPCD       vs Medicare    DMARD             0.623       0.554       0.701
                            database            MPCD       vs Medicare    NSAID             0.527       0.480       0.580
                            database            MPCD       vs Medicare    No exposure       0.996       0.910       1.090
                            database            Marketscan vs Medicare    DMARD             0.557       0.518       0.599
                            database            Marketscan vs Medicare    NSAID             0.550       0.519       0.582
                            database            Marketscan vs Medicare    No exposure       0.774       0.730       0.821
                            age                                           DMARD             1.020       1.018       1.023
                            age                                           NSAID             1.018       1.016       1.020
                            age                                           No exposure       1.054       1.052       1.056
                            SEX                 F vs M                    DMARD             1.443       1.362       1.529
                            SEX                 F vs M                    NSAID             1.050       1.002       1.101
                            SEX                 F vs M                    No exposure       0.742       0.708       0.779
                            indAmyloidosis                                DMARD             0.422       0.085       2.099
                            indAmyloidosis                                NSAID             0.764       0.274       2.132
                            indAmyloidosis                                No exposure       0.352       0.039       3.194
                            indAortInsuffRegurg                           DMARD             0.793       0.646       0.975
                            indAortInsuffRegurg                           NSAID             1.039       0.883       1.222
                            indAortInsuffRegurg                           No exposure       0.240       0.191       0.303
                            indApicalPulmFib                              DMARD          >999.999      <0.001    >999.999
                            indApicalPulmFib                              NSAID          >999.999      <0.001    >999.999
                            indApicalPulmFib                              No exposure    >999.999      <0.001    >999.999
                            indCaudaEquina                                DMARD             2.428       0.624       9.443
                            indCaudaEquina                                NSAID             2.218       0.652       7.553
                            indCaudaEquina                                No exposure       2.092       0.568       7.708
                            indVertFrac                                   DMARD             0.980       0.798       1.203
                            indVertFrac                                   NSAID             1.586       1.348       1.864
                            indVertFrac                                   No exposure       1.174       0.984       1.402
                            indConductBlock                               DMARD             0.894       0.707       1.131
                            indConductBlock                               NSAID             1.388       1.155       1.668
                            indConductBlock                               No exposure       0.480       0.383       0.601
                            indHematCa                                    DMARD             2.873       1.936       4.264
                            indHematCa                                    NSAID             2.844       1.990       4.065
                            indHematCa                                    No exposure       0.969       0.634       1.482
                            indHospInf                                    DMARD             1.418       1.276       1.577
                            indHospInf                                    NSAID             1.680       1.538       1.835
                            indHospInf                                    No exposure       1.028       0.929       1.136
                            indIgANeph                                    DMARD             0.790       0.395       1.581
                            indIgANeph                                    NSAID             0.971       0.572       1.649
                            indIgANeph                                    No exposure       0.251       0.099       0.640
                            indInterstLungDis                             DMARD             1.316       0.870       1.991
                            indInterstLungDis                             NSAID             0.726       0.495       1.065
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017   6

                                                                The LOGISTIC Procedure

                                                                Odds Ratio Estimates
                                                                          
                                                                                            Point          95% Wald
                            Effect                                        exposure4      Estimate      Confidence Limits

                            indInterstLungDis                             No exposure       0.570       0.343       0.947
                            indMI                                         DMARD             0.831       0.586       1.177
                            indMI                                         NSAID             0.863       0.652       1.142
                            indMI                                         No exposure       0.786       0.575       1.075
                            indNephSyn                                    DMARD             1.216       0.469       3.156
                            indNephSyn                                    NSAID             1.134       0.501       2.569
                            indNephSyn                                    No exposure       0.113       0.014       0.943
                            indNMSC                                       DMARD             0.687       0.494       0.956
                            indNMSC                                       NSAID             1.115       0.872       1.427
                            indNMSC                                       No exposure       0.032       0.015       0.070
                            indNonVertOsFrac                              DMARD             1.023       0.861       1.214
                            indNonVertOsFrac                              NSAID             1.486       1.296       1.703
                            indNonVertOsFrac                              No exposure       0.359       0.297       0.435
                            indOppInf                                     DMARD             0.813       0.666       0.993
                            indOppInf                                     NSAID             0.692       0.585       0.818
                            indOppInf                                     No exposure       0.103       0.072       0.148
                            indPsoriasis                                  DMARD             0.843       0.718       0.989
                            indPsoriasis                                  NSAID             0.881       0.771       1.008
                            indPsoriasis                                  No exposure       0.229       0.183       0.287
                            indPSA                                        DMARD             0.720       0.635       0.817
                            indPSA                                        NSAID             0.356       0.317       0.400
                            indPSA                                        No exposure       0.123       0.103       0.146
                            indRestrictLungDis                            DMARD             1.059       0.868       1.291
                            indRestrictLungDis                            NSAID             1.023       0.866       1.209
                            indRestrictLungDis                            No exposure       0.256       0.198       0.331
                            indSolidCa                                    DMARD             1.225       1.057       1.419
                            indSolidCa                                    NSAID             1.624       1.439       1.832
                            indSolidCa                                    No exposure       0.277       0.234       0.328
                            indSpinalCordComp                             DMARD             1.441       0.851       2.439
                            indSpinalCordComp                             NSAID             1.811       1.165       2.816
                            indSpinalCordComp                             No exposure       0.602       0.343       1.057
                            indUlcerColitis                               DMARD             0.860       0.727       1.018
                            indUlcerColitis                               NSAID             0.525       0.452       0.609
                            indUlcerColitis                               No exposure       0.198       0.159       0.247
                            indUveitis                                    DMARD             0.847       0.750       0.957
                            indUveitis                                    NSAID             0.802       0.729       0.883
                            indUveitis                                    No exposure       0.150       0.127       0.178
                            indDiabetes                                   DMARD             1.045       0.974       1.122
                            indDiabetes                                   NSAID             1.086       1.024       1.152
                            indDiabetes                                   No exposure       1.076       1.014       1.142
                            indHT                                         DMARD             1.039       0.964       1.121
                            indHT                                         NSAID             0.995       0.937       1.057
                            indHT                                         No exposure       0.788       0.741       0.837
                            indMetabSyn                                   DMARD             0.964       0.792       1.174
                            indMetabSyn                                   NSAID             0.923       0.784       1.086
                            indMetabSyn                                   No exposure       0.762       0.637       0.910
                            indNAFattyLiverDis                            DMARD             0.791       0.682       0.918
                            indNAFattyLiverDis                            NSAID             0.830       0.737       0.934
                            indNAFattyLiverDis                            No exposure       0.741       0.652       0.844
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 60010 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The data set WORK.PSBETAS4LEVEL has 1 observations and 102 variables.
NOTE: The data set WORK.PS4LEVEL has 240040 observations and 37 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 2-6.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           24.95 seconds
      cpu time            24.74 seconds
      

284        
285        /*
286        Fit 3-level model
287        3 levels of treatment exposure: TNF, DMARD, NSAID or no exposure
288         */
5                                                                   The SAS System                                     16:25 Monday, November 20, 2017

289         proc logistic data = Work.allCovariates outest = Work.psBetas3Level;
290          class exposure3 (ref = "TNF")
291                database (ref = "Medicare")
292                sex (ref = "M")
293                / param = ref;
294          model exposure3 = database
295                            age
296                            sex
297                            indAmyloidosis
298                            indAortInsuffRegurg
299                            indApicalPulmFib
300                            indCaudaEquina
301                            indVertFrac
302                            indConductBlock
303                            indCrohnsDis
304                            indHematCa
305                            indHospInf
306                            indIgANeph
307                            indInterstLungDis
308                            indMI
309                            indNephSyn
310                            indNMSC
311                            indNonVertOsFrac
312                            indOppInf
313                            indPsoriasis
314                            indPSA
315                            indRestrictLungDis
316                            indSolidCa
317                            indSpinalCordComp
318                            indUlcerColitis
319                            indUveitis
320                            indDiabetes
321                            indHT
322                            indMetabSyn
323                            indNAFattyLiverDis
324                            / link = glogit rsquare;
325          output out = Work.ps3Level predicted = ps xbeta = xbeta;
326        run;

                                                                  --- AS project ---                               16:25 Monday, November 20, 2017   7

                                                                The LOGISTIC Procedure

                                                                  Model Information

                                                   Data Set                      WORK.ALLCOVARIATES
                                                   Response Variable             exposure3         
                                                   Number of Response Levels     3                 
                                                   Model                         generalized logit 
                                                   Optimization Technique        Newton-Raphson    


                                                       Number of Observations Read       60010
                                                       Number of Observations Used       60009


                                                                   Response Profile
 
                                                    Ordered                                  Total
                                                      Value     exposure3                Frequency

                                                          1     DMARD                         7719
                                                          2     NSAID or no exposure         39304
                                                          3     TNF                          12986

                                            Logits modeled use exposure3='TNF' as the reference category.

NOTE: 1 observation was deleted due to missing values for the response or explanatory variables.
NOTE: PROC LOGISTIC is fitting the generalized logit model. The logits modeled contrast each response category against the reference category 
      (exposure3='TNF').


                                                               Class Level Information
 
                                                                                      Design
                                                        Class        Value          Variables

                                                        database     MPCD            1      0
                                                                     Marketscan      0      1
                                                                     Medicare        0      0

                                                        SEX          F               1       
                                                                     M               0       


                                                               Model Convergence Status

                                                    Convergence criterion (GCONV=1E-8) satisfied.          
NOTE: Convergence criterion (GCONV=1E-8) satisfied.


                                                                 Model Fit Statistics
 
                                                                                     Intercept
                                                                      Intercept            and
                                                        Criterion          Only     Covariates

                                                        AIC           104682.14      98269.679
                                                        SC            104700.15      98827.819
                                                        -2 Log L      104678.14      98145.679


                                                R-Square    0.1031    Max-rescaled R-Square    0.1250


                                                       Testing Global Null Hypothesis: BETA=0
 
                                               Test                 Chi-Square       DF     Pr > ChiSq

                                               Likelihood Ratio      6532.4643       60         <.0001
                                               Score                 6433.8355       60         <.0001
                                               Wald                  5763.9290       60         <.0001
 
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017   8

                                                                The LOGISTIC Procedure

                                                             Type 3 Analysis of Effects
 
                                                                                    Wald
                                               Effect                   DF    Chi-Square    Pr > ChiSq

                                               database                  4      367.5048        <.0001
                                               age                       2     1786.0347        <.0001
                                               SEX                       2      369.8459        <.0001
                                               indAmyloidosis            2        1.2217        0.5429
                                               indAortInsuffRegurg       2       18.3536        0.0001
                                               indApicalPulmFib          2        0.5180        0.7718
                                               indCaudaEquina            2        1.8418        0.3982
                                               indVertFrac               2       38.5843        <.0001
                                               indConductBlock           2        1.2289        0.5409
                                               indCrohnsDis              0                            
                                               indHematCa                2       29.1450        <.0001
                                               indHospInf                2       70.8020        <.0001
                                               indIgANeph                2        1.1969        0.5497
                                               indInterstLungDis         2       14.5566        0.0007
                                               indMI                     2        2.2420        0.3260
                                               indNephSyn                2        0.6247        0.7317
                                               indNMSC                   2       12.9652        0.0015
                                               indNonVertOsFrac          2        0.2825        0.8683
                                               indOppInf                 2       76.4048        <.0001
                                               indPsoriasis              2       40.7013        <.0001
                                               indPSA                    2      671.5771        <.0001
                                               indRestrictLungDis        2       21.6872        <.0001
                                               indSolidCa                2       15.3518        0.0005
                                               indSpinalCordComp         2        2.1344        0.3440
                                               indUlcerColitis           2      192.2074        <.0001
                                               indUveitis                2      227.5490        <.0001
                                               indDiabetes               2        9.4257        0.0090
                                               indHT                     2       31.8438        <.0001
                                               indMetabSyn               2        4.5508        0.1028
                                               indNAFattyLiverDis        2       17.3329        0.0002


NOTE: The following parameters have been set to 0, since the variables are a linear combination of other variables as shown.


                                                                      indCrohnsDis_DMARD =  0
                                                        indCrohnsDis_NSAID_or_no_exposur =  0


                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                               Standard          Wald
                   Parameter                         exposure3               DF    Estimate       Error    Chi-Square    Pr > ChiSq

                   Intercept                         DMARD                    1     -1.5225      0.0651      546.5862        <.0001
                   Intercept                         NSAID or no exposure     1     -0.3016      0.0464       42.3215        <.0001
                   database            MPCD          DMARD                    1     -0.4815      0.0602       64.0655        <.0001
                   database            MPCD          NSAID or no exposure     1     -0.3196      0.0407       61.7622        <.0001
                   database            Marketscan    DMARD                    1     -0.5874      0.0371      250.0572        <.0001
                   database            Marketscan    NSAID or no exposure     1     -0.4409      0.0260      287.4165        <.0001
                   age                               DMARD                    1      0.0202     0.00111      327.9307        <.0001
                   age                               NSAID or no exposure     1      0.0343    0.000819     1753.3715        <.0001
                   SEX                 F             DMARD                    1      0.3699      0.0295      157.2651        <.0001
                   SEX                 F             NSAID or no exposure     1     -0.1176      0.0215       29.9191        <.0001
                   indAmyloidosis                    DMARD                    1     -0.8566      0.8189        1.0942        0.2956
                   indAmyloidosis                    NSAID or no exposure     1     -0.3832      0.5247        0.5332        0.4653
                   indAortInsuffRegurg               DMARD                    1     -0.2236      0.1060        4.4532        0.0348
                   indAortInsuffRegurg               NSAID or no exposure     1     -0.3520      0.0827       18.1313        <.0001
                   indApicalPulmFib                  DMARD                    1      9.3021     56.8004        0.0268        0.8699
                   indApicalPulmFib                  NSAID or no exposure     1      8.6755     56.7988        0.0233        0.8786
                   indCaudaEquina                    DMARD                    1      0.8796      0.6931        1.6106        0.2044
                   indCaudaEquina                    NSAID or no exposure     1      0.7929      0.6095        1.6927        0.1933
                   indVertFrac                       DMARD                    1     -0.0102      0.1052        0.0093        0.9231
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017   9

                                                                The LOGISTIC Procedure

                                                       Analysis of Maximum Likelihood Estimates
 
                                                                                               Standard          Wald
                   Parameter                         exposure3               DF    Estimate       Error    Chi-Square    Pr > ChiSq

                   indVertFrac                       NSAID or no exposure     1      0.3792      0.0808       22.0035        <.0001
                   indConductBlock                   DMARD                    1     -0.1065      0.1207        0.7792        0.3774
                   indConductBlock                   NSAID or no exposure     1    -0.00279      0.0932        0.0009        0.9762
                   indCrohnsDis                      DMARD                    0           0                                        
                   indCrohnsDis                      NSAID or no exposure     0           0                                        
                   indHematCa                        DMARD                    1      1.0985      0.2035       29.1404        <.0001
                   indHematCa                        NSAID or no exposure     1      0.7905      0.1842       18.4231        <.0001
                   indHospInf                        DMARD                    1      0.3674      0.0547       45.0768        <.0001
                   indHospInf                        NSAID or no exposure     1      0.3598      0.0440       66.9928        <.0001
                   indIgANeph                        DMARD                    1     -0.2683      0.3549        0.5715        0.4497
                   indIgANeph                        NSAID or no exposure     1     -0.2828      0.2658        1.1316        0.2874
                   indInterstLungDis                 DMARD                    1      0.2824      0.2121        1.7724        0.1831
                   indInterstLungDis                 NSAID or no exposure     1     -0.3356      0.1923        3.0472        0.0809
                   indMI                             DMARD                    1     -0.1900      0.1782        1.1369        0.2863
                   indMI                             NSAID or no exposure     1     -0.1999      0.1353        2.1829        0.1396
                   indNephSyn                        DMARD                    1      0.2436      0.4876        0.2495        0.6174
                   indNephSyn                        NSAID or no exposure     1     -0.1149      0.4329        0.0704        0.7907
                   indNMSC                           DMARD                    1     -0.4053      0.1694        5.7241        0.0167
                   indNMSC                           NSAID or no exposure     1     -0.4522      0.1270       12.6798        0.0004
                   indNonVertOsFrac                  DMARD                    1      0.0282      0.0882        0.1026        0.7488
                   indNonVertOsFrac                  NSAID or no exposure     1      0.0370      0.0695        0.2825        0.5951
                   indOppInf                         DMARD                    1     -0.2122      0.1028        4.2650        0.0389
                   indOppInf                         NSAID or no exposure     1     -0.7090      0.0855       68.7025        <.0001
                   indPsoriasis                      DMARD                    1     -0.1707      0.0826        4.2747        0.0387
                   indPsoriasis                      NSAID or no exposure     1     -0.4213      0.0668       39.7941        <.0001
                   indPSA                            DMARD                    1     -0.3315      0.0650       25.9691        <.0001
                   indPSA                            NSAID or no exposure     1     -1.3773      0.0549      629.6275        <.0001
                   indRestrictLungDis                DMARD                    1      0.0486      0.1024        0.2251        0.6352
                   indRestrictLungDis                NSAID or no exposure     1     -0.2894      0.0846       11.7092        0.0006
                   indSolidCa                        DMARD                    1      0.2130      0.0759        7.8749        0.0050
                   indSolidCa                        NSAID or no exposure     1     -0.0193      0.0616        0.0979        0.7543
                   indSpinalCordComp                 DMARD                    1      0.3416      0.2691        1.6114        0.2043
                   indSpinalCordComp                 NSAID or no exposure     1      0.3097      0.2222        1.9423        0.1634
                   indUlcerColitis                   DMARD                    1     -0.1534      0.0863        3.1573        0.0756
                   indUlcerColitis                   NSAID or no exposure     1     -0.9316      0.0719      167.7016        <.0001
                   indUveitis                        DMARD                    1     -0.1760      0.0623        7.9880        0.0047
                   indUveitis                        NSAID or no exposure     1     -0.6877      0.0473      210.9610        <.0001
                   indDiabetes                       DMARD                    1      0.0446      0.0363        1.5138        0.2186
                   indDiabetes                       NSAID or no exposure     1      0.0822      0.0274        8.9626        0.0028
                   indHT                             DMARD                    1      0.0403      0.0383        1.1068        0.2928
                   indHT                             NSAID or no exposure     1     -0.1151      0.0272       17.8552        <.0001
                   indMetabSyn                       DMARD                    1     -0.0365      0.1005        0.1315        0.7169
                   indMetabSyn                       NSAID or no exposure     1     -0.1506      0.0771        3.8123        0.0509
                   indNAFattyLiverDis                DMARD                    1     -0.2361      0.0760        9.6475        0.0019
                   indNAFattyLiverDis                NSAID or no exposure     1     -0.2222      0.0558       15.8822        <.0001


                                                                 Odds Ratio Estimates
                                                                           
                                                                                                 Point          95% Wald
                        Effect                                        exposure3               Estimate      Confidence Limits

                        database            MPCD       vs Medicare    DMARD                      0.618       0.549       0.695
                        database            MPCD       vs Medicare    NSAID or no exposure       0.726       0.671       0.787
                        database            Marketscan vs Medicare    DMARD                      0.556       0.517       0.598
                        database            Marketscan vs Medicare    NSAID or no exposure       0.643       0.611       0.677
                        age                                           DMARD                      1.020       1.018       1.023
                        age                                           NSAID or no exposure       1.035       1.033       1.037
                        SEX                 F vs M                    DMARD                      1.448       1.366       1.534
                        SEX                 F vs M                    NSAID or no exposure       0.889       0.852       0.927
                        indAmyloidosis                                DMARD                      0.425       0.085       2.114
                        indAmyloidosis                                NSAID or no exposure       0.682       0.244       1.907
                        indAortInsuffRegurg                           DMARD                      0.800       0.650       0.984
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  10

                                                                The LOGISTIC Procedure

                                                                 Odds Ratio Estimates
                                                                           
                                                                                                 Point          95% Wald
                        Effect                                        exposure3               Estimate      Confidence Limits

                        indAortInsuffRegurg                           NSAID or no exposure       0.703       0.598       0.827
                        indApicalPulmFib                              DMARD                   >999.999      <0.001    >999.999
                        indApicalPulmFib                              NSAID or no exposure    >999.999      <0.001    >999.999
                        indCaudaEquina                                DMARD                      2.410       0.620       9.374
                        indCaudaEquina                                NSAID or no exposure       2.210       0.669       7.297
                        indVertFrac                                   DMARD                      0.990       0.805       1.217
                        indVertFrac                                   NSAID or no exposure       1.461       1.247       1.712
                        indConductBlock                               DMARD                      0.899       0.710       1.139
                        indConductBlock                               NSAID or no exposure       0.997       0.831       1.197
                        indHematCa                                    DMARD                      3.000       2.013       4.470
                        indHematCa                                    NSAID or no exposure       2.205       1.537       3.163
                        indHospInf                                    DMARD                      1.444       1.297       1.607
                        indHospInf                                    NSAID or no exposure       1.433       1.315       1.562
                        indIgANeph                                    DMARD                      0.765       0.381       1.533
                        indIgANeph                                    NSAID or no exposure       0.754       0.448       1.269
                        indInterstLungDis                             DMARD                      1.326       0.875       2.010
                        indInterstLungDis                             NSAID or no exposure       0.715       0.490       1.042
                        indMI                                         DMARD                      0.827       0.583       1.173
                        indMI                                         NSAID or no exposure       0.819       0.628       1.067
                        indNephSyn                                    DMARD                      1.276       0.491       3.318
                        indNephSyn                                    NSAID or no exposure       0.891       0.382       2.083
                        indNMSC                                       DMARD                      0.667       0.478       0.929
                        indNMSC                                       NSAID or no exposure       0.636       0.496       0.816
                        indNonVertOsFrac                              DMARD                      1.029       0.865       1.223
                        indNonVertOsFrac                              NSAID or no exposure       1.038       0.905       1.189
                        indOppInf                                     DMARD                      0.809       0.661       0.989
                        indOppInf                                     NSAID or no exposure       0.492       0.416       0.582
                        indPsoriasis                                  DMARD                      0.843       0.717       0.991
                        indPsoriasis                                  NSAID or no exposure       0.656       0.576       0.748
                        indPSA                                        DMARD                      0.718       0.632       0.815
                        indPSA                                        NSAID or no exposure       0.252       0.227       0.281
                        indRestrictLungDis                            DMARD                      1.050       0.859       1.283
                        indRestrictLungDis                            NSAID or no exposure       0.749       0.634       0.884
                        indSolidCa                                    DMARD                      1.237       1.066       1.436
                        indSolidCa                                    NSAID or no exposure       0.981       0.869       1.107
                        indSpinalCordComp                             DMARD                      1.407       0.830       2.385
                        indSpinalCordComp                             NSAID or no exposure       1.363       0.882       2.107
                        indUlcerColitis                               DMARD                      0.858       0.724       1.016
                        indUlcerColitis                               NSAID or no exposure       0.394       0.342       0.454
                        indUveitis                                    DMARD                      0.839       0.742       0.947
                        indUveitis                                    NSAID or no exposure       0.503       0.458       0.552
                        indDiabetes                                   DMARD                      1.046       0.974       1.123
                        indDiabetes                                   NSAID or no exposure       1.086       1.029       1.146
                        indHT                                         DMARD                      1.041       0.966       1.122
                        indHT                                         NSAID or no exposure       0.891       0.845       0.940
                        indMetabSyn                                   DMARD                      0.964       0.792       1.174
                        indMetabSyn                                   NSAID or no exposure       0.860       0.740       1.001
                        indNAFattyLiverDis                            DMARD                      0.790       0.680       0.917
                        indNAFattyLiverDis                            NSAID or no exposure       0.801       0.718       0.893
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 60010 observations read from the data set WORK.ALLCOVARIATES.
NOTE: The data set WORK.PSBETAS3LEVEL has 1 observations and 70 variables.
NOTE: The data set WORK.PS3LEVEL has 180030 observations and 37 variables.
NOTE: The PROCEDURE LOGISTIC printed pages 7-10.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           16.37 seconds
      cpu time            16.20 seconds
      

327        
328        
329        /*
330        Check
331         */
332        proc sql;
333          select indexID,
334                 sum(ps) as sumPS
335            from Work.ps4Level
336            group by indexID
337            having calculated sumPS < 1 - 1e-12;
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  11

                                                                   indexID     sumPS
                                                                  ------------------
                                                                      6584          
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
338          select indexID,
339                 sum(ps) as sumPS
340            from Work.ps3Level
341            group by indexID
342            having calculated sumPS < 1 - 1e-12;
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  12

                                                                   indexID     sumPS
                                                                  ------------------
                                                                      6584          
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
343        quit;
NOTE: The PROCEDURE SQL printed pages 11-12.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.34 seconds
      cpu time            0.42 seconds
6                                                                   The SAS System                                     16:25 Monday, November 20, 2017

      

344        
345        
346        /*
347        Union model coefficients from the 4-level model and the 3-level model
348         */
349        proc sql;
350          create table Work.psBetas as
351            select * from Work.psBetas4Level union corr
352            select * from Work.psBetas3Level ;
NOTE: Table WORK.PSBETAS created, with 2 rows and 38 columns.

353        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

354        
355        
356        /*
357        Union propensity scores from the 4-level model and the 3-level model
358        Calculate IPTW
359         */
360        %let varlist = indexID, database, _level_, ps,
361                       age,
362                       sex,
363                       indAmyloidosis,
364                       indAortInsuffRegurg,
365                       indApicalPulmFib,
366                       indCaudaEquina,
367                       indVertFrac,
368                       indConductBlock,
369                       indCrohnsDis,
370                       indHematCa,
371                       indHospInf,
372                       indIgANeph,
373                       indInterstLungDis,
374                       indMI,
375                       indNephSyn,
376                       indNMSC,
377                       indNonVertOsFrac,
378                       indOppInf,
379                       indPsoriasis,
380                       indPSA,
381                       indRestrictLungDis,
382                       indSolidCa,
383                       indSpinalCordComp,
384                       indUlcerColitis,
385                       indUveitis,
386                       indDiabetes,
387                       indHT,
388                       indMetabSyn,
389                       indNAFattyLiverDis;
390        proc sql;
391          create table Work.ps as
392            select "4-level exposure" as model, exposure4 as exposure, &varlist from Work.ps4Level union corr
393            select "3-level exposure" as model, exposure3 as exposure, &varlist from Work.ps3Level
394            order by indexID, model, exposure;
NOTE: Table WORK.PS created, with 420070 rows and 35 columns.

395          alter table Work.ps add iptw numeric;
NOTE: Table WORK.PS has been modified, with 36 columns.
396          update Work.ps set iptw = (exposure  = _level_) / ps + (exposure ^= _level_) / (1 - ps);
NOTE: 420070 rows were updated in WORK.PS.

397        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           3.46 seconds
      cpu time            4.16 seconds
      
7                                                                   The SAS System                                     16:25 Monday, November 20, 2017


398        
399        
400        /*
401        Determine common support region
402        For propensity of TNF
403         */
404        %let exposure = "TNF";
405        proc means data = Work.ps n nmiss min max mean median stddev;
406          where _level_ in (&exposure);
407          class model _level_ exposure;
408          var ps;
409        run;

                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  13

                                                                 The MEANS Procedure

                                                    Analysis Variable : ps Estimated Probability
 
model              Response Value         exposure                N Obs        N   N Miss        Minimum        Maximum           Mean         Median
-----------------------------------------------------------------------------------------------------------------------------------------------------
3-level exposure   TNF                    DMARD                    7719     7719        0    0.000070422      0.7990511      0.2198703      0.1950479

                                          NSAID or no exposure    39304    39304        0    0.000013802      0.7616191      0.1931955      0.1614855

                                          TNF                     12987    12986        1      0.0312083      0.8103580      0.2845732      0.2678016

4-level exposure   TNF                    DMARD                    7719     7719        0    0.000053275      0.7786478      0.2208815      0.1962467

                                          NSAID                   18740    18740        0    0.000024978      0.7357238      0.2116274      0.1875358

                                          No exposure             20564    20564        0    0.000014118      0.7297668      0.1755284      0.1381782

                                          TNF                     12987    12986        1      0.0262153      0.7786478      0.2853499      0.2694278
-----------------------------------------------------------------------------------------------------------------------------------------------------

                                                     Analysis Variable : ps Estimated Probability
 
                                model              Response Value         exposure                N Obs        Std Dev
                                --------------------------------------------------------------------------------------
                                3-level exposure   TNF                    DMARD                    7719      0.1222423

                                                                          NSAID or no exposure    39304      0.1118907

                                                                          TNF                     12987      0.1312807

                                4-level exposure   TNF                    DMARD                    7719      0.1224948

                                                                          NSAID                   18740      0.1173006

                                                                          No exposure             20564      0.1066199

                                                                          TNF                     12987      0.1314394
                                --------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 120020 observations read from the data set WORK.PS.
      WHERE _level_='TNF';
NOTE: The PROCEDURE MEANS printed page 13.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.23 seconds
      cpu time            0.31 seconds
      

410        proc sql;
411          create table Work.commonSupportRegion as
412            select model,
413                   max(minPS) as commonSupportLowerBound,
414                   min(maxPS) as commonSupportUpperBound
415            from (select model, exposure,
416                         min(ps) as minPS,
417                         max(ps) as maxPS
418                  from Work.ps
419                  where _level_ in (&exposure)
420                  group by model, exposure)
421            group by model;
NOTE: Table WORK.COMMONSUPPORTREGION created, with 2 rows and 3 columns.

422          select * from Work.commonSupportRegion;
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  14

                                                                             common        common
                                                                            Support       Support
                                                     model               LowerBound    UpperBound
                                                     --------------------------------------------
                                                     3-level exposure      0.031208      0.761619
                                                     4-level exposure      0.026215      0.729767
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
423          create table Work.temp as
424            select * from Work.ps where _level_ in (&exposure);
NOTE: Table WORK.TEMP created, with 120020 rows and 36 columns.

425          create table Work.ps as
426            select A.*,
427                   B.commonSupportLowerBound,
428                   B.commonSupportUpperBound,
429                   case
430                     when A.ps = . then .
431                     when B.commonSupportLowerBound <= A.ps <= B.commonSupportUpperBound then 1
432                     else 0
433                     end as indCommonSupport
434            from Work.temp A inner join
435                 Work.commonSupportRegion B on (A.model = B.model);
NOTE: Table WORK.PS created, with 120020 rows and 39 columns.

436          select model,
437                 exposure,
438             _level_,
439                 sum(indCommonSupport = 1) as n1,
440                 sum(indCommonSupport = 1) / sum(^missing(indCommonSupport)) format = percent9.3 as prop1,
441                 sum(indCommonSupport = 0) as n0,
442                 sum(indCommonSupport = 0) / sum(^missing(indCommonSupport)) format = percent9.3 as prop0
443            from Work.ps
444            group by model, exposure, _level_;
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  15

                        model             exposure              Response Value              n1      prop1        n0      prop0
                        ------------------------------------------------------------------------------------------------------
                        3-level exposure  DMARD                 TNF                       7704   99.806%         15    0.194% 
                        3-level exposure  NSAID or no exposure  TNF                      39244   99.847%         60    0.153% 
                        3-level exposure  TNF                   TNF                      12974   99.908%         12    0.092% 
                        4-level exposure  DMARD                 TNF                       7705   99.819%         14    0.181% 
                        4-level exposure  NSAID                 TNF                      18722   99.904%         18    0.096% 
                        4-level exposure  No exposure           TNF                      20555   99.956%          9    0.044% 
                        4-level exposure  TNF                   TNF                      12968   99.861%         18    0.139% 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
445        quit;
NOTE: The PROCEDURE SQL printed pages 14-15.
NOTE: PROCEDURE SQL used (Total process time):
      real time           1.13 seconds
      cpu time            1.01 seconds
      

446        
447        
8                                                                   The SAS System                                     16:25 Monday, November 20, 2017

448        /*
449        Stabilize weights
450        
451        See
452        
453        Austin, P. C., and Stuart, E. A. (2015) Moving towards best practice when
454        using inverse probability of treatment weighting (IPTW) using the propensity
455        score to estimate causal treatment effects in observational studies. Statist.
456        Med., 34: 3661â€“3679. doi: 10.1002/sim.6607.
457         */
458        proc sql;
459          create table Work.temp as select * from Work.ps;
NOTE: Table WORK.TEMP created, with 120020 rows and 39 columns.

460          create table Work.ps as
461            select A.*,
462                   B.marginalPS,
463                   B.marginalPS * ((A.exposure  = A._level_) / A.ps +
464                                   (A.exposure ^= A._level_) / (1 - A.ps))
465                     as iptwStabilized
466            from Work.temp A inner join
467                 (select model,
468                         exposure,
469                         _level_,
470                         mean(ps) as marginalPS
471                  from Work.temp
472                  group by model, exposure, _level_) B on (A.model = B.model & A.exposure = B.exposure);
NOTE: Table WORK.PS created, with 120020 rows and 41 columns.

473          drop table Work.temp;
NOTE: Table WORK.TEMP has been dropped.
474        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.70 seconds
      cpu time            0.50 seconds
      

475        proc means data = Work.ps n nmiss min max mean median stddev maxdec = 3;
476          class indCommonSupport model exposure _level_;
477          var ps marginalPS iptw iptwStabilized;
478        run;

                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  16

                                                                 The MEANS Procedure

         indCommon
           Support  model             exposure              Response Value         N Obs  Variable        Label                       N   N Miss
      ------------------------------------------------------------------------------------------------------------------------------------------
                 0  3-level exposure  DMARD                 TNF                       15  ps              Estimated Probability      15        0
                                                                                          marginalPS                                 15        0
                                                                                          iptw                                       15        0
                                                                                          iptwStabilized                             15        0

                                      NSAID or no exposure  TNF                       60  ps              Estimated Probability      60        0
                                                                                          marginalPS                                 60        0
                                                                                          iptw                                       60        0
                                                                                          iptwStabilized                             60        0

                                      TNF                   TNF                       12  ps              Estimated Probability      12        0
                                                                                          marginalPS                                 12        0
                                                                                          iptw                                       12        0
                                                                                          iptwStabilized                             12        0

                    4-level exposure  DMARD                 TNF                       14  ps              Estimated Probability      14        0
                                                                                          marginalPS                                 14        0
                                                                                          iptw                                       14        0
                                                                                          iptwStabilized                             14        0

                                      NSAID                 TNF                       18  ps              Estimated Probability      18        0
                                                                                          marginalPS                                 18        0
                                                                                          iptw                                       18        0
                                                                                          iptwStabilized                             18        0

                                      No exposure           TNF                        9  ps              Estimated Probability       9        0
                                                                                          marginalPS                                  9        0
                                                                                          iptw                                        9        0
                                                                                          iptwStabilized                              9        0

                                      TNF                   TNF                       18  ps              Estimated Probability      18        0
                                                                                          marginalPS                                 18        0
                                                                                          iptw                                       18        0
                                                                                          iptwStabilized                             18        0

                 1  3-level exposure  DMARD                 TNF                     7704  ps              Estimated Probability    7704        0
                                                                                          marginalPS                               7704        0
                                                                                          iptw                                     7704        0
                                                                                          iptwStabilized                           7704        0

                                      NSAID or no exposure  TNF                    39244  ps              Estimated Probability   39244        0
                                                                                          marginalPS                              39244        0
                                                                                          iptw                                    39244        0
                                                                                          iptwStabilized                          39244        0

                                      TNF                   TNF                    12974  ps              Estimated Probability   12974        0
                                                                                          marginalPS                              12974        0
                                                                                          iptw                                    12974        0
                                                                                          iptwStabilized                          12974        0

                    4-level exposure  DMARD                 TNF                     7705  ps              Estimated Probability    7705        0
                                                                                          marginalPS                               7705        0
                                                                                          iptw                                     7705        0
                                                                                          iptwStabilized                           7705        0

                                      NSAID                 TNF                    18722  ps              Estimated Probability   18722        0
                                                                                          marginalPS                              18722        0
                                                                                          iptw                                    18722        0
                                                                                          iptwStabilized                          18722        0

                                      No exposure           TNF                    20555  ps              Estimated Probability   20555        0
                                                                                          marginalPS                              20555        0
                                                                                          iptw                                    20555        0
                                                                                          iptwStabilized                          20555        0
      ------------------------------------------------------------------------------------------------------------------------------------------
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  17

                                                                 The MEANS Procedure

         indCommon
           Support  model             exposure              Response Value         N Obs  Variable        Label                       N   N Miss
      ------------------------------------------------------------------------------------------------------------------------------------------
                 1  4-level exposure  TNF                   TNF                    12968  ps              Estimated Probability   12968        0
                                                                                          marginalPS                              12968        0
                                                                                          iptw                                    12968        0
                                                                                          iptwStabilized                          12968        0
      ------------------------------------------------------------------------------------------------------------------------------------------

   indCommon
     Support  model             exposure              Response Value         N Obs  Variable        Label                       Minimum       Maximum
-----------------------------------------------------------------------------------------------------------------------------------------------------
           0  3-level exposure  DMARD                 TNF                       15  ps              Estimated Probability         0.000         0.799
                                                                                    marginalPS                                    0.220         0.220
                                                                                    iptw                                          1.000         4.976
                                                                                    iptwStabilized                                0.220         1.094

                                NSAID or no exposure  TNF                       60  ps              Estimated Probability         0.000         0.031
                                                                                    marginalPS                                    0.193         0.193
                                                                                    iptw                                          1.000         1.032
                                                                                    iptwStabilized                                0.193         0.199

                                TNF                   TNF                       12  ps              Estimated Probability         0.764         0.810
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.234         1.308
                                                                                    iptwStabilized                                0.351         0.372

              4-level exposure  DMARD                 TNF                       14  ps              Estimated Probability         0.000         0.779
                                                                                    marginalPS                                    0.221         0.221
                                                                                    iptw                                          1.000         4.518
                                                                                    iptwStabilized                                0.221         0.998

                                NSAID                 TNF                       18  ps              Estimated Probability         0.000         0.736
                                                                                    marginalPS                                    0.212         0.212
                                                                                    iptw                                          1.000         3.784
                                                                                    iptwStabilized                                0.212         0.801

                                No exposure           TNF                        9  ps              Estimated Probability         0.000         0.026
                                                                                    marginalPS                                    0.176         0.176
                                                                                    iptw                                          1.000         1.027
                                                                                    iptwStabilized                                0.176         0.180

                                TNF                   TNF                       18  ps              Estimated Probability         0.730         0.779
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.284         1.370
                                                                                    iptwStabilized                                0.366         0.391

           1  3-level exposure  DMARD                 TNF                     7704  ps              Estimated Probability         0.031         0.758
                                                                                    marginalPS                                    0.220         0.220
                                                                                    iptw                                          1.032         4.126
                                                                                    iptwStabilized                                0.227         0.907

                                NSAID or no exposure  TNF                    39244  ps              Estimated Probability         0.032         0.762
                                                                                    marginalPS                                    0.193         0.193
                                                                                    iptw                                          1.033         4.195
                                                                                    iptwStabilized                                0.199         0.810

                                TNF                   TNF                    12974  ps              Estimated Probability         0.031         0.759
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.318        32.043
                                                                                    iptwStabilized                                0.375         9.118

              4-level exposure  DMARD                 TNF                     7705  ps              Estimated Probability         0.027         0.722
                                                                                    marginalPS                                    0.221         0.221
                                                                                    iptw                                          1.028         3.599
                                                                                    iptwStabilized                                0.227         0.795
-----------------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  18

                                                                 The MEANS Procedure

   indCommon
     Support  model             exposure              Response Value         N Obs  Variable        Label                       Minimum       Maximum
-----------------------------------------------------------------------------------------------------------------------------------------------------
           1  4-level exposure  NSAID                 TNF                    18722  ps              Estimated Probability         0.027         0.730
                                                                                    marginalPS                                    0.212         0.212
                                                                                    iptw                                          1.028         3.701
                                                                                    iptwStabilized                                0.217         0.783

                                No exposure           TNF                    20555  ps              Estimated Probability         0.027         0.730
                                                                                    marginalPS                                    0.176         0.176
                                                                                    iptw                                          1.027         3.701
                                                                                    iptwStabilized                                0.180         0.650

                                TNF                   TNF                    12968  ps              Estimated Probability         0.026         0.728
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.374        38.146
                                                                                    iptwStabilized                                0.392        10.885
-----------------------------------------------------------------------------------------------------------------------------------------------------

   indCommon
     Support  model             exposure              Response Value         N Obs  Variable        Label                          Mean        Median
-----------------------------------------------------------------------------------------------------------------------------------------------------
           0  3-level exposure  DMARD                 TNF                       15  ps              Estimated Probability         0.272         0.028
                                                                                    marginalPS                                    0.220         0.220
                                                                                    iptw                                          2.156         1.029
                                                                                    iptwStabilized                                0.474         0.226

                                NSAID or no exposure  TNF                       60  ps              Estimated Probability         0.024         0.026
                                                                                    marginalPS                                    0.193         0.193
                                                                                    iptw                                          1.025         1.027
                                                                                    iptwStabilized                                0.198         0.198

                                TNF                   TNF                       12  ps              Estimated Probability         0.782         0.776
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.279         1.289
                                                                                    iptwStabilized                                0.364         0.367

              4-level exposure  DMARD                 TNF                       14  ps              Estimated Probability         0.487         0.738
                                                                                    marginalPS                                    0.221         0.221
                                                                                    iptw                                          2.935         3.821
                                                                                    iptwStabilized                                0.648         0.844

                                NSAID                 TNF                       18  ps              Estimated Probability         0.176         0.022
                                                                                    marginalPS                                    0.212         0.212
                                                                                    iptw                                          1.621         1.023
                                                                                    iptwStabilized                                0.343         0.216

                                No exposure           TNF                        9  ps              Estimated Probability         0.021         0.022
                                                                                    marginalPS                                    0.176         0.176
                                                                                    iptw                                          1.021         1.022
                                                                                    iptwStabilized                                0.179         0.179

                                TNF                   TNF                       18  ps              Estimated Probability         0.753         0.756
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          1.328         1.323
                                                                                    iptwStabilized                                0.379         0.378

           1  3-level exposure  DMARD                 TNF                     7704  ps              Estimated Probability         0.220         0.195
                                                                                    marginalPS                                    0.220         0.220
                                                                                    iptw                                          1.322         1.243
                                                                                    iptwStabilized                                0.291         0.273

                                NSAID or no exposure  TNF                    39244  ps              Estimated Probability         0.193         0.162
                                                                                    marginalPS                                    0.193         0.193
                                                                                    iptw                                          1.270         1.193
                                                                                    iptwStabilized                                0.245         0.230
-----------------------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  19

                                                                 The MEANS Procedure

   indCommon
     Support  model             exposure              Response Value         N Obs  Variable        Label                          Mean        Median
-----------------------------------------------------------------------------------------------------------------------------------------------------
           1  3-level exposure  TNF                   TNF                    12974  ps              Estimated Probability         0.284         0.268
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          4.501         3.734
                                                                                    iptwStabilized                                1.281         1.063

              4-level exposure  DMARD                 TNF                     7705  ps              Estimated Probability         0.220         0.196
                                                                                    marginalPS                                    0.221         0.221
                                                                                    iptw                                          1.322         1.244
                                                                                    iptwStabilized                                0.292         0.275

                                NSAID                 TNF                    18722  ps              Estimated Probability         0.212         0.188
                                                                                    marginalPS                                    0.212         0.212
                                                                                    iptw                                          1.304         1.231
                                                                                    iptwStabilized                                0.276         0.260

                                No exposure           TNF                    20555  ps              Estimated Probability         0.176         0.138
                                                                                    marginalPS                                    0.176         0.176
                                                                                    iptw                                          1.238         1.160
                                                                                    iptwStabilized                                0.217         0.204

                                TNF                   TNF                    12968  ps              Estimated Probability         0.285         0.269
                                                                                    marginalPS                                    0.285         0.285
                                                                                    iptw                                          4.512         3.724
                                                                                    iptwStabilized                                1.288         1.063
-----------------------------------------------------------------------------------------------------------------------------------------------------

          indCommon
            Support  model             exposure              Response Value         N Obs  Variable        Label                       Std Dev
       ---------------------------------------------------------------------------------------------------------------------------------------
                  0  3-level exposure  DMARD                 TNF                       15  ps              Estimated Probability         0.367
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          1.668
                                                                                           iptwStabilized                                0.367

                                       NSAID or no exposure  TNF                       60  ps              Estimated Probability         0.008
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.008
                                                                                           iptwStabilized                                0.002

                                       TNF                   TNF                       12  ps              Estimated Probability         0.015
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.024
                                                                                           iptwStabilized                                0.007

                     4-level exposure  DMARD                 TNF                       14  ps              Estimated Probability         0.365
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          1.498
                                                                                           iptwStabilized                                0.331

                                       NSAID                 TNF                       18  ps              Estimated Probability         0.306
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          1.164
                                                                                           iptwStabilized                                0.246

                                       No exposure           TNF                        9  ps              Estimated Probability         0.008
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.008
                                                                                           iptwStabilized                                0.001

                                       TNF                   TNF                       18  ps              Estimated Probability         0.014
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.025
                                                                                           iptwStabilized                                0.007
       ---------------------------------------------------------------------------------------------------------------------------------------
 
 
                                                               modelPropensityScore.sas
                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  20

                                                                 The MEANS Procedure

          indCommon
            Support  model             exposure              Response Value         N Obs  Variable        Label                       Std Dev
       ---------------------------------------------------------------------------------------------------------------------------------------
                  1  3-level exposure  DMARD                 TNF                     7704  ps              Estimated Probability         0.121
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.273
                                                                                           iptwStabilized                                0.060

                                       NSAID or no exposure  TNF                    39244  ps              Estimated Probability         0.112
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.226
                                                                                           iptwStabilized                                0.044

                                       TNF                   TNF                    12974  ps              Estimated Probability         0.130
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          2.571
                                                                                           iptwStabilized                                0.732

                     4-level exposure  DMARD                 TNF                     7705  ps              Estimated Probability         0.121
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.265
                                                                                           iptwStabilized                                0.058

                                       NSAID                 TNF                    18722  ps              Estimated Probability         0.117
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.245
                                                                                           iptwStabilized                                0.052

                                       No exposure           TNF                    20555  ps              Estimated Probability         0.107
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          0.197
                                                                                           iptwStabilized                                0.035

                                       TNF                   TNF                    12968  ps              Estimated Probability         0.130
                                                                                           marginalPS                                    0.000
                                                                                           iptw                                          2.641
                                                                                           iptwStabilized                                0.754
       ---------------------------------------------------------------------------------------------------------------------------------------
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: There were 120020 observations read from the data set WORK.PS.
NOTE: The PROCEDURE MEANS printed pages 16-20.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.31 seconds
      cpu time            0.32 seconds
      

479        proc corr data = Work.ps;
480          var iptw iptwStabilized;
481        run;

                                                                  --- AS project ---                               16:25 Monday, November 20, 2017  21

                                                                  The CORR Procedure

                                                     2  Variables:    iptw           iptwStabilized 


                                                                  Simple Statistics
 
                           Variable                 N          Mean       Std Dev           Sum       Minimum       Maximum

                           iptw                120018       1.97627       1.81040        237188       1.00001      38.14570
                           iptwStabilized      120018       0.47586       0.54926         57112       0.17553      10.88487


                                                     Pearson Correlation Coefficients, N = 120018 
                                                              Prob > |r| under H0: Rho=0
 
                                                                                             iptw
                                                                             iptw      Stabilized

                                                     iptw                 1.00000         0.99728
                                                                                           <.0001

                                                     iptwStabilized       0.99728         1.00000
                                                                           <.0001                
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                               modelPropensityScore.sas
NOTE: The PROCEDURE CORR printed page 21.
NOTE: PROCEDURE CORR used (Total process time):
      real time           0.12 seconds
      cpu time            0.07 seconds
      

482        
483        
484        /*
485        Save output data files
486         */
487        proc sql;
488          create table DT.ps as
489            select *
490            from Work.ps;
NOTE: Table DT.PS created, with 120020 rows and 41 columns.

491          create table Work.psDeidentified as
492            select model,
9                                                                   The SAS System                                     16:25 Monday, November 20, 2017

493                   database,
494                   exposure,
495                   _level_,
496                   ps,
497                   indCommonSupport,
498                   iptw,
499                   marginalPS,
500                   iptwStabilized,
501                   age,
502                   sex,
503                   indAmyloidosis,
504                   indAortInsuffRegurg,
505                   indApicalPulmFib,
506                   indCaudaEquina,
507                   indVertFrac,
508                   indConductBlock,
509                   indCrohnsDis,
510                   indHematCa,
511                   indHospInf,
512                   indIgANeph,
513                   indInterstLungDis,
514                   indMI,
515                   indNephSyn,
516                   indNMSC,
517                   indNonVertOsFrac,
518                   indOppInf,
519                   indPsoriasis,
520                   indPSA,
521                   indRestrictLungDis,
522                   indSolidCa,
523                   indSpinalCordComp,
524                   indUlcerColitis,
525                   indUveitis,
526                   indDiabetes,
527                   indHT,
528                   indMetabSyn,
529                   indNAFattyLiverDis
530            from DT.ps;
NOTE: Table WORK.PSDEIDENTIFIED created, with 120020 rows and 38 columns.

531        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.40 seconds
      cpu time            0.24 seconds
      

532        proc export
533          data = Work.psBetas
534          outfile = "data\processed\psBetas.csv"
535          dbms = csv
536          replace;
537          delimiter = ",";
538        run;

539         /**********************************************************************
540         *   PRODUCT:   SAS
541         *   VERSION:   9.4
542         *   CREATOR:   External File Interface
543         *   DATE:      20NOV17
544         *   DESC:      Generated SAS Datastep Code
545         *   TEMPLATE SOURCE:  (None Specified.)
546         ***********************************************************************/
547            data _null_;
548            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
549            %let _EFIREC_ = 0;     /* clear export record count macro variable */
550            file 'data\processed\psBetas.csv' delimiter=',' DSD DROPOVER lrecl=32767;
551            if _n_ = 1 then        /* write column names or labels */
552             do;
553               put
554                  "_LINK_"
555               ','
556                  "_TYPE_"
10                                                                  The SAS System                                     16:25 Monday, November 20, 2017

557               ','
558                  "_STATUS_"
559               ','
560                  "_NAME_"
561               ','
562                  "Intercept_DMARD"
563               ','
564                  "databaseMPCD_DMARD"
565               ','
566                  "databaseMarketscan_DMARD"
567               ','
568                  "age_DMARD"
569               ','
570                  "SEXF_DMARD"
571               ','
572                  "indAmyloidosis_DMARD"
573               ','
574                  "indAortInsuffRegurg_DMARD"
575               ','
576                  "indApicalPulmFib_DMARD"
577               ','
578                  "indCaudaEquina_DMARD"
579               ','
580                  "indVertFrac_DMARD"
581               ','
582                  "indConductBlock_DMARD"
583               ','
584                  "indCrohnsDis_DMARD"
585               ','
586                  "indHematCa_DMARD"
587               ','
588                  "indHospInf_DMARD"
589               ','
590                  "indIgANeph_DMARD"
591               ','
592                  "indInterstLungDis_DMARD"
593               ','
594                  "indMI_DMARD"
595               ','
596                  "indNephSyn_DMARD"
597               ','
598                  "indNMSC_DMARD"
599               ','
600                  "indNonVertOsFrac_DMARD"
601               ','
602                  "indOppInf_DMARD"
603               ','
604                  "indPsoriasis_DMARD"
605               ','
606                  "indPSA_DMARD"
607               ','
608                  "indRestrictLungDis_DMARD"
609               ','
610                  "indSolidCa_DMARD"
611               ','
612                  "indSpinalCordComp_DMARD"
613               ','
614                  "indUlcerColitis_DMARD"
615               ','
616                  "indUveitis_DMARD"
617               ','
618                  "indDiabetes_DMARD"
619               ','
620                  "indHT_DMARD"
621               ','
622                  "indMetabSyn_DMARD"
623               ','
624                  "indNAFattyLiverDis_DMARD"
625               ','
626                  "_LNLIKE_"
627               ','
628                  "_ESTTYPE_"
11                                                                  The SAS System                                     16:25 Monday, November 20, 2017

629               ;
630             end;
631           set  WORK.PSBETAS   end=EFIEOD;
632               format _LINK_ $8. ;
633               format _TYPE_ $8. ;
634               format _STATUS_ $11. ;
635               format _NAME_ $9. ;
636               format Intercept_DMARD best12. ;
637               format databaseMPCD_DMARD best12. ;
638               format databaseMarketscan_DMARD best12. ;
639               format age_DMARD best12. ;
640               format SEXF_DMARD best12. ;
641               format indAmyloidosis_DMARD best12. ;
642               format indAortInsuffRegurg_DMARD best12. ;
643               format indApicalPulmFib_DMARD best12. ;
644               format indCaudaEquina_DMARD best12. ;
645               format indVertFrac_DMARD best12. ;
646               format indConductBlock_DMARD best12. ;
647               format indCrohnsDis_DMARD best12. ;
648               format indHematCa_DMARD best12. ;
649               format indHospInf_DMARD best12. ;
650               format indIgANeph_DMARD best12. ;
651               format indInterstLungDis_DMARD best12. ;
652               format indMI_DMARD best12. ;
653               format indNephSyn_DMARD best12. ;
654               format indNMSC_DMARD best12. ;
655               format indNonVertOsFrac_DMARD best12. ;
656               format indOppInf_DMARD best12. ;
657               format indPsoriasis_DMARD best12. ;
658               format indPSA_DMARD best12. ;
659               format indRestrictLungDis_DMARD best12. ;
660               format indSolidCa_DMARD best12. ;
661               format indSpinalCordComp_DMARD best12. ;
662               format indUlcerColitis_DMARD best12. ;
663               format indUveitis_DMARD best12. ;
664               format indDiabetes_DMARD best12. ;
665               format indHT_DMARD best12. ;
666               format indMetabSyn_DMARD best12. ;
667               format indNAFattyLiverDis_DMARD best12. ;
668               format _LNLIKE_ best12. ;
669               format _ESTTYPE_ $4. ;
670             do;
671               EFIOUT + 1;
672               put _LINK_ $ @;
673               put _TYPE_ $ @;
674               put _STATUS_ $ @;
675               put _NAME_ $ @;
676               put Intercept_DMARD @;
677               put databaseMPCD_DMARD @;
678               put databaseMarketscan_DMARD @;
679               put age_DMARD @;
680               put SEXF_DMARD @;
681               put indAmyloidosis_DMARD @;
682               put indAortInsuffRegurg_DMARD @;
683               put indApicalPulmFib_DMARD @;
684               put indCaudaEquina_DMARD @;
685               put indVertFrac_DMARD @;
686               put indConductBlock_DMARD @;
687               put indCrohnsDis_DMARD @;
688               put indHematCa_DMARD @;
689               put indHospInf_DMARD @;
690               put indIgANeph_DMARD @;
691               put indInterstLungDis_DMARD @;
692               put indMI_DMARD @;
693               put indNephSyn_DMARD @;
694               put indNMSC_DMARD @;
695               put indNonVertOsFrac_DMARD @;
696               put indOppInf_DMARD @;
697               put indPsoriasis_DMARD @;
698               put indPSA_DMARD @;
699               put indRestrictLungDis_DMARD @;
700               put indSolidCa_DMARD @;
12                                                                  The SAS System                                     16:25 Monday, November 20, 2017

701               put indSpinalCordComp_DMARD @;
702               put indUlcerColitis_DMARD @;
703               put indUveitis_DMARD @;
704               put indDiabetes_DMARD @;
705               put indHT_DMARD @;
706               put indMetabSyn_DMARD @;
707               put indNAFattyLiverDis_DMARD @;
708               put _LNLIKE_ @;
709               put _ESTTYPE_ $ ;
710               ;
711             end;
712            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
713            if EFIEOD then call symputx('_EFIREC_',EFIOUT);
714            run;

NOTE: The file 'data\processed\psBetas.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\psBetas.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=20Nov2017:16:26:49,
      Create Time=13Nov2017:10:43:08

NOTE: 3 records were written to the file 'data\processed\psBetas.csv'.
      The minimum record length was 455.
      The maximum record length was 646.
NOTE: There were 2 observations read from the data set WORK.PSBETAS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2 records created in data\processed\psBetas.csv from WORK.PSBETAS.
  
  
NOTE: "data\processed\psBetas.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
      

715        proc export
716          data = Work.psDeidentified
717          outfile = "data\processed\psDeidentified.csv"
718          dbms = csv
719          replace;
720          delimiter = ",";
721        run;

722         /**********************************************************************
723         *   PRODUCT:   SAS
724         *   VERSION:   9.4
725         *   CREATOR:   External File Interface
726         *   DATE:      20NOV17
727         *   DESC:      Generated SAS Datastep Code
728         *   TEMPLATE SOURCE:  (None Specified.)
729         ***********************************************************************/
730            data _null_;
731            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
732            %let _EFIREC_ = 0;     /* clear export record count macro variable */
733            file 'data\processed\psDeidentified.csv' delimiter=',' DSD DROPOVER lrecl=32767;
734            if _n_ = 1 then        /* write column names or labels */
735             do;
736               put
737                  "model"
738               ','
739                  "database"
740               ','
741                  "exposure"
742               ','
743                  "_LEVEL_"
744               ','
745                  "ps"
746               ','
13                                                                  The SAS System                                     16:25 Monday, November 20, 2017

747                  "indCommonSupport"
748               ','
749                  "iptw"
750               ','
751                  "marginalPS"
752               ','
753                  "iptwStabilized"
754               ','
755                  "age"
756               ','
757                  "SEX"
758               ','
759                  "indAmyloidosis"
760               ','
761                  "indAortInsuffRegurg"
762               ','
763                  "indApicalPulmFib"
764               ','
765                  "indCaudaEquina"
766               ','
767                  "indVertFrac"
768               ','
769                  "indConductBlock"
770               ','
771                  "indCrohnsDis"
772               ','
773                  "indHematCa"
774               ','
775                  "indHospInf"
776               ','
777                  "indIgANeph"
778               ','
779                  "indInterstLungDis"
780               ','
781                  "indMI"
782               ','
783                  "indNephSyn"
784               ','
785                  "indNMSC"
786               ','
787                  "indNonVertOsFrac"
788               ','
789                  "indOppInf"
790               ','
791                  "indPsoriasis"
792               ','
793                  "indPSA"
794               ','
795                  "indRestrictLungDis"
796               ','
797                  "indSolidCa"
798               ','
799                  "indSpinalCordComp"
800               ','
801                  "indUlcerColitis"
802               ','
803                  "indUveitis"
804               ','
805                  "indDiabetes"
806               ','
807                  "indHT"
808               ','
809                  "indMetabSyn"
810               ','
811                  "indNAFattyLiverDis"
812               ;
813             end;
814           set  WORK.PSDEIDENTIFIED   end=EFIEOD;
815               format model $16. ;
816               format database $10. ;
817               format exposure $20. ;
818               format _LEVEL_ $20. ;
14                                                                  The SAS System                                     16:25 Monday, November 20, 2017

819               format ps best12. ;
820               format indCommonSupport best12. ;
821               format iptw best12. ;
822               format marginalPS best12. ;
823               format iptwStabilized best12. ;
824               format age best12. ;
825               format SEX $2. ;
826               format indAmyloidosis best12. ;
827               format indAortInsuffRegurg best12. ;
828               format indApicalPulmFib best12. ;
829               format indCaudaEquina best12. ;
830               format indVertFrac best12. ;
831               format indConductBlock best12. ;
832               format indCrohnsDis best12. ;
833               format indHematCa best12. ;
834               format indHospInf best12. ;
835               format indIgANeph best12. ;
836               format indInterstLungDis best12. ;
837               format indMI best12. ;
838               format indNephSyn best12. ;
839               format indNMSC best12. ;
840               format indNonVertOsFrac best12. ;
841               format indOppInf best12. ;
842               format indPsoriasis best12. ;
843               format indPSA best12. ;
844               format indRestrictLungDis best12. ;
845               format indSolidCa best12. ;
846               format indSpinalCordComp best12. ;
847               format indUlcerColitis best12. ;
848               format indUveitis best12. ;
849               format indDiabetes best12. ;
850               format indHT best12. ;
851               format indMetabSyn best12. ;
852               format indNAFattyLiverDis best12. ;
853             do;
854               EFIOUT + 1;
855               put model $ @;
856               put database $ @;
857               put exposure $ @;
858               put _LEVEL_ $ @;
859               put ps @;
860               put indCommonSupport @;
861               put iptw @;
862               put marginalPS @;
863               put iptwStabilized @;
864               put age @;
865               put SEX $ @;
866               put indAmyloidosis @;
867               put indAortInsuffRegurg @;
868               put indApicalPulmFib @;
869               put indCaudaEquina @;
870               put indVertFrac @;
871               put indConductBlock @;
872               put indCrohnsDis @;
873               put indHematCa @;
874               put indHospInf @;
875               put indIgANeph @;
876               put indInterstLungDis @;
877               put indMI @;
878               put indNephSyn @;
879               put indNMSC @;
880               put indNonVertOsFrac @;
881               put indOppInf @;
882               put indPsoriasis @;
883               put indPSA @;
884               put indRestrictLungDis @;
885               put indSolidCa @;
886               put indSpinalCordComp @;
887               put indUlcerColitis @;
888               put indUveitis @;
889               put indDiabetes @;
890               put indHT @;
15                                                                  The SAS System                                     16:25 Monday, November 20, 2017

891               put indMetabSyn @;
892               put indNAFattyLiverDis ;
893               ;
894             end;
895            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
896            if EFIEOD then call symputx('_EFIREC_',EFIOUT);
897            run;

NOTE: The file 'data\processed\psDeidentified.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\psDeidentified.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=20Nov2017:16:26:50,
      Create Time=13Nov2017:10:31:18

NOTE: 120021 records were written to the file 'data\processed\psDeidentified.csv'.
      The minimum record length was 103.
      The maximum record length was 445.
NOTE: There were 120020 observations read from the data set WORK.PSDEIDENTIFIED.
NOTE: DATA statement used (Total process time):
      real time           1.32 seconds
      cpu time            1.32 seconds
      

120020 records created in data\processed\psDeidentified.csv from WORK.PSDEIDENTIFIED.
  
  
NOTE: "data\processed\psDeidentified.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           1.52 seconds
      cpu time            1.51 seconds
      

898        proc export
899          data = Work.commonSupportRegion
900          outfile = "data\processed\commonSupportRegion.csv"
901          dbms = csv
902          replace;
903          delimiter = ",";
904        run;

905         /**********************************************************************
906         *   PRODUCT:   SAS
907         *   VERSION:   9.4
908         *   CREATOR:   External File Interface
909         *   DATE:      20NOV17
910         *   DESC:      Generated SAS Datastep Code
911         *   TEMPLATE SOURCE:  (None Specified.)
912         ***********************************************************************/
913            data _null_;
914            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
915            %let _EFIREC_ = 0;     /* clear export record count macro variable */
916            file 'data\processed\commonSupportRegion.csv' delimiter=',' DSD DROPOVER lrecl=32767;
917            if _n_ = 1 then        /* write column names or labels */
918             do;
919               put
920                  "model"
921               ','
922                  "commonSupportLowerBound"
923               ','
924                  "commonSupportUpperBound"
925               ;
926             end;
927           set  WORK.COMMONSUPPORTREGION   end=EFIEOD;
928               format model $16. ;
929               format commonSupportLowerBound best12. ;
930               format commonSupportUpperBound best12. ;
931             do;
932               EFIOUT + 1;
933               put model $ @;
934               put commonSupportLowerBound @;
935               put commonSupportUpperBound ;
936               ;
16                                                                  The SAS System                                     16:25 Monday, November 20, 2017

937             end;
938            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
939            if EFIEOD then call symputx('_EFIREC_',EFIOUT);
940            run;

NOTE: The file 'data\processed\commonSupportRegion.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\commonSupportRegion.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=20Nov2017:16:26:51,
      Create Time=13Nov2017:10:31:20

NOTE: 3 records were written to the file 'data\processed\commonSupportRegion.csv'.
      The minimum record length was 42.
      The maximum record length was 53.
NOTE: There were 2 observations read from the data set WORK.COMMONSUPPORTREGION.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2 records created in data\processed\commonSupportRegion.csv from WORK.COMMONSUPPORTREGION.
  
  
NOTE: "data\processed\commonSupportRegion.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

941        
942        
943        ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           53.02 seconds
      cpu time            52.10 seconds
      
