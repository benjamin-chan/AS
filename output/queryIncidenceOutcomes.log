1                                                          The SAS System                          17:55 Tuesday, September 19, 2017

NOTE: Copyright (c) 2002-2012 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M1) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70058223.
NOTE: This session is executing on the W32_ES08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 13.1
      SAS/ETS 13.1
      SAS/OR 13.1
      SAS/IML 13.1
      SAS/QC 13.1

NOTE: Additional host information:

 W32_ES08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any of the shared folders.

 


NOTE: SAS initialization used:
      real time           1.16 seconds
      cpu time            0.12 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                            *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=queryIncidenceOutcomes; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: h:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
92         footnote "&pgm.";
93         * footnote2 "%sysfunc(datetime(),datetime14.)";
94         title1 '--- AS project ---';
95         **********************************************************************;
96         options macrogen mlogic mprint symbolgen;
97         options nomacrogen nomlogic nomprint nosymbolgen;
98         
99         
100        ods html
101          body = "output\&cmt..html"
102          style = Statistical;
NOTE: Writing HTML Body file: output\queryIncidenceOutcomes.html
2                                                                   The SAS System                                   17:55 Tuesday, September 19, 2017

103        
104        
105        /*
106        See the *Compact Outcome Definition* worksheet in `AS Project Cohort Outcome Codebook-20170410.xlsx`
107         */
108        
109        
110        /*
111        From: Xie, Fenglong [mailto:fenglongxie@uabmc.edu]
112        Sent: Wednesday, May 17, 2017 7:03 AM
113        To: Benjamin Chan <chanb@ohsu.edu>
114        Subject: RE: AS project data
115        
116        Hi, Ben
117        
118        The data are stored at UCB library defined as below email.
119        
120        Attached please find the cohort list.
121        
122        No exclusion was done except excluded for higher level exposure in six month
123        baseline.
124        
125        You need to do appropriate censor (such as censor for discontinues of
126        exposure, switch to same level or higher lever exposure ...).
127        
128        If you have question, please let me know.
129         */
130        
131        
132        /*
133        Call interstitial lung disease macro
134         */
135        %include "lib\IPP_2IPSOPplusPX_ILD.sas" / source2;
NOTE: %INCLUDE (level 1) file lib\IPP_2IPSOPplusPX_ILD.sas is file U:\studies\AS\pgms\bchan\lib\IPP_2IPSOPplusPX_ILD.sas.
136       +/*
137       +Interstitial lung disease;
138       +1)  One or more diagnosis codes for ILD from primary discharge
139       +Or
140       +2)  (Two or more diagnosis codes for ILD from secondary discharge or physician EMM ) plus one or more diagnosis tests within 90 days prior
140      !+to (inclusive) one of the diagnosis code for ILD
141       +*/
142       +%macro IPP_2IPSOPplusPX_ILD(outdata=,ids=,Dxs=, Pxs=);
143       +*DXs=diagnosis code in followup, Pxs=CPT code in follow up;
144       +*do not name outData as IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
145       +
146       +data IPPILD dxIPSILD dxOPILD;
147       +set &dxs();
148       +length dx1_date 4;
149       +format dx1_date mmddyy10.;
150       +dx1_date=min(ADMIT_DATE,  BEGIN_DATE);
151       +
152       +if dx in :('515','51630','51631','51632','51633','51634','51635','51636','51637',
153       +           '5164','5165','5166','5168','5169','71481');
154       +
155       +if enc_type='IP' and pdx='P'
156       +    then output IPPILD;
157       +if enc_type='IP' and pdx ne 'P'
158       +    then output dxIPSILD;
159       +if enc_type not in ('IP','IF', 'OT', " ")
160       +    then output dxOPILD;
161       +run;
162       +
163       +data dxIPSOPILD; *ILD from secondary discharge or physician EMM;
164       +set dxIPSILD dxOPILD;
165       +run;
166       +
167       +data pxILD; *diagnosis tests;
168       +set &pxs();
169       +if (px_type='09' and px in ('8741','8742')) or
170       +   (px_type='C1' and px in ('71250','71260','71270','71275','31625','31628',
171       +                             '31629','31632','31633','32095','32096','32097',
172       +                             '32098','32400','32405','32604','32606','32607',
3                                                                   The SAS System                                   17:55 Tuesday, September 19, 2017

173       +                             '32608','32609'));
174       +run;
175       +proc sort data=pxILD nodupkey; by &IDS px_date;run; * drop duplicate PX date and keep only one;
176       +
177       +proc sql;
178       +/*one or more diagnosis tests within 90 days prior to (inclusive) one of the diagnosis code for ILD*/
179       +create table dxpxIPSOPILD as
180       +select a.* , b.px_date
181       +from dxIPSOPILD as a
182       +    ,
183       +     pxILD as b
184       +where a.&IDS=b.&IDS and
185       +      min(b.ADMIT_DATE, b.BEGIN_DATE)-90<=b.px_date<=min(b.ADMIT_DATE, b.BEGIN_DATE);
186       +
187       +/* sencond DX code */
188       +create table IPSOPILD as
189       +select a.*, min(b.ADMIT_DATE, b.BEGIN_DATE) as DX2_date length=4 format mmddyy10.
190       +from dxpxIPSOPILD as a
191       +    ,
192       +     dxIPSOPILD(drop=dx1_date) as b
193       +where a.patid=b.patid and
194       +      (a.ADMIT_DATE ne b.ADMIT_DATE and a.BEGIN_DATE ne b.BEGIN_DATE)
195       +order by &IDS,ADMIT_DATE, BEGIN_DATE;
196       +quit;
197       +
198       +
199       +data &outData;
200       +set IPPILD IPSOPILD;
201       +length outcome $20 outcome_date outcome_start_date 4;
202       +format outcome_date outcome_start_date mmddyy10.;
203       +outcome="ILD";
204       +outcome_date=max(dx1_date, dx2_date, px_date);
205       +outcome_start_date=min(dx1_date, dx2_date, px_date);
206       +drop ADMIT_DATE BEGIN_DATE DISCHARGE_DATE END_DATE;
207       +run;
208       +
209       +proc sort data=&outData;
210       +by &IDS outcome_date descending outcome_start_date descending Enc_type;
211       +run;
212       +
213       +data &outData;
214       +set &outData;
215       +by &IDS outcome_date descending outcome_start_date;
216       +if first.outcome_date;
217       +run;
218       +
219       +proc datasets nolist;
220       +delete IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
221       +quit;run;
222       +%mend IPP_2IPSOPplusPX_ILD;
NOTE: %INCLUDE (level 1) ending.
223        %IPP_2IPSOPplusPX_ILD(outdata = Work.outcome_ILD_All,
224                              IDS = exposureID,
225                              Dxs = UCB.tempIncDxAll,
226                              Pxs = UCB.tempIncPxAll);

NOTE: There were 5140611 observations read from the data set UCB.TEMPINCDXALL.
NOTE: The data set WORK.IPPILD has 83 observations and 20 variables.
NOTE: The data set WORK.DXIPSILD has 1149 observations and 20 variables.
NOTE: The data set WORK.DXOPILD has 3870 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           23.98 seconds
      cpu time            1.76 seconds
      


NOTE: There were 1149 observations read from the data set WORK.DXIPSILD.
NOTE: There were 3870 observations read from the data set WORK.DXOPILD.
NOTE: The data set WORK.DXIPSOPILD has 5019 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.00 seconds
4                                                                   The SAS System                                   17:55 Tuesday, September 19, 2017

      


NOTE: There were 7847774 observations read from the data set UCB.TEMPINCPXALL.
NOTE: The data set WORK.PXILD has 16345 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           31.86 seconds
      cpu time            2.09 seconds
      


NOTE: There were 16345 observations read from the data set WORK.PXILD.
NOTE: 692 observations with duplicate key values were deleted.
NOTE: The data set WORK.PXILD has 15653 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.17 seconds
      cpu time            0.01 seconds
      

NOTE: Table WORK.DXPXIPSOPILD created, with 15831 rows and 21 columns.

NOTE: Table WORK.IPSOPILD created, with 195152 rows and 22 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.74 seconds
      cpu time            0.45 seconds
      


NOTE: There were 83 observations read from the data set WORK.IPPILD.
NOTE: There were 195152 observations read from the data set WORK.IPSOPILD.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 195235 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.28 seconds
      cpu time            0.12 seconds
      


NOTE: There were 195235 observations read from the data set WORK.OUTCOME_ILD_ALL.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 195235 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.35 seconds
      cpu time            0.35 seconds
      


NOTE: There were 195235 observations read from the data set WORK.OUTCOME_ILD_ALL.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 2023 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.10 seconds
      


NOTE: Deleting WORK.IPPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSILD (memtype=DATA).
NOTE: Deleting WORK.DXOPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.PXILD (memtype=DATA).
NOTE: Deleting WORK.DXPXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.IPSOPILD (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

227        proc sql;
228          select database, exposure, "Interstitial lung disease" as disease, count(distinct exposureID) as n
229            from Work.outcome_ILD_All
230            group by database, exposure;
                                                                  --- AS project ---                             17:55 Tuesday, September 19, 2017   1

                                        database    exposure              disease                           n
                                        ---------------------------------------------------------------------
                                        MPCD        NSAID or no exposure  Interstitial lung disease         3
                                        Marketscan  DMARD                 Interstitial lung disease         2
                                        Marketscan  NSAID or no exposure  Interstitial lung disease         8
                                        Marketscan  TNF                   Interstitial lung disease         5
                                        Medicare    DMARD                 Interstitial lung disease        76
                                        Medicare    NSAID or no exposure  Interstitial lung disease       173
                                        Medicare    TNF                   Interstitial lung disease        53
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
231        quit;
NOTE: The PROCEDURE SQL printed page 1.
5                                                                   The SAS System                                   17:55 Tuesday, September 19, 2017

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

232        
233        
234        /*
235        Process fracture episodes data set
236         */
237        proc sql;
238          create table Work.fractures as
239            select database,
240                   exposure,
241                   patid,
242                   exposureStart,
243                   exposureEnd,
244                   exposureID,
245                   "Osteoporotic fracture" as outcomeCategory,
246                   fractureType as disease,
247                   fractureEpisodeStart as begin_date
248            from DT.fractureEpisodesInc
249            where ^missing(fractureType);
NOTE: Table WORK.FRACTURES created, with 6495 rows and 9 columns.

250          select database, exposure, disease, count(distinct exposureID) as n
251            from Work.fractures
252            group by database, exposure, disease;
                                                                  --- AS project ---                             17:55 Tuesday, September 19, 2017   2

                                   database    exposure              disease                                     n
                                   -------------------------------------------------------------------------------
                                   MPCD        DMARD                 Clinical vertebral fracture                 1
                                   MPCD        DMARD                 Non-vertebral osteoporotic fracture         4
                                   MPCD        NSAID or no exposure  Clinical vertebral fracture                45
                                   MPCD        NSAID or no exposure  Non-vertebral osteoporotic fracture        84
                                   MPCD        TNF                   Clinical vertebral fracture                13
                                   MPCD        TNF                   Non-vertebral osteoporotic fracture        19
                                   Marketscan  DMARD                 Clinical vertebral fracture                13
                                   Marketscan  DMARD                 Non-vertebral osteoporotic fracture        20
                                   Marketscan  NSAID or no exposure  Clinical vertebral fracture               211
                                   Marketscan  NSAID or no exposure  Non-vertebral osteoporotic fracture       161
                                   Marketscan  TNF                   Clinical vertebral fracture                30
                                   Marketscan  TNF                   Non-vertebral osteoporotic fracture        81
                                   Medicare    DMARD                 Clinical vertebral fracture               205
                                   Medicare    DMARD                 Non-vertebral osteoporotic fracture       281
                                   Medicare    NSAID or no exposure  Clinical vertebral fracture              1471
                                   Medicare    NSAID or no exposure  Non-vertebral osteoporotic fracture      1314
                                   Medicare    TNF                   Clinical vertebral fracture               228
                                   Medicare    TNF                   Non-vertebral osteoporotic fracture       331
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
253        quit;
NOTE: The PROCEDURE SQL printed page 2.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.20 seconds
      cpu time            0.07 seconds
      

254        
255        
256        /*
257        Process the data sets created by the cancer scripts
258         */
259        
260        
261        proc sql;
262        
263          create table Work.defOutcomes as
264            select *
265            from DT.defOutcomes
266            where disease ^in ("Interstitial lung disease");
NOTE: Table WORK.DEFOUTCOMES created, with 2664 rows and 6 columns.

267          create table Work.lookupDisease as
268            select distinct outcomeCategory, disease
269            from DT.defOutcomes;
NOTE: Table WORK.LOOKUPDISEASE created, with 21 rows and 2 columns.

270          insert into Work.lookupDisease (outcomeCategory, disease)
271            values ("Osteoporotic fracture", "Clinical vertebral fracture")
272            values ("Osteoporotic fracture", "Non-vertebral osteoporotic fracture");
NOTE: 2 rows were inserted into WORK.LOOKUPDISEASE.

273        
274          %let select1 = select A.*, B.outcomeCategory, B.disease;
275          %let join1 = inner join Work.defOutcomes B on (A.codeType = B.codeType & A.code = B.code);
276          %let where1a = where B.disease ^in ("Myocardial infarction", "Hospitalized infection");
277          %let where1b = | (B.disease in ("Myocardial infarction", "Hospitalized infection") & A.enc_type = "IP");
278          %let select2 = select database, exposure, patid, exposureID, exposureStart, exposureEnd, enc_type, "Lung disease" as outcomeCategory,
278      ! "Interstitial lung disease" as disease, outcome_start_date as begin_date;
279          create table Work.incidentDisease as
280            select C.database, C.exposureID, C.patid, C.exposure, C.exposureStart, C.exposureEnd,
281                   C.outcomeCategory,
282                   C.disease,
283                   C.begin_date
6                                                                   The SAS System                                   17:55 Tuesday, September 19, 2017

284            from (&select1 from UCB.tempIncDxAll A &join1 &where1a &where1b union corr
285                  &select1 from UCB.tempIncPxAll A &join1 &where1a union corr
286                  &select2 from Work.outcome_ILD_All union corr
287                  select * from Work.fractures) C
288            order by C.database, C.exposureID, C.outcomeCategory, C.disease, C.begin_date;
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Table WORK.INCIDENTDISEASE created, with 136047 rows and 9 columns.

289        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           4.46 seconds
      cpu time            5.22 seconds
      

290        
291        /*
292        Take first occurrence of outcome
293         */
294        proc sort data = Work.incidentDisease nodupkey;
295          by database exposureID outcomeCategory disease;
296        run;

NOTE: There were 136047 observations read from the data set WORK.INCIDENTDISEASE.
NOTE: 98493 observations with duplicate key values were deleted.
NOTE: The data set WORK.INCIDENTDISEASE has 37554 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.26 seconds
      cpu time            0.23 seconds
      

297        
298        /*
299        Join incident disease outcomes to exposure timelines
300        Summarize
301         */
302        proc sql;
303          create table DT.incidentDiseaseTimelines as
304            select A.*,
305                   B.begin_date format = mmddyy10. as outcomeDate,
306                   missing(B.begin_date) as censor,
307                   case
308                     when missing(B.begin_date) then daysExposed
309                     when ^missing(B.begin_date) then B.begin_date - A.exposureStart + 1
310                     else .
311                     end as daysToOutcome
312            from (select A.*, B.*
313                  from DT.exposureTimeline A,
314                       Work.lookupDisease B) A left join
315                 Work.incidentDisease B on (A.exposureID = B.exposureID &
316                                            A.outcomeCategory = B.outcomeCategory &
317                                            A.disease = B.disease);
NOTE: The execution of this query involves performing one or more Cartesian product joins that can not be optimized.
NOTE: Table DT.INCIDENTDISEASETIMELINES created, with 1059265 rows and 14 columns.

318          create table Work.incidence as
319            select database, exposure, outcomeCategory, disease,
320                   count(distinct exposureID) as n,
321                   sum(censor = 0) as incidence,
322                   sum(daysToOutcome) / 365.25 as personYears,
323                   sum(censor = 0) / (sum(daysToOutcome) / 365.25) * 1000 as incidencePer1000PY
324            from DT.incidentDiseaseTimelines
325            group by database, exposure, outcomeCategory, disease;
NOTE: Table WORK.INCIDENCE created, with 207 rows and 8 columns.

326          select * from Work.incidence;
                                                                  --- AS project ---                             17:55 Tuesday, September 19, 2017   3

                                                                                                                                  person    incidence
database    exposure              Disease Category            Disease                                           n  incidence       Years    Per1000PY
-----------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        DMARD                 Cancer                      Hematologic Cancer                              423          1    426.0151     2.347335
MPCD        DMARD                 Cancer                      Non Melanoma Skin Cancer                        423          0     427.165            0
MPCD        DMARD                 Cancer                      Solid Cancer                                    423          8    419.1869     19.08457
MPCD        DMARD                 Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       423          1    426.9596     2.342142
MPCD        DMARD                 Cardiac disease             Conduction Block                                423          0     427.165            0
MPCD        DMARD                 Cardiac disease             Myocardial infarction                           423          0     427.165            0
MPCD        DMARD                 Infection                   Hospitalized infection                          423          4    424.3422     9.426354
MPCD        DMARD                 Infection                   Opportunistic infection                         423          6    421.5168     14.23431
MPCD        DMARD                 Inflammatory bowel disease  Crohn’s Disease                                 423         15    415.2307      36.1245
MPCD        DMARD                 Inflammatory bowel disease  Ulcerative Colitis                              423          4    423.0801     9.454475
MPCD        DMARD                 Kidney disease              Amyloidosis                                     423          0     427.165            0
MPCD        DMARD                 Kidney disease              IgA nephropathy                                 423          0     427.165            0
MPCD        DMARD                 Kidney disease              Nephrotic syndrome                              423          0     427.165            0
MPCD        DMARD                 Lung disease                Apical Pulmonary fibrosis                       423          0     427.165            0
MPCD        DMARD                 Lung disease                Interstitial lung disease                       423          0     427.165            0
MPCD        DMARD                 Lung disease                Restrictive lung disease                        423          0     427.165            0
MPCD        DMARD                 Neurological Disease        Cauda Equina syndrome                           423          0     427.165            0
MPCD        DMARD                 Neurological Disease        Spinal Cord compression                         423          0     427.165            0
MPCD        DMARD                 Osteoporotic fracture       Clinical vertebral fracture                     423          1    426.2943     2.345797
MPCD        DMARD                 Osteoporotic fracture       Non-vertebral osteoporotic fracture             423          4    425.0267     9.411174
MPCD        DMARD                 PsO/PsA                     Psoriasis                                       423          4    419.9261     9.525486
MPCD        DMARD                 PsO/PsA                     Psoriatic arthritis                             423         21    408.9829     51.34689
MPCD        DMARD                 Uveitis                     Uveitis                                         423         26    396.9829     65.49401
MPCD        NSAID or no exposure  Cancer                      Hematologic Cancer                             2093         15    2637.947     5.686241
MPCD        NSAID or no exposure  Cancer                      Non Melanoma Skin Cancer                       2093          0    2653.303            0
MPCD        NSAID or no exposure  Cancer                      Solid Cancer                                   2093        112    2513.079     44.56685
MPCD        NSAID or no exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      2093         44    2583.871     17.02871
MPCD        NSAID or no exposure  Cardiac disease             Conduction Block                               2093         23    2625.591     8.759934
MPCD        NSAID or no exposure  Cardiac disease             Myocardial infarction                          2093         16     2639.28      6.06226
MPCD        NSAID or no exposure  Infection                   Hospitalized infection                         2093        157    2462.549     63.75508
MPCD        NSAID or no exposure  Infection                   Opportunistic infection                        2093         14    2635.592     5.311899
MPCD        NSAID or no exposure  Inflammatory bowel disease  Crohn’s Disease                                2093         75    2573.555     29.14257
MPCD        NSAID or no exposure  Inflammatory bowel disease  Ulcerative Colitis                             2093         41    2590.617     15.82634
MPCD        NSAID or no exposure  Kidney disease              Amyloidosis                                    2093          3    2652.101     1.131179
MPCD        NSAID or no exposure  Kidney disease              IgA nephropathy                                2093          2     2651.34     0.754335
MPCD        NSAID or no exposure  Kidney disease              Nephrotic syndrome                             2093          0    2653.303            0
MPCD        NSAID or no exposure  Lung disease                Apical Pulmonary fibrosis                      2093          1    2652.583     0.376991
MPCD        NSAID or no exposure  Lung disease                Interstitial lung disease                      2093          3    2652.476     1.131019
MPCD        NSAID or no exposure  Lung disease                Restrictive lung disease                       2093         48    2600.263     18.45967
MPCD        NSAID or no exposure  Neurological Disease        Cauda Equina syndrome                          2093          4    2648.652     1.510202
MPCD        NSAID or no exposure  Neurological Disease        Spinal Cord compression                        2093          7    2648.241     2.643264
MPCD        NSAID or no exposure  Osteoporotic fracture       Clinical vertebral fracture                    2093         45    2594.669     17.34325
MPCD        NSAID or no exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            2093         84    2555.844     32.86586
MPCD        NSAID or no exposure  PsO/PsA                     Psoriasis                                      2093         41    2596.287     15.79178
MPCD        NSAID or no exposure  PsO/PsA                     Psoriatic arthritis                            2093         47    2606.037     18.03505
MPCD        NSAID or no exposure  Uveitis                     Uveitis                                        2093        122    2510.795     48.59018
MPCD        TNF                   Cancer                      Hematologic Cancer                             1108          3    1501.259     1.998322
MPCD        TNF                   Cancer                      Non Melanoma Skin Cancer                       1108          0    1505.498            0
MPCD        TNF                   Cancer                      Solid Cancer                                   1108         32    1469.927     21.76978
MPCD        TNF                   Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1108         17    1489.073      11.4165
MPCD        TNF                   Cardiac disease             Conduction Block                               1108          4    1504.301     2.659042
MPCD        TNF                   Cardiac disease             Myocardial infarction                          1108          5    1501.076     3.330944
MPCD        TNF                   Infection                   Hospitalized infection                         1108         16    1494.292     10.70741
MPCD        TNF                   Infection                   Opportunistic infection                        1108         13    1493.963     8.701688
MPCD        TNF                   Inflammatory bowel disease  Crohn’s Disease                                1108         64    1429.254     44.77861
MPCD        TNF                   Inflammatory bowel disease  Ulcerative Colitis                             1108         35    1460.235     23.96874
MPCD        TNF                   Kidney disease              Amyloidosis                                    1108          0    1505.498            0
MPCD        TNF                   Kidney disease              IgA nephropathy                                1108          3    1502.891     1.996153
MPCD        TNF                   Kidney disease              Nephrotic syndrome                             1108          2    1502.535     1.331084
MPCD        TNF                   Lung disease                Apical Pulmonary fibrosis                      1108          0    1505.498            0
MPCD        TNF                   Lung disease                Interstitial lung disease                      1108          0    1505.498            0
MPCD        TNF                   Lung disease                Restrictive lung disease                       1108         12    1488.085     8.064056
MPCD        TNF                   Neurological Disease        Cauda Equina syndrome                          1108          0    1505.498            0
MPCD        TNF                   Neurological Disease        Spinal Cord compression                        1108          1    1504.769     0.664554
MPCD        TNF                   Osteoporotic fracture       Clinical vertebral fracture                    1108         13    1491.376     8.716784
MPCD        TNF                   Osteoporotic fracture       Non-vertebral osteoporotic fracture            1108         19    1489.832     12.75312
MPCD        TNF                   PsO/PsA                     Psoriasis                                      1108         49    1456.427     33.64398
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                             17:55 Tuesday, September 19, 2017   4

                                                                                                                                  person    incidence
database    exposure              Disease Category            Disease                                           n  incidence       Years    Per1000PY
-----------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        TNF                   PsO/PsA                     Psoriatic arthritis                            1108         73    1423.086     51.29699
MPCD        TNF                   Uveitis                     Uveitis                                        1108         70     1413.96     49.50634
Marketscan  DMARD                 Cancer                      Hematologic Cancer                             1813         15    1785.703     8.400053
Marketscan  DMARD                 Cancer                      Non Melanoma Skin Cancer                       1813         20     1785.64     11.20047
Marketscan  DMARD                 Cancer                      Solid Cancer                                   1813         77    1724.134      44.6601
Marketscan  DMARD                 Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1813         17     1787.71     9.509373
Marketscan  DMARD                 Cardiac disease             Conduction Block                               1813         14    1790.645     7.818413
Marketscan  DMARD                 Cardiac disease             Myocardial infarction                          1813          5    1797.081     2.782289
Marketscan  DMARD                 Infection                   Hospitalized infection                         1813         73    1732.608     42.13302
Marketscan  DMARD                 Infection                   Opportunistic infection                        1813         24    1778.672     13.49321
Marketscan  DMARD                 Inflammatory bowel disease  Crohn’s Disease                                1813         63    1730.768     36.40003
Marketscan  DMARD                 Inflammatory bowel disease  Ulcerative Colitis                             1813         42    1755.012     23.93147
Marketscan  DMARD                 Kidney disease              Amyloidosis                                    1813          0    1799.995            0
Marketscan  DMARD                 Kidney disease              IgA nephropathy                                1813          0    1799.995            0
Marketscan  DMARD                 Kidney disease              Nephrotic syndrome                             1813          2    1797.708     1.112527
Marketscan  DMARD                 Lung disease                Apical Pulmonary fibrosis                      1813          0    1799.995            0
Marketscan  DMARD                 Lung disease                Interstitial lung disease                      1813          2    1797.854     1.112438
Marketscan  DMARD                 Lung disease                Restrictive lung disease                       1813         15    1783.578     8.410059
Marketscan  DMARD                 Neurological Disease        Cauda Equina syndrome                          1813          1    1799.751     0.555632
Marketscan  DMARD                 Neurological Disease        Spinal Cord compression                        1813          4    1795.337     2.227993
Marketscan  DMARD                 Osteoporotic fracture       Clinical vertebral fracture                    1813         13    1794.741     7.243387
Marketscan  DMARD                 Osteoporotic fracture       Non-vertebral osteoporotic fracture            1813         20    1782.535     11.21997
Marketscan  DMARD                 PsO/PsA                     Psoriasis                                      1813         55    1766.825     31.12928
Marketscan  DMARD                 PsO/PsA                     Psoriatic arthritis                            1813        109    1706.437     63.87579
Marketscan  DMARD                 Uveitis                     Uveitis                                        1813        112     1704.03     65.72654
Marketscan  NSAID or no exposure  Cancer                      Hematologic Cancer                             8122         56    9190.828     6.093031
Marketscan  NSAID or no exposure  Cancer                      Non Melanoma Skin Cancer                       8122         81    9178.587     8.824887
Marketscan  NSAID or no exposure  Cancer                      Solid Cancer                                   8122        352    8838.782     39.82449
Marketscan  NSAID or no exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      8122        115    9102.927      12.6333
Marketscan  NSAID or no exposure  Cardiac disease             Conduction Block                               8122        147    9093.911     16.16466
Marketscan  NSAID or no exposure  Cardiac disease             Myocardial infarction                          8122         59    9201.221     6.412192
Marketscan  NSAID or no exposure  Infection                   Hospitalized infection                         8122        579    8629.292     67.09704
Marketscan  NSAID or no exposure  Infection                   Opportunistic infection                        8122         73    9188.682     7.944556
Marketscan  NSAID or no exposure  Inflammatory bowel disease  Crohn’s Disease                                8122        210    9046.932     23.21229
Marketscan  NSAID or no exposure  Inflammatory bowel disease  Ulcerative Colitis                             8122        153    9103.567      16.8066
Marketscan  NSAID or no exposure  Kidney disease              Amyloidosis                                    8122          0     9260.29            0
Marketscan  NSAID or no exposure  Kidney disease              IgA nephropathy                                8122          7    9256.903     0.756192
Marketscan  NSAID or no exposure  Kidney disease              Nephrotic syndrome                             8122          4     9255.54     0.432174
Marketscan  NSAID or no exposure  Lung disease                Apical Pulmonary fibrosis                      8122          1    9259.513     0.107997
Marketscan  NSAID or no exposure  Lung disease                Interstitial lung disease                      8122          8    9251.713     0.864705
Marketscan  NSAID or no exposure  Lung disease                Restrictive lung disease                       8122        117    9143.504     12.79597
Marketscan  NSAID or no exposure  Neurological Disease        Cauda Equina syndrome                          8122          1    9259.918     0.107992
Marketscan  NSAID or no exposure  Neurological Disease        Spinal Cord compression                        8122         28    9236.408     3.031482
Marketscan  NSAID or no exposure  Osteoporotic fracture       Clinical vertebral fracture                    8122        211    9026.283     23.37618
Marketscan  NSAID or no exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            8122        161    9087.554     17.71654
Marketscan  NSAID or no exposure  PsO/PsA                     Psoriasis                                      8122        152    9113.755     16.67809
Marketscan  NSAID or no exposure  PsO/PsA                     Psoriatic arthritis                            8122        172    9110.571     18.87917
Marketscan  NSAID or no exposure  Uveitis                     Uveitis                                        8122        504    8754.847     57.56811
Marketscan  TNF                   Cancer                      Hematologic Cancer                             4824         13    6716.282     1.935595
Marketscan  TNF                   Cancer                      Non Melanoma Skin Cancer                       4824         52    6679.086     7.785497
Marketscan  TNF                   Cancer                      Solid Cancer                                   4824        118    6586.697      17.9149
Marketscan  TNF                   Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4824         48    6663.376     7.203556
Marketscan  TNF                   Cardiac disease             Conduction Block                               4824         46     6682.22     6.883939
Marketscan  TNF                   Cardiac disease             Myocardial infarction                          4824         14    6723.242     2.082329
Marketscan  TNF                   Infection                   Hospitalized infection                         4824        202    6528.356     30.94194
Marketscan  TNF                   Infection                   Opportunistic infection                        4824         58    6668.339     8.697818
Marketscan  TNF                   Inflammatory bowel disease  Crohn’s Disease                                4824        275    6413.684     42.87707
Marketscan  TNF                   Inflammatory bowel disease  Ulcerative Colitis                             4824        168    6551.888     25.64146
Marketscan  TNF                   Kidney disease              Amyloidosis                                    4824          2    6730.335     0.297162
Marketscan  TNF                   Kidney disease              IgA nephropathy                                4824          8    6726.984      1.18924
Marketscan  TNF                   Kidney disease              Nephrotic syndrome                             4824          3    6726.689     0.445985
Marketscan  TNF                   Lung disease                Apical Pulmonary fibrosis                      4824          0    6731.274            0
Marketscan  TNF                   Lung disease                Interstitial lung disease                      4824          5    6726.817     0.743294
Marketscan  TNF                   Lung disease                Restrictive lung disease                       4824         50    6685.492     7.478881
Marketscan  TNF                   Neurological Disease        Cauda Equina syndrome                          4824          2     6727.51     0.297287
Marketscan  TNF                   Neurological Disease        Spinal Cord compression                        4824         12    6726.092     1.784097
Marketscan  TNF                   Osteoporotic fracture       Clinical vertebral fracture                    4824         30    6703.852     4.475039
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                             17:55 Tuesday, September 19, 2017   5

                                                                                                                                  person    incidence
database    exposure              Disease Category            Disease                                           n  incidence       Years    Per1000PY
-----------------------------------------------------------------------------------------------------------------------------------------------------
Marketscan  TNF                   Osteoporotic fracture       Non-vertebral osteoporotic fracture            4824         81    6631.871     12.21375
Marketscan  TNF                   PsO/PsA                     Psoriasis                                      4824        221    6477.678     34.11716
Marketscan  TNF                   PsO/PsA                     Psoriatic arthritis                            4824        328    6311.526     51.96841
Marketscan  TNF                   Uveitis                     Uveitis                                        4824        352    6295.143     55.91612
Medicare    DMARD                 Cancer                      Hematologic Cancer                             4304         90    8910.571     10.10036
Medicare    DMARD                 Cancer                      Non Melanoma Skin Cancer                       4304        133    8884.986     14.96907
Medicare    DMARD                 Cancer                      Solid Cancer                                   4304        436     8277.01     52.67603
Medicare    DMARD                 Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4304        240    8616.575     27.85329
Medicare    DMARD                 Cardiac disease             Conduction Block                               4304        215    8715.825     24.66777
Medicare    DMARD                 Cardiac disease             Myocardial infarction                          4304        108     8922.53     12.10419
Medicare    DMARD                 Infection                   Hospitalized infection                         4304        887    7554.987     117.4059
Medicare    DMARD                 Infection                   Opportunistic infection                        4304        188    8788.315     21.39204
Medicare    DMARD                 Inflammatory bowel disease  Crohn’s Disease                                4304        290    8490.018     34.15776
Medicare    DMARD                 Inflammatory bowel disease  Ulcerative Colitis                             4304        160    8746.678     18.29266
Medicare    DMARD                 Kidney disease              Amyloidosis                                    4304          2    9063.107     0.220675
Medicare    DMARD                 Kidney disease              IgA nephropathy                                4304         11    9051.551     1.215261
Medicare    DMARD                 Kidney disease              Nephrotic syndrome                             4304         11     9045.67     1.216051
Medicare    DMARD                 Lung disease                Apical Pulmonary fibrosis                      4304          2    9059.825     0.220755
Medicare    DMARD                 Lung disease                Interstitial lung disease                      4304         76    8954.059     8.487771
Medicare    DMARD                 Lung disease                Restrictive lung disease                       4304        215    8662.508      24.8196
Medicare    DMARD                 Neurological Disease        Cauda Equina syndrome                          4304          1    9063.406     0.110334
Medicare    DMARD                 Neurological Disease        Spinal Cord compression                        4304         25    9018.853     2.771971
Medicare    DMARD                 Osteoporotic fracture       Clinical vertebral fracture                    4304        205    8716.307     23.51914
Medicare    DMARD                 Osteoporotic fracture       Non-vertebral osteoporotic fracture            4304        281    8584.827     32.73217
Medicare    DMARD                 PsO/PsA                     Psoriasis                                      4304        275    8536.914     32.21304
Medicare    DMARD                 PsO/PsA                     Psoriatic arthritis                            4304        334    8413.421     39.69848
Medicare    DMARD                 Uveitis                     Uveitis                                        4304        237    8581.621     27.61716
Medicare    NSAID or no exposure  Cancer                      Hematologic Cancer                            18431        407    38638.63      10.5335
Medicare    NSAID or no exposure  Cancer                      Non Melanoma Skin Cancer                      18431        777    38289.05     20.29301
Medicare    NSAID or no exposure  Cancer                      Solid Cancer                                  18431       2418    34725.75     69.63133
Medicare    NSAID or no exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation     18431       1268    36936.28     34.32939
Medicare    NSAID or no exposure  Cardiac disease             Conduction Block                              18431       1339    37023.56     36.16616
Medicare    NSAID or no exposure  Cardiac disease             Myocardial infarction                         18431        596    38530.92      15.4681
Medicare    NSAID or no exposure  Infection                   Hospitalized infection                        18431       4955    31136.82     159.1363
Medicare    NSAID or no exposure  Infection                   Opportunistic infection                       18431        751    38106.83     19.70775
Medicare    NSAID or no exposure  Inflammatory bowel disease  Crohn’s Disease                               18431        817    37614.71     21.72023
Medicare    NSAID or no exposure  Inflammatory bowel disease  Ulcerative Colitis                            18431        515    38276.71     13.45466
Medicare    NSAID or no exposure  Kidney disease              Amyloidosis                                   18431         17    39281.98     0.432768
Medicare    NSAID or no exposure  Kidney disease              IgA nephropathy                               18431         58    39231.62     1.478399
Medicare    NSAID or no exposure  Kidney disease              Nephrotic syndrome                            18431         31    39253.22     0.789744
Medicare    NSAID or no exposure  Lung disease                Apical Pulmonary fibrosis                     18431          5    39310.83     0.127191
Medicare    NSAID or no exposure  Lung disease                Interstitial lung disease                     18431        173    38974.81     4.438765
Medicare    NSAID or no exposure  Lung disease                Restrictive lung disease                      18431        907    37460.85     24.21194
Medicare    NSAID or no exposure  Neurological Disease        Cauda Equina syndrome                         18431         36    39245.63       0.9173
Medicare    NSAID or no exposure  Neurological Disease        Spinal Cord compression                       18431        156    39017.79     3.998177
Medicare    NSAID or no exposure  Osteoporotic fracture       Clinical vertebral fracture                   18431       1471    36760.94      40.0153
Medicare    NSAID or no exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture           18431       1314    36669.71     35.83339
Medicare    NSAID or no exposure  PsO/PsA                     Psoriasis                                     18431        727    37851.99     19.20639
Medicare    NSAID or no exposure  PsO/PsA                     Psoriatic arthritis                           18431        618    38156.79     16.19633
Medicare    NSAID or no exposure  Uveitis                     Uveitis                                       18431        780    37547.23     20.77383
Medicare    TNF                   Cancer                      Hematologic Cancer                             4937         58    13512.26     4.292399
Medicare    TNF                   Cancer                      Non Melanoma Skin Cancer                       4937        179    13370.77     13.38742
Medicare    TNF                   Cancer                      Solid Cancer                                   4937        423     12633.7     33.48187
Medicare    TNF                   Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4937        238    13101.78     18.16547
Medicare    TNF                   Cardiac disease             Conduction Block                               4937        246    13181.56     18.66243
Medicare    TNF                   Cardiac disease             Myocardial infarction                          4937         93    13461.63     6.908522
Medicare    TNF                   Infection                   Hospitalized infection                         4937       1021    11638.36     87.72716
Medicare    TNF                   Infection                   Opportunistic infection                        4937        225     13194.3     17.05281
Medicare    TNF                   Inflammatory bowel disease  Crohn’s Disease                                4937        444    12421.02     35.74585
Medicare    TNF                   Inflammatory bowel disease  Ulcerative Colitis                             4937        254    12935.27     19.63623
Medicare    TNF                   Kidney disease              Amyloidosis                                    4937          8    13594.72     0.588464
Medicare    TNF                   Kidney disease              IgA nephropathy                                4937         21    13568.89     1.547658
Medicare    TNF                   Kidney disease              Nephrotic syndrome                             4937         19    13580.96     1.399017
Medicare    TNF                   Lung disease                Apical Pulmonary fibrosis                      4937          0    13615.52            0
Medicare    TNF                   Lung disease                Interstitial lung disease                      4937         53    13500.41     3.925807
Medicare    TNF                   Lung disease                Restrictive lung disease                       4937        260    13059.11     19.90947
Medicare    TNF                   Neurological Disease        Cauda Equina syndrome                          4937         12    13585.66     0.883284
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                             17:55 Tuesday, September 19, 2017   6

                                                                                                                                  person    incidence
database    exposure              Disease Category            Disease                                           n  incidence       Years    Per1000PY
-----------------------------------------------------------------------------------------------------------------------------------------------------
Medicare    TNF                   Neurological Disease        Spinal Cord compression                        4937         27    13566.02     1.990267
Medicare    TNF                   Osteoporotic fracture       Clinical vertebral fracture                    4937        228    13167.37     17.31553
Medicare    TNF                   Osteoporotic fracture       Non-vertebral osteoporotic fracture            4937        331    12893.11     25.67262
Medicare    TNF                   PsO/PsA                     Psoriasis                                      4937        443    12579.04     35.21732
Medicare    TNF                   PsO/PsA                     Psoriatic arthritis                            4937        561    12248.19     45.80267
Medicare    TNF                   Uveitis                     Uveitis                                        4937        460    12482.77     36.85079
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
327        
328        quit;
NOTE: The PROCEDURE SQL printed pages 3-6.
NOTE: PROCEDURE SQL used (Total process time):
      real time           4.81 seconds
      cpu time            6.14 seconds
7                                                                   The SAS System                                   17:55 Tuesday, September 19, 2017

      

329        
330        
331        proc export
332          data = Work.incidence
333          outfile = "data\processed\&cmt..csv"
334          dbms = csv
335          replace;
336          delimiter = ",";
337        run;

338         /**********************************************************************
339         *   PRODUCT:   SAS
340         *   VERSION:   9.4
341         *   CREATOR:   External File Interface
342         *   DATE:      19SEP17
343         *   DESC:      Generated SAS Datastep Code
344         *   TEMPLATE SOURCE:  (None Specified.)
345         ***********************************************************************/
346            data _null_;
347            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
348            %let _EFIREC_ = 0;     /* clear export record count macro variable */
349            file 'data\processed\queryIncidenceOutcomes.csv' delimiter=',' DSD DROPOVER lrecl=32767;
350            if _n_ = 1 then        /* write column names or labels */
351             do;
352               put
353                  "database"
354               ','
355                  "exposure"
356               ','
357                  "outcomeCategory"
358               ','
359                  "Disease"
360               ','
361                  "n"
362               ','
363                  "incidence"
364               ','
365                  "personYears"
366               ','
367                  "incidencePer1000PY"
368               ;
369             end;
370           set  WORK.INCIDENCE   end=EFIEOD;
371               format database $10. ;
372               format exposure $20. ;
373               format outcomeCategory $26. ;
374               format Disease $41. ;
375               format n best12. ;
376               format incidence best12. ;
377               format personYears best12. ;
378               format incidencePer1000PY best12. ;
379             do;
380               EFIOUT + 1;
381               put database $ @;
382               put exposure $ @;
383               put outcomeCategory $ @;
384               put Disease $ @;
385               put n @;
386               put incidence @;
387               put personYears @;
388               put incidencePer1000PY ;
389               ;
390             end;
391            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
392            if EFIEOD then call symputx('_EFIREC_',EFIOUT);
393            run;

NOTE: The file 'data\processed\queryIncidenceOutcomes.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\queryIncidenceOutcomes.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
8                                                                   The SAS System                                   17:55 Tuesday, September 19, 2017

      Last Modified=19Sep2017:17:56:23,
      Create Time=19Sep2017:17:56:23

NOTE: 208 records were written to the file 'data\processed\queryIncidenceOutcomes.csv'.
      The minimum record length was 57.
      The maximum record length was 124.
NOTE: There were 207 observations read from the data set WORK.INCIDENCE.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

207 records created in data\processed\queryIncidenceOutcomes.csv from WORK.INCIDENCE.
  
  
NOTE: "data\processed\queryIncidenceOutcomes.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.12 seconds
      cpu time            0.06 seconds
      

394        
395        
396        ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           1:11.17
      cpu time            17.06 seconds
      
