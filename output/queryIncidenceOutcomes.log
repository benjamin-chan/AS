1                                                          The SAS System                               10:33 Thursday, May 24, 2018

NOTE: Unable to open SASUSER.REGSTRY. WORK.REGSTRY will be opened instead.
NOTE: All registry changes will be lost at the end of the session.

WARNING: Unable to copy SASUSER registry to WORK registry. Because of this, you will not see registry customizations during this 
         session.
NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M5) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70086550.
NOTE: This session is executing on the X64_DS08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 14.3
      SAS/ETS 14.3
      SAS/IML 14.3
      SAS/QC 14.3

NOTE: Additional host information:

 X64_DS08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any 
of the shared folders.

 


NOTE: SAS initialization used:
      real time           5.11 seconds
      cpu time            0.38 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                            *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=queryIncidenceOutcomes; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref UCB64 was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB64\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
NOTE: Libref NDC was successfully assigned as follows: 
      Engine:        V9 
2                                                                   The SAS System                                        10:33 Thursday, May 24, 2018

      Physical Name: W:\onenote\references\drug ndcs\sas data
143        footnote "&pgm.";
144        * footnote2 "%sysfunc(datetime(),datetime14.)";
145        title1 '--- AS project ---';
146        **********************************************************************;
147        options macrogen mlogic mprint symbolgen;
148        options nomacrogen nomlogic nomprint nosymbolgen;
149        
150        
151        ods html
152          body = "output\&cmt..html"
153          style = Statistical;
NOTE: Writing HTML Body file: output\queryIncidenceOutcomes.html
154        
155        
156        /*
157        See the *Compact Outcome Definition* worksheet in `AS Project Cohort Outcome Codebook-20170410.xlsx`
158         */
159        
160        
161        /*
162        From: Xie, Fenglong [mailto:fenglongxie@uabmc.edu]
163        Sent: Wednesday, May 17, 2017 7:03 AM
164        To: Benjamin Chan <chanb@ohsu.edu>
165        Subject: RE: AS project data
166        
167        Hi, Ben
168        
169        The data are stored at UCB library defined as below email.
170        
171        Attached please find the cohort list.
172        
173        No exclusion was done except excluded for higher level exposure in six month
174        baseline.
175        
176        You need to do appropriate censor (such as censor for discontinues of
177        exposure, switch to same level or higher lever exposure ...).
178        
179        If you have question, please let me know.
180         */
181        
182        
183        /*
184        Call interstitial lung disease macro
185         */
186        %include "lib\IPP_2IPSOPplusPX_ILD.sas" / source2;
NOTE: %INCLUDE (level 1) file lib\IPP_2IPSOPplusPX_ILD.sas is file U:\studies\AS\pgms\bchan\lib\IPP_2IPSOPplusPX_ILD.sas.
187       +/*
188       +Interstitial lung disease;
189       +1)  One or more diagnosis codes for ILD from primary discharge
190       +Or
191       +2)  (Two or more diagnosis codes for ILD from secondary discharge or physician EMM ) plus one or more diagnosis tests within 90 days prior
191      !+to (inclusive) one of the diagnosis code for ILD
192       +*/
193       +%macro IPP_2IPSOPplusPX_ILD(outdata=,ids=,Dxs=, Pxs=);
194       +*DXs=diagnosis code in followup, Pxs=CPT code in follow up;
195       +*do not name outData as IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
196       +
197       +data IPPILD dxIPSILD dxOPILD;
198       +set &dxs();
199       +length dx1_date 4;
200       +format dx1_date mmddyy10.;
201       +dx1_date=min(ADMIT_DATE,  BEGIN_DATE);
202       +
203       +if dx in :('515','51630','51631','51632','51633','51634','51635','51636','51637',
204       +           '5164','5165','5166','5168','5169','71481');
205       +
206       +if enc_type='IP' and pdx='P'
207       +    then output IPPILD;
208       +if enc_type='IP' and pdx ne 'P'
209       +    then output dxIPSILD;
210       +if enc_type not in ('IP','IF', 'OT', " ")
3                                                                   The SAS System                                        10:33 Thursday, May 24, 2018

211       +    then output dxOPILD;
212       +run;
213       +
214       +data dxIPSOPILD; *ILD from secondary discharge or physician EMM;
215       +set dxIPSILD dxOPILD;
216       +run;
217       +
218       +data pxILD; *diagnosis tests;
219       +set &pxs();
220       +if (px_type='09' and px in ('8741','8742')) or
221       +   (px_type='C1' and px in ('71250','71260','71270','71275','31625','31628',
222       +                             '31629','31632','31633','32095','32096','32097',
223       +                             '32098','32400','32405','32604','32606','32607',
224       +                             '32608','32609'));
225       +run;
226       +proc sort data=pxILD nodupkey; by &IDS px_date;run; * drop duplicate PX date and keep only one;
227       +
228       +proc sql;
229       +/*one or more diagnosis tests within 90 days prior to (inclusive) one of the diagnosis code for ILD*/
230       +create table dxpxIPSOPILD as
231       +select a.* , b.px_date
232       +from dxIPSOPILD as a
233       +    ,
234       +     pxILD as b
235       +where a.&IDS=b.&IDS and
236       +      min(b.ADMIT_DATE, b.BEGIN_DATE)-90<=b.px_date<=min(b.ADMIT_DATE, b.BEGIN_DATE);
237       +
238       +/* sencond DX code */
239       +create table IPSOPILD as
240       +select a.*, min(b.ADMIT_DATE, b.BEGIN_DATE) as DX2_date length=4 format mmddyy10.
241       +from dxpxIPSOPILD as a
242       +    ,
243       +     dxIPSOPILD(drop=dx1_date) as b
244       +where a.patid=b.patid and
245       +      (a.ADMIT_DATE ne b.ADMIT_DATE and a.BEGIN_DATE ne b.BEGIN_DATE)
246       +order by &IDS,ADMIT_DATE, BEGIN_DATE;
247       +quit;
248       +
249       +
250       +data &outData;
251       +set IPPILD IPSOPILD;
252       +length outcome $20 outcome_date outcome_start_date 4;
253       +format outcome_date outcome_start_date mmddyy10.;
254       +outcome="ILD";
255       +outcome_date=max(dx1_date, dx2_date, px_date);
256       +outcome_start_date=min(dx1_date, dx2_date, px_date);
257       +drop ADMIT_DATE BEGIN_DATE DISCHARGE_DATE END_DATE;
258       +run;
259       +
260       +proc sort data=&outData;
261       +by &IDS outcome_date descending outcome_start_date descending Enc_type;
262       +run;
263       +
264       +data &outData;
265       +set &outData;
266       +by &IDS outcome_date descending outcome_start_date;
267       +if first.outcome_date;
268       +run;
269       +
270       +proc datasets nolist;
271       +delete IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
272       +quit;run;
273       +%mend IPP_2IPSOPplusPX_ILD;
NOTE: %INCLUDE (level 1) ending.
274        %IPP_2IPSOPplusPX_ILD(outdata = Work.outcome_ILD_All,
275                              IDS = exposureID,
276                              Dxs = UCB64.tempIncDxAll,
277                              Pxs = UCB64.tempIncPxAll);

NOTE: There were 1935016 observations read from the data set UCB64.TEMPINCDXALL.
NOTE: The data set WORK.IPPILD has 26 observations and 24 variables.
NOTE: The data set WORK.DXIPSILD has 280 observations and 24 variables.
4                                                                   The SAS System                                        10:33 Thursday, May 24, 2018

NOTE: The data set WORK.DXOPILD has 1426 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           1.13 seconds
      cpu time            0.98 seconds
      


NOTE: There were 280 observations read from the data set WORK.DXIPSILD.
NOTE: There were 1426 observations read from the data set WORK.DXOPILD.
NOTE: The data set WORK.DXIPSOPILD has 1706 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      


NOTE: There were 2681309 observations read from the data set UCB64.TEMPINCPXALL.
NOTE: The data set WORK.PXILD has 5058 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.82 seconds
      cpu time            0.79 seconds
      


NOTE: There were 5058 observations read from the data set WORK.PXILD.
NOTE: 454 observations with duplicate key values were deleted.
NOTE: The data set WORK.PXILD has 4604 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

NOTE: Table WORK.DXPXIPSOPILD created, with 5981 rows and 25 columns.

NOTE: Table WORK.IPSOPILD created, with 150381 rows and 26 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.60 seconds
      cpu time            0.56 seconds
      


NOTE: There were 26 observations read from the data set WORK.IPPILD.
NOTE: There were 150381 observations read from the data set WORK.IPSOPILD.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 150407 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.21 seconds
      cpu time            0.20 seconds
      


NOTE: There were 150407 observations read from the data set WORK.OUTCOME_ILD_ALL.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 150407 observations and 25 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.40 seconds
      cpu time            0.62 seconds
      


NOTE: There were 150407 observations read from the data set WORK.OUTCOME_ILD_ALL.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 633 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.07 seconds
      


NOTE: Deleting WORK.IPPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSILD (memtype=DATA).
NOTE: Deleting WORK.DXOPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.PXILD (memtype=DATA).
5                                                                   The SAS System                                        10:33 Thursday, May 24, 2018

NOTE: Deleting WORK.DXPXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.IPSOPILD (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.12 seconds
      cpu time            0.06 seconds
      

278        proc sql;
279          create table Work.ILD as
280            select database,
281                   exposure,
282                   patid,
283                   exposureStart,
284                   exposureEnd,
285                   exposureID,
286                   "Lung disease" as outcomeCategory,
287                   "Interstitial lung disease" as disease,
288                   outcome_start_date as begin_date
289            from Work.outcome_ILD_All;
NOTE: Table WORK.ILD created, with 633 rows and 9 columns.

290          select database, exposure, disease, count(distinct exposureID) as n
291            from Work.ILD
292            group by database, exposure, disease;
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018   1

                                             database    exposure     disease                           n
                                             ------------------------------------------------------------
                                             Marketscan  DMARD        Interstitial lung disease         2
                                             Marketscan  TNF          Interstitial lung disease         4
                                             Medicare    DMARD        Interstitial lung disease        23
                                             Medicare    NSAID        Interstitial lung disease        18
                                             Medicare    No exposure  Interstitial lung disease        11
                                             Medicare    TNF          Interstitial lung disease        26
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
293        quit;
NOTE: The PROCEDURE SQL printed page 1.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.35 seconds
      cpu time            0.04 seconds
      

294        
295        
296        /*
297        Process fracture episodes data set
298         */
299        proc sql;
300          create table Work.fractures as
301            select database,
302                   exposure,
303                   patid,
304                   exposureStart,
305                   exposureEnd,
306                   exposureID,
307                   "Osteoporotic fracture" as outcomeCategory,
308                   fractureType as disease,
309                   fractureEpisodeStart as begin_date
310            from DT.fractureEpisodesInc
311            where ^missing(fractureType);
NOTE: Table WORK.FRACTURES created, with 1677 rows and 9 columns.

312          select database, exposure, disease, count(distinct exposureID) as n
313            from Work.fractures
314            group by database, exposure, disease;
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018   2

                                        database    exposure     disease                                     n
                                        ----------------------------------------------------------------------
                                        MPCD        DMARD        Non-vertebral osteoporotic fracture         2
                                        MPCD        NSAID        Non-vertebral osteoporotic fracture         6
                                        MPCD        No exposure  Clinical vertebral fracture                10
                                        MPCD        No exposure  Non-vertebral osteoporotic fracture        18
                                        MPCD        TNF          Clinical vertebral fracture                 8
                                        MPCD        TNF          Non-vertebral osteoporotic fracture        10
                                        Marketscan  DMARD        Clinical vertebral fracture                 2
                                        Marketscan  DMARD        Non-vertebral osteoporotic fracture         8
                                        Marketscan  NSAID        Clinical vertebral fracture                13
                                        Marketscan  NSAID        Non-vertebral osteoporotic fracture        15
                                        Marketscan  No exposure  Clinical vertebral fracture                12
                                        Marketscan  No exposure  Non-vertebral osteoporotic fracture        17
                                        Marketscan  TNF          Clinical vertebral fracture                15
                                        Marketscan  TNF          Non-vertebral osteoporotic fracture        48
                                        Medicare    DMARD        Clinical vertebral fracture                59
                                        Medicare    DMARD        Non-vertebral osteoporotic fracture       101
                                        Medicare    NSAID        Clinical vertebral fracture               151
                                        Medicare    NSAID        Non-vertebral osteoporotic fracture       181
                                        Medicare    No exposure  Clinical vertebral fracture               100
                                        Medicare    No exposure  Non-vertebral osteoporotic fracture       121
                                        Medicare    TNF          Clinical vertebral fracture               124
                                        Medicare    TNF          Non-vertebral osteoporotic fracture       151
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
315        quit;
NOTE: The PROCEDURE SQL printed page 2.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.15 seconds
      cpu time            0.04 seconds
      

316        
317        
318        /*
319        Process hospitalized infection data set
320         */
321        proc sql;
322          create table Work.hospInf as
323            select database,
324                   exposure,
325                   patid,
326                   exposureStart,
6                                                                   The SAS System                                        10:33 Thursday, May 24, 2018

327                   exposureEnd,
328                   exposureID,
329                   "Infection" as outcomeCategory,
330                   "Hospitalized infection" as disease,
331                   outcome_start_date as begin_date
332            from DT.hospitalizedInfectionEpisodesInc;
NOTE: Table WORK.HOSPINF created, with 5205 rows and 9 columns.

333          select database, exposure, disease, count(distinct exposureID) as n
334            from Work.hospInf
335            group by database, exposure, disease;
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018   3

                                              database    exposure     disease                        n
                                              ---------------------------------------------------------
                                              MPCD        DMARD        Hospitalized infection         1
                                              MPCD        NSAID        Hospitalized infection         3
                                              MPCD        No exposure  Hospitalized infection        20
                                              MPCD        TNF          Hospitalized infection        23
                                              Marketscan  DMARD        Hospitalized infection        42
                                              Marketscan  NSAID        Hospitalized infection        72
                                              Marketscan  No exposure  Hospitalized infection        74
                                              Marketscan  TNF          Hospitalized infection       211
                                              Medicare    DMARD        Hospitalized infection       311
                                              Medicare    NSAID        Hospitalized infection       677
                                              Medicare    No exposure  Hospitalized infection       396
                                              Medicare    TNF          Hospitalized infection       619
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
336        quit;
NOTE: The PROCEDURE SQL printed page 3.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.13 seconds
      cpu time            0.10 seconds
      

337        
338        
339        /*
340        Process opportunistic infection data set
341         */
342        proc sql;
343          create table Work.oppInf as
344            select database,
345                   exposure,
346                   patid,
347                   exposureStart,
348                   exposureEnd,
349                   exposureID,
350                   "Infection" as outcomeCategory,
351                   "Opportunistic infection" as disease,
352                   outcome_start_date as begin_date
353            from DT.opportunInfectionEpisodesInc;
NOTE: Table WORK.OPPINF created, with 5993 rows and 9 columns.

354          select database, exposure, disease, count(distinct exposureID) as n
355            from Work.oppInf
356            group by database, exposure, disease;
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018   4

                                              database    exposure     disease                         n
                                              ----------------------------------------------------------
                                              MPCD        DMARD        Opportunistic infection         6
                                              MPCD        NSAID        Opportunistic infection        10
                                              MPCD        No exposure  Opportunistic infection        15
                                              MPCD        TNF          Opportunistic infection        21
                                              Marketscan  DMARD        Opportunistic infection        39
                                              Marketscan  NSAID        Opportunistic infection        56
                                              Marketscan  No exposure  Opportunistic infection        69
                                              Marketscan  TNF          Opportunistic infection       118
                                              Medicare    DMARD        Opportunistic infection       292
                                              Medicare    NSAID        Opportunistic infection       580
                                              Medicare    No exposure  Opportunistic infection       573
                                              Medicare    TNF          Opportunistic infection       364
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
357        quit;
NOTE: The PROCEDURE SQL printed page 4.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.17 seconds
      cpu time            0.12 seconds
      

358        
359        
360        /*
361        Query for incident MI
362        
363        * Requires at least a 1-day inpatient admission
364         */
365        proc sql;
366          create table Work.incidentMI as
367            select C.database, C.exposureID, C.patid, C.exposure, C.exposureStart, C.exposureEnd,
368                   C.outcomeCategory,
369                   C.disease,
370                   C.begin_date
371            from (select A.*, B.outcomeCategory, B.disease
372                  from UCB64.tempIncDxAll A inner join
373                       (select * from DT.defOutcomes where disease = "Myocardial infarction") B on (A.codeType = B.codeType & A.code = B.code)
374                  where B.disease = "Myocardial infarction"  &
375                        A.enc_type = "IP" &
376                        . < A.admit_date < A.discharge_date) C
377            order by C.database, C.exposureID, C.outcomeCategory, C.disease, C.begin_date;
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Table WORK.INCIDENTMI created, with 450 rows and 9 columns.

378        quit;
NOTE: PROCEDURE SQL used (Total process time):
7                                                                   The SAS System                                        10:33 Thursday, May 24, 2018

      real time           0.65 seconds
      cpu time            0.63 seconds
      

379        
380        
381        /*
382        Process the data sets created by the cancer scripts
383         */
384        proc sql;
385          create table Work.cancer as
386            select database,
387                   exposure,
388                   patid,
389                   exposureStart,
390                   exposureEnd,
391                   exposureID,
392                   "Cancer" as outcomeCategory,
393                   cancer as disease,
394                   outcome_start_date as begin_date
395            from (select * from DT.cancerSetoguchiEpisodesInc union corr
396                  select * from DT.cancerNMSCEpisodesInc );
NOTE: Table WORK.CANCER created, with 1654 rows and 9 columns.

397          select database, exposure, disease,
398                 count(distinct patid) as countDistinctPatid,
399                 count(distinct exposureID) as countDistinctEpisodes
400            from Work.cancer
401            group by database, exposure, disease;
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018   5

                                                                                              count         count
                                                                                           Distinct      Distinct
                                    database    exposure     disease                          Patid      Episodes
                                    -----------------------------------------------------------------------------
                                    MPCD        DMARD        Non Melanoma Skin Cancer             2             2
                                    MPCD        DMARD        Solid Cancer                         2             2
                                    MPCD        NSAID        Solid Cancer                         2             2
                                    MPCD        No exposure  Hematologic Cancer                   2             2
                                    MPCD        No exposure  Non Melanoma Skin Cancer            10            10
                                    MPCD        No exposure  Solid Cancer                         9             9
                                    MPCD        TNF          Hematologic Cancer                   2             2
                                    MPCD        TNF          Non Melanoma Skin Cancer            12            12
                                    MPCD        TNF          Solid Cancer                         4             4
                                    Marketscan  DMARD        Hematologic Cancer                   1             1
                                    Marketscan  DMARD        Non Melanoma Skin Cancer             8             8
                                    Marketscan  DMARD        Solid Cancer                        11            11
                                    Marketscan  NSAID        Hematologic Cancer                   1             1
                                    Marketscan  NSAID        Non Melanoma Skin Cancer            10            10
                                    Marketscan  NSAID        Solid Cancer                        20            20
                                    Marketscan  No exposure  Hematologic Cancer                   3             3
                                    Marketscan  No exposure  Non Melanoma Skin Cancer             9             9
                                    Marketscan  No exposure  Solid Cancer                        17            17
                                    Marketscan  TNF          Hematologic Cancer                   4             4
                                    Marketscan  TNF          Non Melanoma Skin Cancer            24            24
                                    Marketscan  TNF          Solid Cancer                        24            24
                                    Medicare    DMARD        Hematologic Cancer                  10            10
                                    Medicare    DMARD        Non Melanoma Skin Cancer            49            53
                                    Medicare    DMARD        Solid Cancer                        80            82
                                    Medicare    NSAID        Hematologic Cancer                  22            22
                                    Medicare    NSAID        Non Melanoma Skin Cancer           124           136
                                    Medicare    NSAID        Solid Cancer                       138           139
                                    Medicare    No exposure  Hematologic Cancer                  15            15
                                    Medicare    No exposure  Non Melanoma Skin Cancer           106           106
                                    Medicare    No exposure  Solid Cancer                       120           120
                                    Medicare    TNF          Hematologic Cancer                  19            19
                                    Medicare    TNF          Non Melanoma Skin Cancer           106           108
                                    Medicare    TNF          Solid Cancer                        92            92
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
402        quit;
NOTE: The PROCEDURE SQL printed page 5.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.18 seconds
      cpu time            0.04 seconds
      

403        
404        
405        proc sql;
406        
407          create table Work.defOutcomes as
408            select *
409            from DT.defOutcomes
410            where disease ^in ("Interstitial lung disease",
411                               "Myocardial infarction",
412                               "Hospitalized infection",
413                               "Opportunistic infection");
NOTE: Table WORK.DEFOUTCOMES created, with 750 rows and 6 columns.

414          create table Work.lookupDisease as
415            select distinct outcomeCategory, disease
416            from DT.defOutcomes;
NOTE: Table WORK.LOOKUPDISEASE created, with 21 rows and 2 columns.

417          insert into Work.lookupDisease (outcomeCategory, disease)
418            values ("Osteoporotic fracture", "Clinical vertebral fracture")
419            values ("Osteoporotic fracture", "Non-vertebral osteoporotic fracture");
NOTE: 2 rows were inserted into WORK.LOOKUPDISEASE.

420        
421          %let select1 = select A.*, B.outcomeCategory, B.disease;
422          %let join1 = inner join Work.defOutcomes B on (A.codeType = B.codeType & A.code = B.code);
423          create table Work.incidentDisease as
424            select C.database, C.exposureID, C.patid, C.exposure, C.exposureStart, C.exposureEnd,
425                   C.outcomeCategory,
426                   C.disease,
427                   C.begin_date
428            from (&select1 from UCB64.tempIncDxAll A &join1 union corr
429                  &select1 from UCB64.tempIncPxAll A &join1 union corr
430                  select * from Work.cancer union corr
431                  select * from Work.ILD union corr
432                  select * from Work.incidentMI union corr
8                                                                   The SAS System                                        10:33 Thursday, May 24, 2018

433                  select * from Work.hospInf union corr
434                  select * from Work.oppInf  union corr
435                  select * from Work.fractures) C
436            order by C.database, C.exposureID, C.outcomeCategory, C.disease, C.begin_date;
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Table WORK.INCIDENTDISEASE created, with 48017 rows and 9 columns.

437        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           2.30 seconds
      cpu time            3.19 seconds
      

438        
439        /*
440        Take first occurrence of outcome
441         */
442        proc sort data = Work.incidentDisease nodupkey;
443          by database exposureID outcomeCategory disease;
444        run;

NOTE: There were 48017 observations read from the data set WORK.INCIDENTDISEASE.
NOTE: 33304 observations with duplicate key values were deleted.
NOTE: The data set WORK.INCIDENTDISEASE has 14713 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.10 seconds
      cpu time            0.06 seconds
      

445        
446        /*
447        For all but NMSC and infection (hospitalized and opportunistic),
448        keep first incident outcome within patient ID
449         */
450        data Work.incidentDiseaseSubsetA Work.incidentDiseaseSubsetB;
451          set Work.incidentDisease;
452          if disease in ("Non Melanoma Skin Cancer",
453                         "Hospitalized infection") then output Work.incidentDiseaseSubsetA;
454          else output Work.incidentDiseaseSubsetB;
455        run;

NOTE: There were 14713 observations read from the data set WORK.INCIDENTDISEASE.
NOTE: The data set WORK.INCIDENTDISEASESUBSETA has 3000 observations and 9 variables.
NOTE: The data set WORK.INCIDENTDISEASESUBSETB has 11713 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

456        proc sort data = Work.incidentDiseaseSubsetB;
457          by database patid outcomeCategory disease begin_date;
458        run;

NOTE: There were 11713 observations read from the data set WORK.INCIDENTDISEASESUBSETB.
NOTE: The data set WORK.INCIDENTDISEASESUBSETB has 11713 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

459        proc sort data = Work.incidentDiseaseSubsetB nodupkey;
460          by database patid outcomeCategory disease;
461        run;

NOTE: There were 11713 observations read from the data set WORK.INCIDENTDISEASESUBSETB.
NOTE: 1622 observations with duplicate key values were deleted.
NOTE: The data set WORK.INCIDENTDISEASESUBSETB has 10091 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      
9                                                                   The SAS System                                        10:33 Thursday, May 24, 2018


462        proc sql;
463          create table Work.incidentDisease as
464            select * from Work.incidentDiseaseSubsetA union corr
465            select * from Work.incidentDiseaseSubsetB ;
NOTE: Table WORK.INCIDENTDISEASE created, with 13091 rows and 9 columns.

466        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.18 seconds
      cpu time            0.23 seconds
      

467        
468        
469        /*
470        Join incident disease outcomes to exposure timelines
471        Summarize
472         */
473        proc sql;
474          create table DT.incidentDiseaseTimelines as
475            select A.*,
476                   D.begin_date format = mmddyy10. as outcomeDate,
477                   F.earliestOutcome,
478                   case
479                     when ^missing(D.begin_date) & missing(F.earliestOutcome) then 0
480                     when ^missing(D.begin_date) & A.exposureStart <= F.earliestOutcome <= A.exposureEnd then 0
481                     when . < F.earliestOutcome < A.exposureStart then 1
482                     when missing(D.begin_date) then 1
483                     else .
484                     end as censor,
485                   case
486                     when ^missing(D.begin_date) & missing(F.earliestOutcome) then D.begin_date - A.exposureStart + 1
487                     when ^missing(D.begin_date) & A.exposureStart <= F.earliestOutcome <= A.exposureEnd then D.begin_date - A.exposureStart + 1
488                     when . < F.earliestOutcome < A.exposureStart then 0
489                     when missing(D.begin_date) then daysExposed
490                     else .
491                     end as daysAtRisk
492            from (select B.*, C.*
493                  from DT.exposureTimeline B,
494                       Work.lookupDisease C) A left join
495                 Work.incidentDisease D on (A.database = D.database &
496                                            A.patid = D.patid &
497                                            A.exposure = D.exposure &
498                                            A.exposureStart = D.exposureStart &
499                                            A.outcomeCategory = D.outcomeCategory &
500                                            A.disease = D.disease) left join
501                 (select E.database, E.patid, E.outcomeCategory, E.disease,
502                         min(E.begin_date) format = mmddyy10. as earliestOutcome
503                  from Work.incidentDisease E
504                  where E.disease ^in ("Non Melanoma Skin Cancer",
505                                       "Hospitalized infection")
506                  group by E.database, E.patid, E.outcomeCategory, E.disease) F on (A.database = F.database &
507                                                                                    A.patid = F.patid &
508                                                                                    A.outcomeCategory = F.outcomeCategory &
509                                                                                    A.disease = F.disease)
510            order by A.database, A.patid, A.outcomeCategory, A.disease, A.exposureStart;
NOTE: The execution of this query involves performing one or more Cartesian product joins that can not be optimized.
NOTE: Table DT.INCIDENTDISEASETIMELINES created, with 482006 rows and 17 columns.

511          create table Work.incidence as
512            select database, exposure, outcomeCategory, disease,
513                   count(distinct exposureID) as n,
514                   sum(censor = 0) as incidence,
515                   sum(daysAtRisk) / 365.25 as personYears,
516                   100 as scale,
517                   sum(censor = 0) / (sum(daysAtRisk) / 365.25) * calculated scale as incidenceRate
518            from DT.incidentDiseaseTimelines
519            group by database, exposure, outcomeCategory, disease;
NOTE: Table WORK.INCIDENCE created, with 276 rows and 9 columns.

520          select * from Work.incidence;
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018   6

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        DMARD        Cancer                      Hematologic Cancer                              165          1    155.4661       100     0.643227
MPCD        DMARD        Cancer                      Non Melanoma Skin Cancer                        165          2    155.5619       100     1.285661
MPCD        DMARD        Cancer                      Solid Cancer                                    165          4    152.2546       100     2.627178
MPCD        DMARD        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       165          1    156.4107       100     0.639343
MPCD        DMARD        Cardiac disease             Conduction Block                                165          0     156.616       100            0
MPCD        DMARD        Cardiac disease             Myocardial infarction                           165          0     156.616       100            0
MPCD        DMARD        Infection                   Hospitalized infection                          165          1    155.8631       100     0.641589
MPCD        DMARD        Infection                   Opportunistic infection                         165          3    151.9151       100     1.974787
MPCD        DMARD        Inflammatory bowel disease  Crohn’s Disease                                 165          5    149.2019       100     3.351163
MPCD        DMARD        Inflammatory bowel disease  Ulcerative Colitis                              165          0     156.616       100            0
MPCD        DMARD        Kidney disease              Amyloidosis                                     165          0     156.616       100            0
MPCD        DMARD        Kidney disease              IgA nephropathy                                 165          0     156.616       100            0
MPCD        DMARD        Kidney disease              Nephrotic syndrome                              165          0     156.616       100            0
MPCD        DMARD        Lung disease                Apical Pulmonary fibrosis                       165          0     156.616       100            0
MPCD        DMARD        Lung disease                Interstitial lung disease                       165          0     156.616       100            0
MPCD        DMARD        Lung disease                Restrictive lung disease                        165          0     156.616       100            0
MPCD        DMARD        Neurological Disease        Cauda Equina syndrome                           165          0     156.616       100            0
MPCD        DMARD        Neurological Disease        Spinal Cord compression                         165          0     156.616       100            0
MPCD        DMARD        Osteoporotic fracture       Clinical vertebral fracture                     165          0    154.7926       100            0
MPCD        DMARD        Osteoporotic fracture       Non-vertebral osteoporotic fracture             165          2     155.603       100     1.285322
MPCD        DMARD        PsO/PsA                     Psoriasis                                       165          1    155.1485       100     0.644544
MPCD        DMARD        PsO/PsA                     Psoriatic arthritis                             165          3    152.9062       100     1.961987
MPCD        DMARD        Uveitis                     Uveitis                                         165         10    140.3368       100     7.125717
MPCD        NSAID        Cancer                      Hematologic Cancer                              355          0    294.6831       100            0
MPCD        NSAID        Cancer                      Non Melanoma Skin Cancer                        355          0    294.6831       100            0
MPCD        NSAID        Cancer                      Solid Cancer                                    355          7    286.6995       100     2.441581
MPCD        NSAID        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       355          1     292.219       100     0.342209
MPCD        NSAID        Cardiac disease             Conduction Block                                355          1    291.9535       100      0.34252
MPCD        NSAID        Cardiac disease             Myocardial infarction                           355          0    294.6831       100            0
MPCD        NSAID        Infection                   Hospitalized infection                          355          3    292.8323       100     1.024477
MPCD        NSAID        Infection                   Opportunistic infection                         355          1      291.05       100     0.343584
MPCD        NSAID        Inflammatory bowel disease  Crohn’s Disease                                 355          4    289.0705       100     1.383745
MPCD        NSAID        Inflammatory bowel disease  Ulcerative Colitis                              355          2    293.5825       100      0.68124
MPCD        NSAID        Kidney disease              Amyloidosis                                     355          0    294.6831       100            0
MPCD        NSAID        Kidney disease              IgA nephropathy                                 355          1    294.3162       100     0.339771
MPCD        NSAID        Kidney disease              Nephrotic syndrome                              355          0    294.6831       100            0
MPCD        NSAID        Lung disease                Apical Pulmonary fibrosis                       355          0    294.6831       100            0
MPCD        NSAID        Lung disease                Interstitial lung disease                       355          0    294.6831       100            0
MPCD        NSAID        Lung disease                Restrictive lung disease                        355          5    291.9781       100     1.712457
MPCD        NSAID        Neurological Disease        Cauda Equina syndrome                           355          0    294.6831       100            0
MPCD        NSAID        Neurological Disease        Spinal Cord compression                         355          1    293.6975       100     0.340486
MPCD        NSAID        Osteoporotic fracture       Clinical vertebral fracture                     355          0    294.6831       100            0
MPCD        NSAID        Osteoporotic fracture       Non-vertebral osteoporotic fracture             355          6    290.1109       100     2.068175
MPCD        NSAID        PsO/PsA                     Psoriasis                                       355          2    291.4059       100     0.686328
MPCD        NSAID        PsO/PsA                     Psoriatic arthritis                             355          2    292.9418       100     0.682729
MPCD        NSAID        Uveitis                     Uveitis                                         355         15    275.9343       100     5.436077
MPCD        No exposure  Cancer                      Hematologic Cancer                              512          4    631.6687       100     0.633243
MPCD        No exposure  Cancer                      Non Melanoma Skin Cancer                        512         10    624.9199       100     1.600205
MPCD        No exposure  Cancer                      Solid Cancer                                    512         34    597.1143       100     5.694052
MPCD        No exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       512         12    615.1102       100      1.95087
MPCD        No exposure  Cardiac disease             Conduction Block                                512          8    628.2656       100     1.273347
MPCD        No exposure  Cardiac disease             Myocardial infarction                           512          2    631.2005       100     0.316857
MPCD        No exposure  Infection                   Hospitalized infection                          512         20    616.8104       100     3.242487
MPCD        No exposure  Infection                   Opportunistic infection                         512          1    635.1622       100      0.15744
MPCD        No exposure  Inflammatory bowel disease  Crohn’s Disease                                 512         15    619.1759       100     2.422575
MPCD        No exposure  Inflammatory bowel disease  Ulcerative Colitis                              512          7    626.8008       100     1.116782
MPCD        No exposure  Kidney disease              Amyloidosis                                     512          3    634.6804       100     0.472679
MPCD        No exposure  Kidney disease              IgA nephropathy                                 512          1    634.2861       100     0.157658
MPCD        No exposure  Kidney disease              Nephrotic syndrome                              512          0    635.8823       100            0
MPCD        No exposure  Lung disease                Apical Pulmonary fibrosis                       512          1    635.1622       100      0.15744
MPCD        No exposure  Lung disease                Interstitial lung disease                       512          0    635.8823       100            0
MPCD        No exposure  Lung disease                Restrictive lung disease                        512          7    630.2368       100     1.110694
MPCD        No exposure  Neurological Disease        Cauda Equina syndrome                           512          1    635.2936       100     0.157408
MPCD        No exposure  Neurological Disease        Spinal Cord compression                         512          0    635.8823       100            0
MPCD        No exposure  Osteoporotic fracture       Clinical vertebral fracture                     512         10    624.4189       100     1.601489
MPCD        No exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture             512         18    618.0999       100      2.91215
MPCD        No exposure  PsO/PsA                     Psoriasis                                       512         10    625.2047       100     1.599476
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018   7

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        No exposure  PsO/PsA                     Psoriatic arthritis                             512         14    622.1547       100     2.250244
MPCD        No exposure  Uveitis                     Uveitis                                         512         38     594.026       100     6.397026
MPCD        TNF          Cancer                      Hematologic Cancer                              670          2    768.0137       100     0.260412
MPCD        TNF          Cancer                      Non Melanoma Skin Cancer                        670         12    756.5476       100     1.586153
MPCD        TNF          Cancer                      Solid Cancer                                    670         15    750.8118       100     1.997838
MPCD        TNF          Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       670          9    763.0116       100     1.179536
MPCD        TNF          Cardiac disease             Conduction Block                                670          3    770.3874       100     0.389414
MPCD        TNF          Cardiac disease             Myocardial infarction                           670          3     767.447       100     0.390906
MPCD        TNF          Infection                   Hospitalized infection                          670         23    749.8426       100     3.067311
MPCD        TNF          Infection                   Opportunistic infection                         670          8    765.0185       100     1.045726
MPCD        TNF          Inflammatory bowel disease  Crohn’s Disease                                 670         28    734.0698       100     3.814351
MPCD        TNF          Inflammatory bowel disease  Ulcerative Colitis                              670         14    753.0021       100     1.859225
MPCD        TNF          Kidney disease              Amyloidosis                                     670          0    771.4251       100            0
MPCD        TNF          Kidney disease              IgA nephropathy                                 670          1    770.3518       100     0.129811
MPCD        TNF          Kidney disease              Nephrotic syndrome                              670          2    768.4627       100      0.26026
MPCD        TNF          Lung disease                Apical Pulmonary fibrosis                       670          0    771.4251       100            0
MPCD        TNF          Lung disease                Interstitial lung disease                       670          0    771.4251       100            0
MPCD        TNF          Lung disease                Restrictive lung disease                        670          5    762.8939       100     0.655399
MPCD        TNF          Neurological Disease        Cauda Equina syndrome                           670          0    771.4251       100            0
MPCD        TNF          Neurological Disease        Spinal Cord compression                         670          1    770.6968       100     0.129753
MPCD        TNF          Osteoporotic fracture       Clinical vertebral fracture                     670          8    762.9268       100     1.048593
MPCD        TNF          Osteoporotic fracture       Non-vertebral osteoporotic fracture             670         10    764.6653       100     1.307762
MPCD        TNF          PsO/PsA                     Psoriasis                                       670         22    744.3395       100     2.955641
MPCD        TNF          PsO/PsA                     Psoriatic arthritis                             670         37    724.4025       100     5.107658
MPCD        TNF          Uveitis                     Uveitis                                         670         34    724.3778       100     4.693683
Marketscan  DMARD        Cancer                      Hematologic Cancer                              777          5    716.1615       100     0.698167
Marketscan  DMARD        Cancer                      Non Melanoma Skin Cancer                        777         11    712.6379       100     1.543561
Marketscan  DMARD        Cancer                      Solid Cancer                                    777         27    680.8378       100     3.965702
Marketscan  DMARD        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       777          7    715.7728       100     0.977964
Marketscan  DMARD        Cardiac disease             Conduction Block                                777          5    716.7775       100     0.697566
Marketscan  DMARD        Cardiac disease             Myocardial infarction                           777          1    720.7201       100      0.13875
Marketscan  DMARD        Infection                   Hospitalized infection                          777         42    683.8029       100     6.142121
Marketscan  DMARD        Infection                   Opportunistic infection                         777         16    703.2252       100     2.275231
Marketscan  DMARD        Inflammatory bowel disease  Crohn’s Disease                                 777         18    692.3395       100     2.599881
Marketscan  DMARD        Inflammatory bowel disease  Ulcerative Colitis                              777         12    709.9849       100     1.690177
Marketscan  DMARD        Kidney disease              Amyloidosis                                     777          0    721.4073       100            0
Marketscan  DMARD        Kidney disease              IgA nephropathy                                 777          0    721.4073       100            0
Marketscan  DMARD        Kidney disease              Nephrotic syndrome                              777          1    721.0021       100     0.138696
Marketscan  DMARD        Lung disease                Apical Pulmonary fibrosis                       777          0    721.4073       100            0
Marketscan  DMARD        Lung disease                Interstitial lung disease                       777          1    720.0356       100     0.138882
Marketscan  DMARD        Lung disease                Restrictive lung disease                        777          6    712.4846       100     0.842123
Marketscan  DMARD        Neurological Disease        Cauda Equina syndrome                           777          0    721.4073       100            0
Marketscan  DMARD        Neurological Disease        Spinal Cord compression                         777          1    721.0075       100     0.138695
Marketscan  DMARD        Osteoporotic fracture       Clinical vertebral fracture                     777          2    719.6934       100     0.277896
Marketscan  DMARD        Osteoporotic fracture       Non-vertebral osteoporotic fracture             777          8    713.9001       100     1.120605
Marketscan  DMARD        PsO/PsA                     Psoriasis                                       777         21    703.0582       100     2.986951
Marketscan  DMARD        PsO/PsA                     Psoriatic arthritis                             777         33    693.1225       100     4.761063
Marketscan  DMARD        Uveitis                     Uveitis                                         777         37    683.8494       100     5.410548
Marketscan  NSAID        Cancer                      Hematologic Cancer                             1733          4    1605.336       100     0.249169
Marketscan  NSAID        Cancer                      Non Melanoma Skin Cancer                       1733         11    1597.084       100     0.688755
Marketscan  NSAID        Cancer                      Solid Cancer                                   1733         44     1532.17       100     2.871744
Marketscan  NSAID        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1733         10    1597.826       100      0.62585
Marketscan  NSAID        Cardiac disease             Conduction Block                               1733         21    1582.708       100      1.32684
Marketscan  NSAID        Cardiac disease             Myocardial infarction                          1733          4    1606.193       100     0.249036
Marketscan  NSAID        Infection                   Hospitalized infection                         1733         72    1540.698       100     4.673206
Marketscan  NSAID        Infection                   Opportunistic infection                        1733         20    1578.675       100     1.266885
Marketscan  NSAID        Inflammatory bowel disease  Crohn’s Disease                                1733         17    1571.379       100     1.081853
Marketscan  NSAID        Inflammatory bowel disease  Ulcerative Colitis                             1733         13    1585.322       100     0.820022
Marketscan  NSAID        Kidney disease              Amyloidosis                                    1733          0    1609.101       100            0
Marketscan  NSAID        Kidney disease              IgA nephropathy                                1733          1    1608.066       100     0.062187
Marketscan  NSAID        Kidney disease              Nephrotic syndrome                             1733          1    1606.387       100     0.062251
Marketscan  NSAID        Lung disease                Apical Pulmonary fibrosis                      1733          0    1609.101       100            0
Marketscan  NSAID        Lung disease                Interstitial lung disease                      1733          0    1609.101       100            0
Marketscan  NSAID        Lung disease                Restrictive lung disease                       1733          8    1600.271       100     0.499915
Marketscan  NSAID        Neurological Disease        Cauda Equina syndrome                          1733          0    1609.101       100            0
Marketscan  NSAID        Neurological Disease        Spinal Cord compression                        1733          8    1604.118       100     0.498717
Marketscan  NSAID        Osteoporotic fracture       Clinical vertebral fracture                    1733         13    1593.172       100     0.815982
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018   8

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
Marketscan  NSAID        Osteoporotic fracture       Non-vertebral osteoporotic fracture            1733         15    1584.509       100     0.946665
Marketscan  NSAID        PsO/PsA                     Psoriasis                                      1733         26    1573.142       100     1.652744
Marketscan  NSAID        PsO/PsA                     Psoriatic arthritis                            1733         16    1582.303       100     1.011185
Marketscan  NSAID        Uveitis                     Uveitis                                        1733         75    1494.921       100     5.016987
Marketscan  No exposure  Cancer                      Hematologic Cancer                             1699          9    1591.907       100      0.56536
Marketscan  No exposure  Cancer                      Non Melanoma Skin Cancer                       1699         13    1593.183       100     0.815977
Marketscan  No exposure  Cancer                      Solid Cancer                                   1699         43    1555.444       100     2.764484
Marketscan  No exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1699         14    1585.687       100     0.882898
Marketscan  No exposure  Cardiac disease             Conduction Block                               1699         17    1589.032       100     1.069834
Marketscan  No exposure  Cardiac disease             Myocardial infarction                          1699          3    1602.042       100     0.187261
Marketscan  No exposure  Infection                   Hospitalized infection                         1699         74    1536.616       100     4.815777
Marketscan  No exposure  Infection                   Opportunistic infection                        1699          2    1599.313       100     0.125054
Marketscan  No exposure  Inflammatory bowel disease  Crohn’s Disease                                1699         48    1565.325       100     3.066456
Marketscan  No exposure  Inflammatory bowel disease  Ulcerative Colitis                             1699         31    1574.839       100     1.968455
Marketscan  No exposure  Kidney disease              Amyloidosis                                    1699          0     1603.89       100            0
Marketscan  No exposure  Kidney disease              IgA nephropathy                                1699          2    1603.682       100     0.124713
Marketscan  No exposure  Kidney disease              Nephrotic syndrome                             1699          0     1603.89       100            0
Marketscan  No exposure  Lung disease                Apical Pulmonary fibrosis                      1699          0     1603.89       100            0
Marketscan  No exposure  Lung disease                Interstitial lung disease                      1699          0     1603.89       100            0
Marketscan  No exposure  Lung disease                Restrictive lung disease                       1699         16    1591.491       100     1.005347
Marketscan  No exposure  Neurological Disease        Cauda Equina syndrome                          1699          1    1603.556       100     0.062361
Marketscan  No exposure  Neurological Disease        Spinal Cord compression                        1699          1    1603.217       100     0.062375
Marketscan  No exposure  Osteoporotic fracture       Clinical vertebral fracture                    1699         12    1591.455       100     0.754027
Marketscan  No exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            1699         17      1589.3       100     1.069653
Marketscan  No exposure  PsO/PsA                     Psoriasis                                      1699         35    1574.051       100     2.223563
Marketscan  No exposure  PsO/PsA                     Psoriatic arthritis                            1699         44    1567.778       100     2.806519
Marketscan  No exposure  Uveitis                     Uveitis                                        1699        120    1482.179       100     8.096186
Marketscan  TNF          Cancer                      Hematologic Cancer                             3453          6    4100.556       100     0.146322
Marketscan  TNF          Cancer                      Non Melanoma Skin Cancer                       3453         38    4060.594       100     0.935824
Marketscan  TNF          Cancer                      Solid Cancer                                   3453         67    4008.446       100     1.671471
Marketscan  TNF          Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      3453         27    4070.404       100     0.663325
Marketscan  TNF          Cardiac disease             Conduction Block                               3453         26    4074.787       100      0.63807
Marketscan  TNF          Cardiac disease             Myocardial infarction                          3453          9    4101.161       100      0.21945
Marketscan  TNF          Infection                   Hospitalized infection                         3453        211    3897.106       100     5.414274
Marketscan  TNF          Infection                   Opportunistic infection                        3453         62     4035.08       100     1.536525
Marketscan  TNF          Inflammatory bowel disease  Crohn’s Disease                                3453        139    3926.524       100     3.540026
Marketscan  TNF          Inflammatory bowel disease  Ulcerative Colitis                             3453         83    4008.772       100     2.070459
Marketscan  TNF          Kidney disease              Amyloidosis                                    3453          1    4106.335       100     0.024353
Marketscan  TNF          Kidney disease              IgA nephropathy                                3453          4    4103.127       100     0.097487
Marketscan  TNF          Kidney disease              Nephrotic syndrome                             3453          2    4102.587       100      0.04875
Marketscan  TNF          Lung disease                Apical Pulmonary fibrosis                      3453          0    4106.861       100            0
Marketscan  TNF          Lung disease                Interstitial lung disease                      3453          4    4102.486       100     0.097502
Marketscan  TNF          Lung disease                Restrictive lung disease                       3453         27    4080.701       100     0.661651
Marketscan  TNF          Neurological Disease        Cauda Equina syndrome                          3453          1    4104.077       100     0.024366
Marketscan  TNF          Neurological Disease        Spinal Cord compression                        3453         10    4101.136       100     0.243835
Marketscan  TNF          Osteoporotic fracture       Clinical vertebral fracture                    3453         15    4087.376       100     0.366984
Marketscan  TNF          Osteoporotic fracture       Non-vertebral osteoporotic fracture            3453         48    4042.374       100     1.187421
Marketscan  TNF          PsO/PsA                     Psoriasis                                      3453        116    3970.322       100     2.921678
Marketscan  TNF          PsO/PsA                     Psoriatic arthritis                            3453        154    3885.969       100     3.962976
Marketscan  TNF          Uveitis                     Uveitis                                        3453        203    3821.079       100     5.312636
Medicare    DMARD        Cancer                      Hematologic Cancer                             1688         19    4434.513       100     0.428457
Medicare    DMARD        Cancer                      Non Melanoma Skin Cancer                       1688         64    4339.066       100     1.474972
Medicare    DMARD        Cancer                      Solid Cancer                                   1688        139    3959.466       100     3.510574
Medicare    DMARD        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1688         61    4232.742       100     1.441146
Medicare    DMARD        Cardiac disease             Conduction Block                               1688         66    4322.973       100     1.526727
Medicare    DMARD        Cardiac disease             Myocardial infarction                          1688         28    4449.561       100     0.629276
Medicare    DMARD        Infection                   Hospitalized infection                         1688        323    3835.633       100     8.421035
Medicare    DMARD        Infection                   Opportunistic infection                        1688         77    4197.457       100     1.834444
Medicare    DMARD        Inflammatory bowel disease  Crohn’s Disease                                1688         56    4263.329       100     1.313527
Medicare    DMARD        Inflammatory bowel disease  Ulcerative Colitis                             1688         39    4344.465       100     0.897694
Medicare    DMARD        Kidney disease              Amyloidosis                                    1688          1    4515.995       100     0.022144
Medicare    DMARD        Kidney disease              IgA nephropathy                                1688          5    4507.099       100     0.110936
Medicare    DMARD        Kidney disease              Nephrotic syndrome                             1688          6    4491.272       100     0.133592
Medicare    DMARD        Lung disease                Apical Pulmonary fibrosis                      1688          0    4512.257       100            0
Medicare    DMARD        Lung disease                Interstitial lung disease                      1688         19    4468.479       100     0.425201
Medicare    DMARD        Lung disease                Restrictive lung disease                       1688         63    4263.406       100     1.477692
Medicare    DMARD        Neurological Disease        Cauda Equina syndrome                          1688          1    4515.866       100     0.022144
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018   9

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare    DMARD        Neurological Disease        Spinal Cord compression                        1688          6    4503.403       100     0.133233
Medicare    DMARD        Osteoporotic fracture       Clinical vertebral fracture                    1688         56    4329.637       100     1.293411
Medicare    DMARD        Osteoporotic fracture       Non-vertebral osteoporotic fracture            1688         91    4184.252       100     2.174821
Medicare    DMARD        PsO/PsA                     Psoriasis                                      1688         59    4263.184       100     1.383942
Medicare    DMARD        PsO/PsA                     Psoriatic arthritis                            1688         77    4203.332       100      1.83188
Medicare    DMARD        Uveitis                     Uveitis                                        1688         83    4068.789       100     2.039919
Medicare    NSAID        Cancer                      Hematologic Cancer                             4147         40    9695.222       100     0.412574
Medicare    NSAID        Cancer                      Non Melanoma Skin Cancer                       4147        156    9492.397       100     1.643421
Medicare    NSAID        Cancer                      Solid Cancer                                   4147        251    8687.617       100      2.88917
Medicare    NSAID        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4147        151    9185.092       100     1.643968
Medicare    NSAID        Cardiac disease             Conduction Block                               4147        136     9295.48       100     1.463077
Medicare    NSAID        Cardiac disease             Myocardial infarction                          4147         54    9727.488       100     0.555128
Medicare    NSAID        Infection                   Hospitalized infection                         4147        679    8445.027       100     8.040235
Medicare    NSAID        Infection                   Opportunistic infection                        4147        162    9113.448       100     1.777593
Medicare    NSAID        Inflammatory bowel disease  Crohn’s Disease                                4147         67    9482.927       100     0.706533
Medicare    NSAID        Inflammatory bowel disease  Ulcerative Colitis                             4147         54    9613.878       100     0.561688
Medicare    NSAID        Kidney disease              Amyloidosis                                    4147          3     9878.93       100     0.030368
Medicare    NSAID        Kidney disease              IgA nephropathy                                4147          5    9854.021       100     0.050741
Medicare    NSAID        Kidney disease              Nephrotic syndrome                             4147          5    9871.214       100     0.050652
Medicare    NSAID        Lung disease                Apical Pulmonary fibrosis                      4147          2     9880.09       100     0.020243
Medicare    NSAID        Lung disease                Interstitial lung disease                      4147         10    9815.934       100     0.101875
Medicare    NSAID        Lung disease                Restrictive lung disease                       4147        115    9332.605       100     1.232239
Medicare    NSAID        Neurological Disease        Cauda Equina syndrome                          4147          1    9854.875       100     0.010147
Medicare    NSAID        Neurological Disease        Spinal Cord compression                        4147         16    9833.199       100     0.162714
Medicare    NSAID        Osteoporotic fracture       Clinical vertebral fracture                    4147        126    9353.103       100     1.347146
Medicare    NSAID        Osteoporotic fracture       Non-vertebral osteoporotic fracture            4147        160    9105.774       100     1.757127
Medicare    NSAID        PsO/PsA                     Psoriasis                                      4147         90    9455.201       100     0.951857
Medicare    NSAID        PsO/PsA                     Psoriatic arthritis                            4147         71     9525.44       100     0.745372
Medicare    NSAID        Uveitis                     Uveitis                                        4147        161    9023.425       100     1.784245
Medicare    No exposure  Cancer                      Hematologic Cancer                             2489         38    5841.279       100     0.650543
Medicare    No exposure  Cancer                      Non Melanoma Skin Cancer                       2489        113    5574.018       100     2.027263
Medicare    No exposure  Cancer                      Solid Cancer                                   2489        284    5178.297       100     5.484429
Medicare    No exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      2489        129    5572.263       100     2.315038
Medicare    No exposure  Cardiac disease             Conduction Block                               2489        130    5610.155       100     2.317227
Medicare    No exposure  Cardiac disease             Myocardial infarction                          2489         49    5856.671       100     0.836653
Medicare    No exposure  Infection                   Hospitalized infection                         2489        396    5067.044       100     7.815207
Medicare    No exposure  Infection                   Opportunistic infection                        2489         18    5854.637       100     0.307449
Medicare    No exposure  Inflammatory bowel disease  Crohn’s Disease                                2489        135    5604.444       100     2.408803
Medicare    No exposure  Inflammatory bowel disease  Ulcerative Colitis                             2489         67    5760.893       100     1.163014
Medicare    No exposure  Kidney disease              Amyloidosis                                    2489          3    5919.847       100     0.050677
Medicare    No exposure  Kidney disease              IgA nephropathy                                2489          8    5909.369       100     0.135378
Medicare    No exposure  Kidney disease              Nephrotic syndrome                             2489          4     5917.55       100     0.067596
Medicare    No exposure  Lung disease                Apical Pulmonary fibrosis                      2489          1    5926.177       100     0.016874
Medicare    No exposure  Lung disease                Interstitial lung disease                      2489         11    5906.765       100     0.186227
Medicare    No exposure  Lung disease                Restrictive lung disease                       2489        109    5675.576       100      1.92051
Medicare    No exposure  Neurological Disease        Cauda Equina syndrome                          2489          7    5916.715       100     0.118309
Medicare    No exposure  Neurological Disease        Spinal Cord compression                        2489          6    5907.589       100     0.101564
Medicare    No exposure  Osteoporotic fracture       Clinical vertebral fracture                    2489        100    5702.324       100     1.753671
Medicare    No exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            2489        121    5623.786       100     2.151575
Medicare    No exposure  PsO/PsA                     Psoriasis                                      2489         75    5698.396       100      1.31616
Medicare    No exposure  PsO/PsA                     Psoriatic arthritis                            2489         79    5718.916       100     1.381381
Medicare    No exposure  Uveitis                     Uveitis                                        2489        145    5593.925       100     2.592098
Medicare    TNF          Cancer                      Hematologic Cancer                             3268         37    10644.28       100     0.347604
Medicare    TNF          Cancer                      Non Melanoma Skin Cancer                       3268        125    10355.06       100      1.20714
Medicare    TNF          Cancer                      Solid Cancer                                   3268        192    9969.361       100     1.925901
Medicare    TNF          Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      3268        129    10268.82       100      1.25623
Medicare    TNF          Cardiac disease             Conduction Block                               3268        110    10418.96       100     1.055768
Medicare    TNF          Cardiac disease             Myocardial infarction                          3268         47    10614.53       100     0.442789
Medicare    TNF          Infection                   Hospitalized infection                         3268        619     9116.17       100     6.790132
Medicare    TNF          Infection                   Opportunistic infection                        3268        170    10114.12       100     1.680818
Medicare    TNF          Inflammatory bowel disease  Crohn’s Disease                                3268        171    9793.248       100     1.746101
Medicare    TNF          Inflammatory bowel disease  Ulcerative Colitis                             3268        102    10227.44       100     0.997317
Medicare    TNF          Kidney disease              Amyloidosis                                    3268          6    10728.97       100     0.055923
Medicare    TNF          Kidney disease              IgA nephropathy                                3268         13    10692.29       100     0.121583
Medicare    TNF          Kidney disease              Nephrotic syndrome                             3268         10    10709.26       100     0.093377
Medicare    TNF          Lung disease                Apical Pulmonary fibrosis                      3268          0    10752.22       100            0
Medicare    TNF          Lung disease                Interstitial lung disease                      3268         23    10672.16       100     0.215514
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                  10:33 Thursday, May 24, 2018  10

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare    TNF          Lung disease                Restrictive lung disease                       3268        140    10239.88       100     1.367204
Medicare    TNF          Neurological Disease        Cauda Equina syndrome                          3268          6    10735.69       100     0.055888
Medicare    TNF          Neurological Disease        Spinal Cord compression                        3268         16    10702.24       100     0.149501
Medicare    TNF          Osteoporotic fracture       Clinical vertebral fracture                    3268        118    10335.66       100     1.141678
Medicare    TNF          Osteoporotic fracture       Non-vertebral osteoporotic fracture            3268        143     10182.6       100     1.404357
Medicare    TNF          PsO/PsA                     Psoriasis                                      3268        171    10014.44       100     1.707534
Medicare    TNF          PsO/PsA                     Psoriatic arthritis                            3268        200    9812.402       100     2.038237
Medicare    TNF          Uveitis                     Uveitis                                        3268        272     9466.27       100      2.87336
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
10                                                                  The SAS System                                        10:33 Thursday, May 24, 2018

521        quit;
NOTE: The PROCEDURE SQL printed pages 6-10.
NOTE: PROCEDURE SQL used (Total process time):
      real time           3.16 seconds
      cpu time            5.46 seconds
      

522        
523        
524        ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           28.68 seconds
      cpu time            14.44 seconds
      
