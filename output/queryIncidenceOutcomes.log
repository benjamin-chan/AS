1                                          The SAS System                 18:54 Monday, May 21, 2018

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M5) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70086550.
NOTE: This session is executing on the X64_DS08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 14.3
      SAS/ETS 14.3
      SAS/IML 14.3
      SAS/QC 14.3

NOTE: Additional host information:

 X64_DS08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any 
of the shared folders.

 


NOTE: SAS initialization used:
      real time           1.87 seconds
      cpu time            0.35 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                            *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=queryIncidenceOutcomes; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
NOTE: Libref NDC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: W:\onenote\references\drug ndcs\sas data
128        footnote "&pgm.";
129        * footnote2 "%sysfunc(datetime(),datetime14.)";
130        title1 '--- AS project ---';
131        **********************************************************************;
132        options macrogen mlogic mprint symbolgen;
133        options nomacrogen nomlogic nomprint nosymbolgen;
134        
135        
136        ods html
2                                                                   The SAS System                                          18:54 Monday, May 21, 2018

137          body = "output\&cmt..html"
138          style = Statistical;
NOTE: Writing HTML Body file: output\queryIncidenceOutcomes.html
139        
140        
141        /*
142        See the *Compact Outcome Definition* worksheet in `AS Project Cohort Outcome Codebook-20170410.xlsx`
143         */
144        
145        
146        /*
147        From: Xie, Fenglong [mailto:fenglongxie@uabmc.edu]
148        Sent: Wednesday, May 17, 2017 7:03 AM
149        To: Benjamin Chan <chanb@ohsu.edu>
150        Subject: RE: AS project data
151        
152        Hi, Ben
153        
154        The data are stored at UCB library defined as below email.
155        
156        Attached please find the cohort list.
157        
158        No exclusion was done except excluded for higher level exposure in six month
159        baseline.
160        
161        You need to do appropriate censor (such as censor for discontinues of
162        exposure, switch to same level or higher lever exposure ...).
163        
164        If you have question, please let me know.
165         */
166        
167        
168        /*
169        Call interstitial lung disease macro
170         */
171        %include "lib\IPP_2IPSOPplusPX_ILD.sas" / source2;
NOTE: %INCLUDE (level 1) file lib\IPP_2IPSOPplusPX_ILD.sas is file U:\studies\AS\pgms\bchan\lib\IPP_2IPSOPplusPX_ILD.sas.
172       +/*
173       +Interstitial lung disease;
174       +1)  One or more diagnosis codes for ILD from primary discharge
175       +Or
176       +2)  (Two or more diagnosis codes for ILD from secondary discharge or physician EMM ) plus one or more diagnosis tests within 90 days prior
176      !+to (inclusive) one of the diagnosis code for ILD
177       +*/
178       +%macro IPP_2IPSOPplusPX_ILD(outdata=,ids=,Dxs=, Pxs=);
179       +*DXs=diagnosis code in followup, Pxs=CPT code in follow up;
180       +*do not name outData as IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
181       +
182       +data IPPILD dxIPSILD dxOPILD;
183       +set &dxs();
184       +length dx1_date 4;
185       +format dx1_date mmddyy10.;
186       +dx1_date=min(ADMIT_DATE,  BEGIN_DATE);
187       +
188       +if dx in :('515','51630','51631','51632','51633','51634','51635','51636','51637',
189       +           '5164','5165','5166','5168','5169','71481');
190       +
191       +if enc_type='IP' and pdx='P'
192       +    then output IPPILD;
193       +if enc_type='IP' and pdx ne 'P'
194       +    then output dxIPSILD;
195       +if enc_type not in ('IP','IF', 'OT', " ")
196       +    then output dxOPILD;
197       +run;
198       +
199       +data dxIPSOPILD; *ILD from secondary discharge or physician EMM;
200       +set dxIPSILD dxOPILD;
201       +run;
202       +
203       +data pxILD; *diagnosis tests;
204       +set &pxs();
205       +if (px_type='09' and px in ('8741','8742')) or
3                                                                   The SAS System                                          18:54 Monday, May 21, 2018

206       +   (px_type='C1' and px in ('71250','71260','71270','71275','31625','31628',
207       +                             '31629','31632','31633','32095','32096','32097',
208       +                             '32098','32400','32405','32604','32606','32607',
209       +                             '32608','32609'));
210       +run;
211       +proc sort data=pxILD nodupkey; by &IDS px_date;run; * drop duplicate PX date and keep only one;
212       +
213       +proc sql;
214       +/*one or more diagnosis tests within 90 days prior to (inclusive) one of the diagnosis code for ILD*/
215       +create table dxpxIPSOPILD as
216       +select a.* , b.px_date
217       +from dxIPSOPILD as a
218       +    ,
219       +     pxILD as b
220       +where a.&IDS=b.&IDS and
221       +      min(b.ADMIT_DATE, b.BEGIN_DATE)-90<=b.px_date<=min(b.ADMIT_DATE, b.BEGIN_DATE);
222       +
223       +/* sencond DX code */
224       +create table IPSOPILD as
225       +select a.*, min(b.ADMIT_DATE, b.BEGIN_DATE) as DX2_date length=4 format mmddyy10.
226       +from dxpxIPSOPILD as a
227       +    ,
228       +     dxIPSOPILD(drop=dx1_date) as b
229       +where a.patid=b.patid and
230       +      (a.ADMIT_DATE ne b.ADMIT_DATE and a.BEGIN_DATE ne b.BEGIN_DATE)
231       +order by &IDS,ADMIT_DATE, BEGIN_DATE;
232       +quit;
233       +
234       +
235       +data &outData;
236       +set IPPILD IPSOPILD;
237       +length outcome $20 outcome_date outcome_start_date 4;
238       +format outcome_date outcome_start_date mmddyy10.;
239       +outcome="ILD";
240       +outcome_date=max(dx1_date, dx2_date, px_date);
241       +outcome_start_date=min(dx1_date, dx2_date, px_date);
242       +drop ADMIT_DATE BEGIN_DATE DISCHARGE_DATE END_DATE;
243       +run;
244       +
245       +proc sort data=&outData;
246       +by &IDS outcome_date descending outcome_start_date descending Enc_type;
247       +run;
248       +
249       +data &outData;
250       +set &outData;
251       +by &IDS outcome_date descending outcome_start_date;
252       +if first.outcome_date;
253       +run;
254       +
255       +proc datasets nolist;
256       +delete IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
257       +quit;run;
258       +%mend IPP_2IPSOPplusPX_ILD;
NOTE: %INCLUDE (level 1) ending.
259        %IPP_2IPSOPplusPX_ILD(outdata = Work.outcome_ILD_All,
260                              IDS = exposureID,
261                              Dxs = UCB.tempIncDxAll,
262                              Pxs = UCB.tempIncPxAll);

NOTE: There were 5928438 observations read from the data set UCB.TEMPINCDXALL.
NOTE: The data set WORK.IPPILD has 90 observations and 24 variables.
NOTE: The data set WORK.DXIPSILD has 1164 observations and 24 variables.
NOTE: The data set WORK.DXOPILD has 4603 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           12.62 seconds
      cpu time            3.58 seconds
      


NOTE: There were 1164 observations read from the data set WORK.DXIPSILD.
NOTE: There were 4603 observations read from the data set WORK.DXOPILD.
NOTE: The data set WORK.DXIPSOPILD has 5767 observations and 24 variables.
4                                                                   The SAS System                                          18:54 Monday, May 21, 2018

NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      


NOTE: There were 8264248 observations read from the data set UCB.TEMPINCPXALL.
NOTE: The data set WORK.PXILD has 17182 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           10.98 seconds
      cpu time            3.96 seconds
      


NOTE: There were 17182 observations read from the data set WORK.PXILD.
NOTE: 1549 observations with duplicate key values were deleted.
NOTE: The data set WORK.PXILD has 15633 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.15 seconds
      cpu time            0.04 seconds
      

NOTE: Table WORK.DXPXIPSOPILD created, with 15757 rows and 25 columns.

NOTE: Table WORK.IPSOPILD created, with 203891 rows and 26 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.85 seconds
      cpu time            0.75 seconds
      


NOTE: There were 90 observations read from the data set WORK.IPPILD.
NOTE: There were 203891 observations read from the data set WORK.IPSOPILD.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 203981 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.23 seconds
      cpu time            0.21 seconds
      


NOTE: There were 203981 observations read from the data set WORK.OUTCOME_ILD_ALL.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 203981 observations and 25 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.43 seconds
      cpu time            0.65 seconds
      


NOTE: There were 203981 observations read from the data set WORK.OUTCOME_ILD_ALL.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 2145 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.23 seconds
      cpu time            0.12 seconds
      


NOTE: Deleting WORK.IPPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSILD (memtype=DATA).
NOTE: Deleting WORK.DXOPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.PXILD (memtype=DATA).
NOTE: Deleting WORK.DXPXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.IPSOPILD (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.10 seconds
      cpu time            0.04 seconds
      

263        proc sql;
264          create table Work.ILD as
265            select database,
5                                                                   The SAS System                                          18:54 Monday, May 21, 2018

266                   exposure,
267                   patid,
268                   exposureStart,
269                   exposureEnd,
270                   exposureID,
271                   "Lung disease" as outcomeCategory,
272                   "Interstitial lung disease" as disease,
273                   outcome_start_date as begin_date
274            from Work.outcome_ILD_All;
NOTE: Table WORK.ILD created, with 2145 rows and 9 columns.

275          select database, exposure, disease, count(distinct exposureID) as n
276            from Work.ILD
277            group by database, exposure, disease;
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018   1

                                             database    exposure     disease                           n
                                             ------------------------------------------------------------
                                             MPCD        No exposure  Interstitial lung disease         3
                                             Marketscan  DMARD        Interstitial lung disease         3
                                             Marketscan  No exposure  Interstitial lung disease         6
                                             Marketscan  TNF          Interstitial lung disease         5
                                             Medicare    DMARD        Interstitial lung disease        82
                                             Medicare    NSAID        Interstitial lung disease        81
                                             Medicare    No exposure  Interstitial lung disease       113
                                             Medicare    TNF          Interstitial lung disease        54
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
278        quit;
NOTE: The PROCEDURE SQL printed page 1.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.20 seconds
      cpu time            0.03 seconds
      

279        
280        
281        /*
282        Process fracture episodes data set
283         */
284        proc sql;
285          create table Work.fractures as
286            select database,
287                   exposure,
288                   patid,
289                   exposureStart,
290                   exposureEnd,
291                   exposureID,
292                   "Osteoporotic fracture" as outcomeCategory,
293                   fractureType as disease,
294                   fractureEpisodeStart as begin_date
295            from DT.fractureEpisodesInc
296            where ^missing(fractureType);
NOTE: Table WORK.FRACTURES created, with 1645 rows and 9 columns.

297          select database, exposure, disease, count(distinct exposureID) as n
298            from Work.fractures
299            group by database, exposure, disease;
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018   2

                                        database    exposure     disease                                     n
                                        ----------------------------------------------------------------------
                                        MPCD        DMARD        Non-vertebral osteoporotic fracture         2
                                        MPCD        NSAID        Non-vertebral osteoporotic fracture         6
                                        MPCD        No exposure  Clinical vertebral fracture                 9
                                        MPCD        No exposure  Non-vertebral osteoporotic fracture        18
                                        MPCD        TNF          Clinical vertebral fracture                 8
                                        MPCD        TNF          Non-vertebral osteoporotic fracture        10
                                        Marketscan  DMARD        Clinical vertebral fracture                 2
                                        Marketscan  DMARD        Non-vertebral osteoporotic fracture         8
                                        Marketscan  NSAID        Clinical vertebral fracture                13
                                        Marketscan  NSAID        Non-vertebral osteoporotic fracture        15
                                        Marketscan  No exposure  Clinical vertebral fracture                12
                                        Marketscan  No exposure  Non-vertebral osteoporotic fracture        14
                                        Marketscan  TNF          Clinical vertebral fracture                15
                                        Marketscan  TNF          Non-vertebral osteoporotic fracture        48
                                        Medicare    DMARD        Clinical vertebral fracture                58
                                        Medicare    DMARD        Non-vertebral osteoporotic fracture       100
                                        Medicare    NSAID        Clinical vertebral fracture               148
                                        Medicare    NSAID        Non-vertebral osteoporotic fracture       180
                                        Medicare    No exposure  Clinical vertebral fracture                92
                                        Medicare    No exposure  Non-vertebral osteoporotic fracture       112
                                        Medicare    TNF          Clinical vertebral fracture               123
                                        Medicare    TNF          Non-vertebral osteoporotic fracture       151
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
300        quit;
NOTE: The PROCEDURE SQL printed page 2.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.25 seconds
      cpu time            0.03 seconds
      

301        
302        
303        /*
304        Process hospitalized infection data set
305         */
306        proc sql;
307          create table Work.hospInf as
308            select database,
309                   exposure,
310                   patid,
311                   exposureStart,
312                   exposureEnd,
313                   exposureID,
314                   "Infection" as outcomeCategory,
315                   "Hospitalized infection" as disease,
316                   outcome_start_date as begin_date
317            from DT.hospitalizedInfectionEpisodesInc;
NOTE: Table WORK.HOSPINF created, with 21563 rows and 9 columns.

318          select database, exposure, disease, count(distinct exposureID) as n
319            from Work.hospInf
6                                                                   The SAS System                                          18:54 Monday, May 21, 2018

320            group by database, exposure, disease;
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018   3

                                              database    exposure     disease                        n
                                              ---------------------------------------------------------
                                              MPCD        DMARD        Hospitalized infection        10
                                              MPCD        NSAID        Hospitalized infection        16
                                              MPCD        No exposure  Hospitalized infection       173
                                              MPCD        TNF          Hospitalized infection        48
                                              Marketscan  DMARD        Hospitalized infection       121
                                              Marketscan  NSAID        Hospitalized infection       249
                                              Marketscan  No exposure  Hospitalized infection       525
                                              Marketscan  TNF          Hospitalized infection       367
                                              Medicare    DMARD        Hospitalized infection      1106
                                              Medicare    NSAID        Hospitalized infection      2395
                                              Medicare    No exposure  Hospitalized infection      3539
                                              Medicare    TNF          Hospitalized infection      1253
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
321        quit;
NOTE: The PROCEDURE SQL printed page 3.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.28 seconds
      cpu time            0.20 seconds
      

322        
323        
324        /*
325        Process opportunistic infection data set
326         */
327        proc sql;
328          create table Work.oppInf as
329            select database,
330                   exposure,
331                   patid,
332                   exposureStart,
333                   exposureEnd,
334                   exposureID,
335                   "Infection" as outcomeCategory,
336                   "Opportunistic infection" as disease,
337                   outcome_start_date as begin_date
338            from DT.opportunInfectionEpisodesInc;
NOTE: Table WORK.OPPINF created, with 5993 rows and 9 columns.

339          select database, exposure, disease, count(distinct exposureID) as n
340            from Work.oppInf
341            group by database, exposure, disease;
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018   4

                                              database    exposure     disease                         n
                                              ----------------------------------------------------------
                                              MPCD        DMARD        Opportunistic infection         6
                                              MPCD        NSAID        Opportunistic infection        10
                                              MPCD        No exposure  Opportunistic infection        15
                                              MPCD        TNF          Opportunistic infection        21
                                              Marketscan  DMARD        Opportunistic infection        39
                                              Marketscan  NSAID        Opportunistic infection        56
                                              Marketscan  No exposure  Opportunistic infection        69
                                              Marketscan  TNF          Opportunistic infection       118
                                              Medicare    DMARD        Opportunistic infection       292
                                              Medicare    NSAID        Opportunistic infection       580
                                              Medicare    No exposure  Opportunistic infection       573
                                              Medicare    TNF          Opportunistic infection       364
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
342        quit;
NOTE: The PROCEDURE SQL printed page 4.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.21 seconds
      cpu time            0.10 seconds
      

343        
344        
345        /*
346        Query for incident MI
347        
348        * Requires at least a 1-day inpatient admission
349         */
350        proc sql;
351          create table Work.incidentMI as
352            select C.database, C.exposureID, C.patid, C.exposure, C.exposureStart, C.exposureEnd,
353                   C.outcomeCategory,
354                   C.disease,
355                   C.begin_date
356            from (select A.*, B.outcomeCategory, B.disease
357                  from UCB.tempIncDxAll A inner join
358                       (select * from DT.defOutcomes where disease = "Myocardial infarction") B on (A.codeType = B.codeType & A.code = B.code)
359                  where B.disease = "Myocardial infarction"  &
360                        A.enc_type = "IP" &
361                        . < A.admit_date < A.discharge_date) C
362            order by C.database, C.exposureID, C.outcomeCategory, C.disease, C.begin_date;
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Table WORK.INCIDENTMI created, with 2000 rows and 9 columns.

363        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           1.87 seconds
      cpu time            1.95 seconds
      

364        
365        
366        /*
367        Process the data sets created by the cancer scripts
368         */
369        proc sql;
7                                                                   The SAS System                                          18:54 Monday, May 21, 2018

370          create table Work.cancer as
371            select database,
372                   exposure,
373                   patid,
374                   exposureStart,
375                   exposureEnd,
376                   exposureID,
377                   "Cancer" as outcomeCategory,
378                   cancer as disease,
379                   outcome_start_date as begin_date
380            from (select * from DT.cancerSetoguchiEpisodesInc union corr
381                  select * from DT.cancerNMSCEpisodesInc );
NOTE: Table WORK.CANCER created, with 2296 rows and 9 columns.

382          select database, exposure, disease,
383                 count(distinct patid) as countDistinctPatid,
384                 count(distinct exposureID) as countDistinctEpisodes
385            from Work.cancer
386            group by database, exposure, disease;
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018   5

                                                                                              count         count
                                                                                           Distinct      Distinct
                                    database    exposure     disease                          Patid      Episodes
                                    -----------------------------------------------------------------------------
                                    MPCD        DMARD        Solid Cancer                         4             4
                                    MPCD        NSAID        Non Melanoma Skin Cancer             3             3
                                    MPCD        NSAID        Solid Cancer                         5             5
                                    MPCD        No exposure  Hematologic Cancer                   4             4
                                    MPCD        No exposure  Non Melanoma Skin Cancer             5             5
                                    MPCD        No exposure  Solid Cancer                        35            35
                                    MPCD        TNF          Hematologic Cancer                   3             3
                                    MPCD        TNF          Non Melanoma Skin Cancer             7             7
                                    MPCD        TNF          Solid Cancer                        13            13
                                    Marketscan  DMARD        Hematologic Cancer                   5             5
                                    Marketscan  DMARD        Non Melanoma Skin Cancer             3             3
                                    Marketscan  DMARD        Solid Cancer                        22            22
                                    Marketscan  NSAID        Hematologic Cancer                   5             5
                                    Marketscan  NSAID        Non Melanoma Skin Cancer            15            15
                                    Marketscan  NSAID        Solid Cancer                        54            54
                                    Marketscan  No exposure  Hematologic Cancer                  18            18
                                    Marketscan  No exposure  Non Melanoma Skin Cancer            26            26
                                    Marketscan  No exposure  Solid Cancer                       107           107
                                    Marketscan  TNF          Hematologic Cancer                   9             9
                                    Marketscan  TNF          Non Melanoma Skin Cancer            29            29
                                    Marketscan  TNF          Solid Cancer                        42            42
                                    Medicare    DMARD        Hematologic Cancer                  35            36
                                    Medicare    DMARD        Non Melanoma Skin Cancer            12            12
                                    Medicare    DMARD        Solid Cancer                       190           195
                                    Medicare    NSAID        Hematologic Cancer                  66            66
                                    Medicare    NSAID        Non Melanoma Skin Cancer            19            19
                                    Medicare    NSAID        Solid Cancer                       392           394
                                    Medicare    No exposure  Hematologic Cancer                 133           133
                                    Medicare    No exposure  Non Melanoma Skin Cancer            16            16
                                    Medicare    No exposure  Solid Cancer                       680           680
                                    Medicare    TNF          Hematologic Cancer                  33            33
                                    Medicare    TNF          Non Melanoma Skin Cancer            23            23
                                    Medicare    TNF          Solid Cancer                       183           183
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
387        quit;
NOTE: The PROCEDURE SQL printed page 5.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.28 seconds
      cpu time            0.09 seconds
      

388        
389        
390        proc sql;
391        
392          create table Work.defOutcomes as
393            select *
394            from DT.defOutcomes
395            where disease ^in ("Interstitial lung disease",
396                               "Myocardial infarction",
397                               "Hospitalized infection",
398                               "Opportunistic infection");
NOTE: Table WORK.DEFOUTCOMES created, with 750 rows and 6 columns.

399          create table Work.lookupDisease as
400            select distinct outcomeCategory, disease
401            from DT.defOutcomes;
NOTE: Table WORK.LOOKUPDISEASE created, with 21 rows and 2 columns.

402          insert into Work.lookupDisease (outcomeCategory, disease)
403            values ("Osteoporotic fracture", "Clinical vertebral fracture")
404            values ("Osteoporotic fracture", "Non-vertebral osteoporotic fracture");
NOTE: 2 rows were inserted into WORK.LOOKUPDISEASE.

405        
406          %let select1 = select A.*, B.outcomeCategory, B.disease;
407          %let join1 = inner join Work.defOutcomes B on (A.codeType = B.codeType & A.code = B.code);
408          create table Work.incidentDisease as
409            select C.database, C.exposureID, C.patid, C.exposure, C.exposureStart, C.exposureEnd,
410                   C.outcomeCategory,
411                   C.disease,
412                   C.begin_date
413            from (&select1 from UCB.tempIncDxAll A &join1 union corr
414                  &select1 from UCB.tempIncPxAll A &join1 union corr
415                  select * from Work.cancer union corr
416                  select * from Work.ILD union corr
417                  select * from Work.incidentMI union corr
418                  select * from Work.hospInf union corr
419                  select * from Work.oppInf  union corr
420                  select * from Work.fractures) C
421            order by C.database, C.exposureID, C.outcomeCategory, C.disease, C.begin_date;
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Table WORK.INCIDENTDISEASE created, with 136737 rows and 9 columns.

422        quit;
NOTE: PROCEDURE SQL used (Total process time):
8                                                                   The SAS System                                          18:54 Monday, May 21, 2018

      real time           4.93 seconds
      cpu time            6.75 seconds
      

423        
424        /*
425        Take first occurrence of outcome
426         */
427        proc sort data = Work.incidentDisease nodupkey;
428          by database exposureID outcomeCategory disease;
429        run;

NOTE: There were 136737 observations read from the data set WORK.INCIDENTDISEASE.
NOTE: 97368 observations with duplicate key values were deleted.
NOTE: The data set WORK.INCIDENTDISEASE has 39369 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.26 seconds
      cpu time            0.38 seconds
      

430        
431        /*
432        For all but NMSC and infection (hospitalized and opportunistic),
433        keep first incident outcome within patient ID
434         */
435        data Work.incidentDiseaseSubsetA Work.incidentDiseaseSubsetB;
436          set Work.incidentDisease;
437          if disease in ("Non Melanoma Skin Cancer",
438                         "Hospitalized infection") then output Work.incidentDiseaseSubsetA;
439          else output Work.incidentDiseaseSubsetB;
440        run;

NOTE: There were 39369 observations read from the data set WORK.INCIDENTDISEASE.
NOTE: The data set WORK.INCIDENTDISEASESUBSETA has 11217 observations and 9 variables.
NOTE: The data set WORK.INCIDENTDISEASESUBSETB has 28152 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      cpu time            0.04 seconds
      

441        proc sort data = Work.incidentDiseaseSubsetB;
442          by database patid outcomeCategory disease begin_date;
443        run;

NOTE: There were 28152 observations read from the data set WORK.INCIDENTDISEASESUBSETB.
NOTE: The data set WORK.INCIDENTDISEASESUBSETB has 28152 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.09 seconds
      cpu time            0.07 seconds
      

444        proc sort data = Work.incidentDiseaseSubsetB nodupkey;
445          by database patid outcomeCategory disease;
446        run;

NOTE: There were 28152 observations read from the data set WORK.INCIDENTDISEASESUBSETB.
NOTE: 4410 observations with duplicate key values were deleted.
NOTE: The data set WORK.INCIDENTDISEASESUBSETB has 23742 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.09 seconds
      cpu time            0.06 seconds
      

447        proc sql;
448          create table Work.incidentDisease as
449            select * from Work.incidentDiseaseSubsetA union corr
450            select * from Work.incidentDiseaseSubsetB ;
NOTE: Table WORK.INCIDENTDISEASE created, with 34959 rows and 9 columns.

451        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.26 seconds
9                                                                   The SAS System                                          18:54 Monday, May 21, 2018

      cpu time            0.26 seconds
      

452        
453        
454        /*
455        Join incident disease outcomes to exposure timelines
456        Summarize
457         */
458        proc sql;
459          create table DT.incidentDiseaseTimelines as
460            select A.*,
461                   D.begin_date format = mmddyy10. as outcomeDate,
462                   F.earliestOutcome,
463                   case
464                     when ^missing(D.begin_date) & missing(F.earliestOutcome) then 0
465                     when ^missing(D.begin_date) & A.exposureStart <= F.earliestOutcome <= A.exposureEnd then 0
466                     when . < F.earliestOutcome < A.exposureStart then 1
467                     when missing(D.begin_date) then 1
468                     else .
469                     end as censor,
470                   case
471                     when ^missing(D.begin_date) & missing(F.earliestOutcome) then D.begin_date - A.exposureStart + 1
472                     when ^missing(D.begin_date) & A.exposureStart <= F.earliestOutcome <= A.exposureEnd then D.begin_date - A.exposureStart + 1
473                     when . < F.earliestOutcome < A.exposureStart then 0
474                     when missing(D.begin_date) then daysExposed
475                     else .
476                     end as daysAtRisk
477            from (select B.*, C.*
478                  from DT.exposureTimeline B,
479                       Work.lookupDisease C) A left join
480                 Work.incidentDisease D on (A.database = D.database &
481                                            A.patid = D.patid &
482                                            A.exposure = D.exposure &
483                                            A.exposureStart = D.exposureStart &
484                                            A.outcomeCategory = D.outcomeCategory &
485                                            A.disease = D.disease) left join
486                 (select E.database, E.patid, E.outcomeCategory, E.disease,
487                         min(E.begin_date) format = mmddyy10. as earliestOutcome
488                  from Work.incidentDisease E
489                  where E.disease ^in ("Non Melanoma Skin Cancer",
490                                       "Hospitalized infection")
491                  group by E.database, E.patid, E.outcomeCategory, E.disease) F on (A.database = F.database &
492                                                                                    A.patid = F.patid &
493                                                                                    A.outcomeCategory = F.outcomeCategory &
494                                                                                    A.disease = F.disease)
495            order by A.database, A.patid, A.outcomeCategory, A.disease, A.exposureStart;
NOTE: The execution of this query involves performing one or more Cartesian product joins that can not be optimized.
NOTE: Table DT.INCIDENTDISEASETIMELINES created, with 482005 rows and 17 columns.

496          create table Work.incidence as
497            select database, exposure, outcomeCategory, disease,
498                   count(distinct exposureID) as n,
499                   sum(censor = 0) as incidence,
500                   sum(daysAtRisk) / 365.25 as personYears,
501                   100 as scale,
502                   sum(censor = 0) / (sum(daysAtRisk) / 365.25) * calculated scale as incidenceRate
503            from DT.incidentDiseaseTimelines
504            group by database, exposure, outcomeCategory, disease;
NOTE: Table WORK.INCIDENCE created, with 276 rows and 9 columns.

505          select * from Work.incidence;
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018   6

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        DMARD        Cancer                      Hematologic Cancer                              165          1    155.4661       100     0.643227
MPCD        DMARD        Cancer                      Non Melanoma Skin Cancer                        165          0     156.616       100            0
MPCD        DMARD        Cancer                      Solid Cancer                                    165          4    152.2546       100     2.627178
MPCD        DMARD        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       165          0    155.8494       100            0
MPCD        DMARD        Cardiac disease             Conduction Block                                165          0     156.616       100            0
MPCD        DMARD        Cardiac disease             Myocardial infarction                           165          0     156.616       100            0
MPCD        DMARD        Infection                   Hospitalized infection                          165          1    155.8631       100     0.641589
MPCD        DMARD        Infection                   Opportunistic infection                         165          3    151.9151       100     1.974787
MPCD        DMARD        Inflammatory bowel disease  Crohn’s Disease                                 165          4     149.117       100     2.682457
MPCD        DMARD        Inflammatory bowel disease  Ulcerative Colitis                              165          0    156.3285       100            0
MPCD        DMARD        Kidney disease              Amyloidosis                                     165          0     156.616       100            0
MPCD        DMARD        Kidney disease              IgA nephropathy                                 165          0     156.616       100            0
MPCD        DMARD        Kidney disease              Nephrotic syndrome                              165          0     156.616       100            0
MPCD        DMARD        Lung disease                Apical Pulmonary fibrosis                       165          0     156.616       100            0
MPCD        DMARD        Lung disease                Interstitial lung disease                       165          0     156.616       100            0
MPCD        DMARD        Lung disease                Restrictive lung disease                        165          0     156.616       100            0
MPCD        DMARD        Neurological Disease        Cauda Equina syndrome                           165          0     156.616       100            0
MPCD        DMARD        Neurological Disease        Spinal Cord compression                         165          0     156.616       100            0
MPCD        DMARD        Osteoporotic fracture       Clinical vertebral fracture                     165          0    154.7926       100            0
MPCD        DMARD        Osteoporotic fracture       Non-vertebral osteoporotic fracture             165          2     155.603       100     1.285322
MPCD        DMARD        PsO/PsA                     Psoriasis                                       165          1    155.1485       100     0.644544
MPCD        DMARD        PsO/PsA                     Psoriatic arthritis                             165          3    152.9062       100     1.961987
MPCD        DMARD        Uveitis                     Uveitis                                         165         10    140.2163       100     7.131839
MPCD        NSAID        Cancer                      Hematologic Cancer                              355          0    294.6831       100            0
MPCD        NSAID        Cancer                      Non Melanoma Skin Cancer                        355          3    296.0082       100     1.013485
MPCD        NSAID        Cancer                      Solid Cancer                                    355          6    286.8638       100     2.091585
MPCD        NSAID        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       355          1     292.219       100     0.342209
MPCD        NSAID        Cardiac disease             Conduction Block                                355          1    291.9535       100      0.34252
MPCD        NSAID        Cardiac disease             Myocardial infarction                           355          0    294.6831       100            0
MPCD        NSAID        Infection                   Hospitalized infection                          355          3    292.8323       100     1.024477
MPCD        NSAID        Infection                   Opportunistic infection                         355          1      291.05       100     0.343584
MPCD        NSAID        Inflammatory bowel disease  Crohn’s Disease                                 355          4    289.0705       100     1.383745
MPCD        NSAID        Inflammatory bowel disease  Ulcerative Colitis                              355          2    290.9021       100     0.687516
MPCD        NSAID        Kidney disease              Amyloidosis                                     355          0    294.6831       100            0
MPCD        NSAID        Kidney disease              IgA nephropathy                                 355          1      293.18       100     0.341087
MPCD        NSAID        Kidney disease              Nephrotic syndrome                              355          0    294.6831       100            0
MPCD        NSAID        Lung disease                Apical Pulmonary fibrosis                       355          0    294.6831       100            0
MPCD        NSAID        Lung disease                Interstitial lung disease                       355          0    294.6831       100            0
MPCD        NSAID        Lung disease                Restrictive lung disease                        355          5    291.9781       100     1.712457
MPCD        NSAID        Neurological Disease        Cauda Equina syndrome                           355          0    294.6831       100            0
MPCD        NSAID        Neurological Disease        Spinal Cord compression                         355          1    293.6975       100     0.340486
MPCD        NSAID        Osteoporotic fracture       Clinical vertebral fracture                     355          0    294.6831       100            0
MPCD        NSAID        Osteoporotic fracture       Non-vertebral osteoporotic fracture             355          6    290.1109       100     2.068175
MPCD        NSAID        PsO/PsA                     Psoriasis                                       355          2    291.4059       100     0.686328
MPCD        NSAID        PsO/PsA                     Psoriatic arthritis                             355          2    292.9418       100     0.682729
MPCD        NSAID        Uveitis                     Uveitis                                         355         14    271.8111       100     5.150636
MPCD        No exposure  Cancer                      Hematologic Cancer                              512          2    633.2539       100     0.315829
MPCD        No exposure  Cancer                      Non Melanoma Skin Cancer                        512          5     629.462       100     0.794329
MPCD        No exposure  Cancer                      Solid Cancer                                    512         10    610.8063       100      1.63718
MPCD        No exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       512          3    623.9206       100      0.48083
MPCD        No exposure  Cardiac disease             Conduction Block                                512          2    630.6146       100     0.317151
MPCD        No exposure  Cardiac disease             Myocardial infarction                           512          0    635.8823       100            0
MPCD        No exposure  Infection                   Hospitalized infection                          512          8    629.9055       100     1.270032
MPCD        No exposure  Infection                   Opportunistic infection                         512          1    635.1622       100      0.15744
MPCD        No exposure  Inflammatory bowel disease  Crohn’s Disease                                 512          4     622.642       100     0.642424
MPCD        No exposure  Inflammatory bowel disease  Ulcerative Colitis                              512          2    621.4812       100     0.321812
MPCD        No exposure  Kidney disease              Amyloidosis                                     512          2    634.7242       100     0.315098
MPCD        No exposure  Kidney disease              IgA nephropathy                                 512          0    635.8823       100            0
MPCD        No exposure  Kidney disease              Nephrotic syndrome                              512          0    635.8823       100            0
MPCD        No exposure  Lung disease                Apical Pulmonary fibrosis                       512          1    635.1622       100      0.15744
MPCD        No exposure  Lung disease                Interstitial lung disease                       512          0    635.8823       100            0
MPCD        No exposure  Lung disease                Restrictive lung disease                        512          2    631.8604       100     0.316526
MPCD        No exposure  Neurological Disease        Cauda Equina syndrome                           512          0    635.8823       100            0
MPCD        No exposure  Neurological Disease        Spinal Cord compression                         512          0    635.8823       100            0
MPCD        No exposure  Osteoporotic fracture       Clinical vertebral fracture                     512          9     626.768       100     1.435938
MPCD        No exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture             512         18    618.0999       100      2.91215
MPCD        No exposure  PsO/PsA                     Psoriasis                                       512          1     632.219       100     0.158173
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018   7

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        No exposure  PsO/PsA                     Psoriatic arthritis                             512          1    628.9829       100     0.158987
MPCD        No exposure  Uveitis                     Uveitis                                         512          5    607.7235       100     0.822743
MPCD        TNF          Cancer                      Hematologic Cancer                              670          2    768.0137       100     0.260412
MPCD        TNF          Cancer                      Non Melanoma Skin Cancer                        670          7    766.0917       100     0.913729
MPCD        TNF          Cancer                      Solid Cancer                                    670         15    750.8118       100     1.997838
MPCD        TNF          Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       670          8    762.8118       100     1.048752
MPCD        TNF          Cardiac disease             Conduction Block                                670          3    770.3874       100     0.389414
MPCD        TNF          Cardiac disease             Myocardial infarction                           670          3     767.447       100     0.390906
MPCD        TNF          Infection                   Hospitalized infection                          670         23    749.8426       100     3.067311
MPCD        TNF          Infection                   Opportunistic infection                         670          8    765.0185       100     1.045726
MPCD        TNF          Inflammatory bowel disease  Crohn’s Disease                                 670         27    732.5257       100     3.685878
MPCD        TNF          Inflammatory bowel disease  Ulcerative Colitis                              670         13    752.9993       100     1.726429
MPCD        TNF          Kidney disease              Amyloidosis                                     670          0    771.4251       100            0
MPCD        TNF          Kidney disease              IgA nephropathy                                 670          1    770.3518       100     0.129811
MPCD        TNF          Kidney disease              Nephrotic syndrome                              670          2    768.4627       100      0.26026
MPCD        TNF          Lung disease                Apical Pulmonary fibrosis                       670          0    771.4251       100            0
MPCD        TNF          Lung disease                Interstitial lung disease                       670          0    771.4251       100            0
MPCD        TNF          Lung disease                Restrictive lung disease                        670          5    760.8487       100     0.657161
MPCD        TNF          Neurological Disease        Cauda Equina syndrome                           670          0    771.4251       100            0
MPCD        TNF          Neurological Disease        Spinal Cord compression                         670          1    770.6968       100     0.129753
MPCD        TNF          Osteoporotic fracture       Clinical vertebral fracture                     670          8    762.9268       100     1.048593
MPCD        TNF          Osteoporotic fracture       Non-vertebral osteoporotic fracture             670         10    764.6653       100     1.307762
MPCD        TNF          PsO/PsA                     Psoriasis                                       670         21    743.8905       100     2.822996
MPCD        TNF          PsO/PsA                     Psoriatic arthritis                             670         34    724.3778       100     4.693683
MPCD        TNF          Uveitis                     Uveitis                                         670         25    713.2594       100     3.505036
Marketscan  DMARD        Cancer                      Hematologic Cancer                              777          4    716.1478       100     0.558544
Marketscan  DMARD        Cancer                      Non Melanoma Skin Cancer                        777         13    704.7365       100     1.844661
Marketscan  DMARD        Cancer                      Solid Cancer                                    777         23    679.4552       100     3.385065
Marketscan  DMARD        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       777          7    714.8665       100     0.979204
Marketscan  DMARD        Cardiac disease             Conduction Block                                777          4    716.0903       100     0.558589
Marketscan  DMARD        Cardiac disease             Myocardial infarction                           777          1    720.7201       100      0.13875
Marketscan  DMARD        Infection                   Hospitalized infection                          777         42    683.8029       100     6.142121
Marketscan  DMARD        Infection                   Opportunistic infection                         777         16    703.2252       100     2.275231
Marketscan  DMARD        Inflammatory bowel disease  Crohn’s Disease                                 777         18    688.8652       100     2.612993
Marketscan  DMARD        Inflammatory bowel disease  Ulcerative Colitis                              777         12    709.9849       100     1.690177
Marketscan  DMARD        Kidney disease              Amyloidosis                                     777          0    721.4073       100            0
Marketscan  DMARD        Kidney disease              IgA nephropathy                                 777          0    721.4073       100            0
Marketscan  DMARD        Kidney disease              Nephrotic syndrome                              777          1    721.0021       100     0.138696
Marketscan  DMARD        Lung disease                Apical Pulmonary fibrosis                       777          0    721.4073       100            0
Marketscan  DMARD        Lung disease                Interstitial lung disease                       777          1    720.0356       100     0.138882
Marketscan  DMARD        Lung disease                Restrictive lung disease                        777          6    711.5866       100     0.843186
Marketscan  DMARD        Neurological Disease        Cauda Equina syndrome                           777          0    721.4073       100            0
Marketscan  DMARD        Neurological Disease        Spinal Cord compression                         777          1    721.0075       100     0.138695
Marketscan  DMARD        Osteoporotic fracture       Clinical vertebral fracture                     777          2    719.6934       100     0.277896
Marketscan  DMARD        Osteoporotic fracture       Non-vertebral osteoporotic fracture             777          8    713.9001       100     1.120605
Marketscan  DMARD        PsO/PsA                     Psoriasis                                       777         21    700.3915       100     2.998323
Marketscan  DMARD        PsO/PsA                     Psoriatic arthritis                             777         31    692.6872       100     4.475325
Marketscan  DMARD        Uveitis                     Uveitis                                         777         29    676.7201       100     4.285376
Marketscan  NSAID        Cancer                      Hematologic Cancer                             1733          4    1604.813       100      0.24925
Marketscan  NSAID        Cancer                      Non Melanoma Skin Cancer                       1733         17    1577.432       100     1.077701
Marketscan  NSAID        Cancer                      Solid Cancer                                   1733         38    1528.977       100     2.485321
Marketscan  NSAID        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1733          9    1595.584       100     0.564057
Marketscan  NSAID        Cardiac disease             Conduction Block                               1733         21    1582.828       100     1.326739
Marketscan  NSAID        Cardiac disease             Myocardial infarction                          1733          4    1606.193       100     0.249036
Marketscan  NSAID        Infection                   Hospitalized infection                         1733         72    1540.698       100     4.673206
Marketscan  NSAID        Infection                   Opportunistic infection                        1733         20    1578.675       100     1.266885
Marketscan  NSAID        Inflammatory bowel disease  Crohn’s Disease                                1733         16    1568.233       100     1.020257
Marketscan  NSAID        Inflammatory bowel disease  Ulcerative Colitis                             1733         13    1583.901       100     0.820758
Marketscan  NSAID        Kidney disease              Amyloidosis                                    1733          0    1609.101       100            0
Marketscan  NSAID        Kidney disease              IgA nephropathy                                1733          1    1608.066       100     0.062187
Marketscan  NSAID        Kidney disease              Nephrotic syndrome                             1733          1    1606.387       100     0.062251
Marketscan  NSAID        Lung disease                Apical Pulmonary fibrosis                      1733          0    1609.101       100            0
Marketscan  NSAID        Lung disease                Interstitial lung disease                      1733          0    1609.101       100            0
Marketscan  NSAID        Lung disease                Restrictive lung disease                       1733          8    1600.271       100     0.499915
Marketscan  NSAID        Neurological Disease        Cauda Equina syndrome                          1733          0    1609.101       100            0
Marketscan  NSAID        Neurological Disease        Spinal Cord compression                        1733          8    1604.118       100     0.498717
Marketscan  NSAID        Osteoporotic fracture       Clinical vertebral fracture                    1733         13    1593.172       100     0.815982
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018   8

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
Marketscan  NSAID        Osteoporotic fracture       Non-vertebral osteoporotic fracture            1733         15    1584.509       100     0.946665
Marketscan  NSAID        PsO/PsA                     Psoriasis                                      1733         24    1570.459       100     1.528216
Marketscan  NSAID        PsO/PsA                     Psoriatic arthritis                            1733         13    1580.884       100     0.822325
Marketscan  NSAID        Uveitis                     Uveitis                                        1733         71    1486.842       100     4.775222
Marketscan  No exposure  Cancer                      Hematologic Cancer                             1699          2    1602.029       100     0.124842
Marketscan  No exposure  Cancer                      Non Melanoma Skin Cancer                       1699         19    1542.092       100     1.232093
Marketscan  No exposure  Cancer                      Solid Cancer                                   1699         13    1574.951       100     0.825422
Marketscan  No exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1699          3    1592.832       100     0.188344
Marketscan  No exposure  Cardiac disease             Conduction Block                               1699          5    1591.784       100     0.314113
Marketscan  No exposure  Cardiac disease             Myocardial infarction                          1699          1    1603.365       100     0.062369
Marketscan  No exposure  Infection                   Hospitalized infection                         1699         15    1592.381       100     0.941986
Marketscan  No exposure  Infection                   Opportunistic infection                        1699          2    1599.313       100     0.125054
Marketscan  No exposure  Inflammatory bowel disease  Crohn’s Disease                                1699          7     1583.57       100     0.442039
Marketscan  No exposure  Inflammatory bowel disease  Ulcerative Colitis                             1699          5    1583.483       100      0.31576
Marketscan  No exposure  Kidney disease              Amyloidosis                                    1699          0     1603.89       100            0
Marketscan  No exposure  Kidney disease              IgA nephropathy                                1699          1    1603.781       100     0.062353
Marketscan  No exposure  Kidney disease              Nephrotic syndrome                             1699          0    1603.847       100            0
Marketscan  No exposure  Lung disease                Apical Pulmonary fibrosis                      1699          0     1603.89       100            0
Marketscan  No exposure  Lung disease                Interstitial lung disease                      1699          0    1603.792       100            0
Marketscan  No exposure  Lung disease                Restrictive lung disease                       1699          3    1600.485       100     0.187443
Marketscan  No exposure  Neurological Disease        Cauda Equina syndrome                          1699          0    1603.554       100            0
Marketscan  No exposure  Neurological Disease        Spinal Cord compression                        1699          1    1603.217       100     0.062375
Marketscan  No exposure  Osteoporotic fracture       Clinical vertebral fracture                    1699         12    1591.455       100     0.754027
Marketscan  No exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            1699         14    1591.677       100     0.879575
Marketscan  No exposure  PsO/PsA                     Psoriasis                                      1699          7    1580.457       100      0.44291
Marketscan  No exposure  PsO/PsA                     Psoriatic arthritis                            1699         11    1585.793       100     0.693659
Marketscan  No exposure  Uveitis                     Uveitis                                        1699         25     1521.67       100     1.642932
Marketscan  TNF          Cancer                      Hematologic Cancer                             3453          6    4100.556       100     0.146322
Marketscan  TNF          Cancer                      Non Melanoma Skin Cancer                       3453         52    4000.652       100     1.299788
Marketscan  TNF          Cancer                      Solid Cancer                                   3453         62    4004.189       100     1.548378
Marketscan  TNF          Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      3453         22    4062.858       100     0.541491
Marketscan  TNF          Cardiac disease             Conduction Block                               3453         24    4071.926       100     0.589402
Marketscan  TNF          Cardiac disease             Myocardial infarction                          3453          9    4101.161       100      0.21945
Marketscan  TNF          Infection                   Hospitalized infection                         3453        211    3897.106       100     5.414274
Marketscan  TNF          Infection                   Opportunistic infection                        3453         62     4035.08       100     1.536525
Marketscan  TNF          Inflammatory bowel disease  Crohn’s Disease                                3453        126    3920.003       100     3.214283
Marketscan  TNF          Inflammatory bowel disease  Ulcerative Colitis                             3453         71    3996.832       100     1.776407
Marketscan  TNF          Kidney disease              Amyloidosis                                    3453          1    4106.335       100     0.024353
Marketscan  TNF          Kidney disease              IgA nephropathy                                3453          4    4103.031       100     0.097489
Marketscan  TNF          Kidney disease              Nephrotic syndrome                             3453          1    4102.565       100     0.024375
Marketscan  TNF          Lung disease                Apical Pulmonary fibrosis                      3453          0    4106.861       100            0
Marketscan  TNF          Lung disease                Interstitial lung disease                      3453          4    4102.486       100     0.097502
Marketscan  TNF          Lung disease                Restrictive lung disease                       3453         26    4076.789       100     0.637757
Marketscan  TNF          Neurological Disease        Cauda Equina syndrome                          3453          1    4104.077       100     0.024366
Marketscan  TNF          Neurological Disease        Spinal Cord compression                        3453         10    4101.136       100     0.243835
Marketscan  TNF          Osteoporotic fracture       Clinical vertebral fracture                    3453         15    4087.376       100     0.366984
Marketscan  TNF          Osteoporotic fracture       Non-vertebral osteoporotic fracture            3453         48    4042.374       100     1.187421
Marketscan  TNF          PsO/PsA                     Psoriasis                                      3453        104      3961.3       100       2.6254
Marketscan  TNF          PsO/PsA                     Psoriatic arthritis                            3453        135    3872.337       100     3.486267
Marketscan  TNF          Uveitis                     Uveitis                                        3453        180     3785.21       100      4.75535
Medicare    DMARD        Cancer                      Hematologic Cancer                             1688         19    4434.363       100     0.428472
Medicare    DMARD        Cancer                      Non Melanoma Skin Cancer                       1688         68    4382.749       100     1.551538
Medicare    DMARD        Cancer                      Solid Cancer                                   1688        133     3965.38       100     3.354029
Medicare    DMARD        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1688         59    4208.507       100     1.401923
Medicare    DMARD        Cardiac disease             Conduction Block                               1688         60    4304.408       100      1.39392
Medicare    DMARD        Cardiac disease             Myocardial infarction                          1688         28    4448.068       100     0.629487
Medicare    DMARD        Infection                   Hospitalized infection                         1688        322    3836.088       100     8.393969
Medicare    DMARD        Infection                   Opportunistic infection                        1688         77    4197.457       100     1.834444
Medicare    DMARD        Inflammatory bowel disease  Crohn’s Disease                                1688         46     4249.67       100     1.082437
Medicare    DMARD        Inflammatory bowel disease  Ulcerative Colitis                             1688         37     4330.79       100     0.854348
Medicare    DMARD        Kidney disease              Amyloidosis                                    1688          1    4515.995       100     0.022144
Medicare    DMARD        Kidney disease              IgA nephropathy                                1688          5    4507.099       100     0.110936
Medicare    DMARD        Kidney disease              Nephrotic syndrome                             1688          6    4491.272       100     0.133592
Medicare    DMARD        Lung disease                Apical Pulmonary fibrosis                      1688          0    4512.257       100            0
Medicare    DMARD        Lung disease                Interstitial lung disease                      1688         18     4463.86       100     0.403238
Medicare    DMARD        Lung disease                Restrictive lung disease                       1688         61    4229.109       100     1.442384
Medicare    DMARD        Neurological Disease        Cauda Equina syndrome                          1688          1    4515.866       100     0.022144
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018   9

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare    DMARD        Neurological Disease        Spinal Cord compression                        1688          6    4499.644       100     0.133344
Medicare    DMARD        Osteoporotic fracture       Clinical vertebral fracture                    1688         55     4332.72       100      1.26941
Medicare    DMARD        Osteoporotic fracture       Non-vertebral osteoporotic fracture            1688         90    4187.337       100     2.149337
Medicare    DMARD        PsO/PsA                     Psoriasis                                      1688         51    4256.378       100     1.198202
Medicare    DMARD        PsO/PsA                     Psoriatic arthritis                            1688         65    4190.858       100     1.550995
Medicare    DMARD        Uveitis                     Uveitis                                        1688         76    4040.148       100     1.881119
Medicare    NSAID        Cancer                      Hematologic Cancer                             4147         33    9694.519       100     0.340399
Medicare    NSAID        Cancer                      Non Melanoma Skin Cancer                       4147        135    9611.934       100     1.404504
Medicare    NSAID        Cancer                      Solid Cancer                                   4147        227    8642.587       100     2.626528
Medicare    NSAID        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4147        139     9194.56       100     1.511763
Medicare    NSAID        Cardiac disease             Conduction Block                               4147        127     9271.45       100     1.369797
Medicare    NSAID        Cardiac disease             Myocardial infarction                          4147         53    9709.347       100     0.545866
Medicare    NSAID        Infection                   Hospitalized infection                         4147        674    8456.657       100     7.970052
Medicare    NSAID        Infection                   Opportunistic infection                        4147        162    9113.448       100     1.777593
Medicare    NSAID        Inflammatory bowel disease  Crohn’s Disease                                4147         64    9461.807       100     0.676404
Medicare    NSAID        Inflammatory bowel disease  Ulcerative Colitis                             4147         50    9612.279       100     0.520168
Medicare    NSAID        Kidney disease              Amyloidosis                                    4147          2    9875.595       100     0.020252
Medicare    NSAID        Kidney disease              IgA nephropathy                                4147          5    9854.021       100     0.050741
Medicare    NSAID        Kidney disease              Nephrotic syndrome                             4147          5    9871.214       100     0.050652
Medicare    NSAID        Lung disease                Apical Pulmonary fibrosis                      4147          3    9880.389       100     0.030363
Medicare    NSAID        Lung disease                Interstitial lung disease                      4147         11    9816.337       100     0.112058
Medicare    NSAID        Lung disease                Restrictive lung disease                       4147        111    9297.563       100     1.193861
Medicare    NSAID        Neurological Disease        Cauda Equina syndrome                          4147          1    9854.875       100     0.010147
Medicare    NSAID        Neurological Disease        Spinal Cord compression                        4147         16    9831.146       100     0.162748
Medicare    NSAID        Osteoporotic fracture       Clinical vertebral fracture                    4147        123    9364.329       100     1.313495
Medicare    NSAID        Osteoporotic fracture       Non-vertebral osteoporotic fracture            4147        159    9108.402       100     1.745641
Medicare    NSAID        PsO/PsA                     Psoriasis                                      4147         80    9436.717       100     0.847752
Medicare    NSAID        PsO/PsA                     Psoriatic arthritis                            4147         63     9499.45       100     0.663196
Medicare    NSAID        Uveitis                     Uveitis                                        4147        150    8928.753       100     1.679966
Medicare    No exposure  Cancer                      Hematologic Cancer                             2489          8      5896.4       100     0.135676
Medicare    No exposure  Cancer                      Non Melanoma Skin Cancer                       2489         24    5895.014       100     0.407124
Medicare    No exposure  Cancer                      Solid Cancer                                   2489         71    5534.754       100     1.282803
Medicare    No exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      2489         27    5754.089       100     0.469232
Medicare    No exposure  Cardiac disease             Conduction Block                               2489         30    5794.464       100     0.517736
Medicare    No exposure  Cardiac disease             Myocardial infarction                          2489         15    5877.065       100     0.255229
Medicare    No exposure  Infection                   Hospitalized infection                         2489        111    5689.257       100     1.951046
Medicare    No exposure  Infection                   Opportunistic infection                        2489         18    5854.637       100     0.307449
Medicare    No exposure  Inflammatory bowel disease  Crohn’s Disease                                2489         23    5719.411       100     0.402139
Medicare    No exposure  Inflammatory bowel disease  Ulcerative Colitis                             2489         11    5840.594       100     0.188337
Medicare    No exposure  Kidney disease              Amyloidosis                                    2489          2    5919.751       100     0.033785
Medicare    No exposure  Kidney disease              IgA nephropathy                                2489          2    5927.403       100     0.033742
Medicare    No exposure  Kidney disease              Nephrotic syndrome                             2489          4     5917.55       100     0.067596
Medicare    No exposure  Lung disease                Apical Pulmonary fibrosis                      2489          0    5928.142       100            0
Medicare    No exposure  Lung disease                Interstitial lung disease                      2489          4    5917.873       100     0.067592
Medicare    No exposure  Lung disease                Restrictive lung disease                       2489         39    5778.218       100     0.674949
Medicare    No exposure  Neurological Disease        Cauda Equina syndrome                          2489          3    5923.945       100     0.050642
Medicare    No exposure  Neurological Disease        Spinal Cord compression                        2489          2    5920.605       100      0.03378
Medicare    No exposure  Osteoporotic fracture       Clinical vertebral fracture                    2489         92    5723.321       100     1.607458
Medicare    No exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            2489        112    5648.348       100     1.982881
Medicare    No exposure  PsO/PsA                     Psoriasis                                      2489         27    5773.394       100     0.467663
Medicare    No exposure  PsO/PsA                     Psoriatic arthritis                            2489         25    5801.287       100     0.430939
Medicare    No exposure  Uveitis                     Uveitis                                        2489         43    5722.171       100     0.751463
Medicare    TNF          Cancer                      Hematologic Cancer                             3268         34    10632.42       100     0.319777
Medicare    TNF          Cancer                      Non Melanoma Skin Cancer                       3268        108    10499.67       100     1.028604
Medicare    TNF          Cancer                      Solid Cancer                                   3268        180     9898.42       100     1.818472
Medicare    TNF          Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      3268        123    10244.54       100     1.200639
Medicare    TNF          Cardiac disease             Conduction Block                               3268        106    10394.17       100     1.019802
Medicare    TNF          Cardiac disease             Myocardial infarction                          3268         46     10607.1       100     0.433672
Medicare    TNF          Infection                   Hospitalized infection                         3268        618     9117.76       100      6.77798
Medicare    TNF          Infection                   Opportunistic infection                        3268        170    10114.12       100     1.680818
Medicare    TNF          Inflammatory bowel disease  Crohn’s Disease                                3268        155    9779.518       100     1.584945
Medicare    TNF          Inflammatory bowel disease  Ulcerative Colitis                             3268         94    10199.85       100     0.921582
Medicare    TNF          Kidney disease              Amyloidosis                                    3268          6    10728.97       100     0.055923
Medicare    TNF          Kidney disease              IgA nephropathy                                3268         13    10692.29       100     0.121583
Medicare    TNF          Kidney disease              Nephrotic syndrome                             3268         10    10709.26       100     0.093377
Medicare    TNF          Lung disease                Apical Pulmonary fibrosis                      3268          0    10752.22       100            0
Medicare    TNF          Lung disease                Interstitial lung disease                      3268         22    10652.37       100     0.206527
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                    18:54 Monday, May 21, 2018  10

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare    TNF          Lung disease                Restrictive lung disease                       3268        136    10203.97       100     1.332814
Medicare    TNF          Neurological Disease        Cauda Equina syndrome                          3268          5    10735.69       100     0.046574
Medicare    TNF          Neurological Disease        Spinal Cord compression                        3268         16    10694.19       100     0.149614
Medicare    TNF          Osteoporotic fracture       Clinical vertebral fracture                    3268        117    10338.32       100     1.131712
Medicare    TNF          Osteoporotic fracture       Non-vertebral osteoporotic fracture            3268        143     10182.6       100     1.404357
Medicare    TNF          PsO/PsA                     Psoriasis                                      3268        158    9977.314       100     1.583593
Medicare    TNF          PsO/PsA                     Psoriatic arthritis                            3268        186    9772.709       100     1.903259
Medicare    TNF          Uveitis                     Uveitis                                        3268        240    9422.086       100     2.547207
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
506        quit;
NOTE: The PROCEDURE SQL printed pages 6-10.
NOTE: PROCEDURE SQL used (Total process time):
      real time           3.57 seconds
      cpu time            5.66 seconds
      

507        
508        
509        ods html close;
10                                                                  The SAS System                                          18:54 Monday, May 21, 2018

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           42.35 seconds
      cpu time            26.25 seconds
      
