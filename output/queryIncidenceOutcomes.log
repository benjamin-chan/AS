1                                                          The SAS System                            11:10 Thursday, August 31, 2017

NOTE: Copyright (c) 2002-2012 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M1) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70058223.
NOTE: This session is executing on the W32_ES08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 13.1
      SAS/ETS 13.1
      SAS/OR 13.1
      SAS/IML 13.1
      SAS/QC 13.1

NOTE: Additional host information:

 W32_ES08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any of the shared folders.

 


NOTE: SAS initialization used:
      real time           0.12 seconds
      cpu time            0.12 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                            *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=queryIncidenceOutcomes; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref CCW5STD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: h:\studies\osteo\data\CDM\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: h:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
89         footnote "&pgm.";
90         * footnote2 "%sysfunc(datetime(),datetime14.)";
91         title1 '--- AS project ---';
92         **********************************************************************;
93         options macrogen mlogic mprint symbolgen;
94         options nomacrogen nomlogic nomprint nosymbolgen;
95         
96         
97         ods html
98           body = "output\&cmt..html"
99           style = Statistical;
NOTE: Writing HTML Body file: output\queryIncidenceOutcomes.html
2                                                                   The SAS System                                     11:10 Thursday, August 31, 2017

100        
101        
102        /*
103        See the *Compact Outcome Definition* worksheet in `AS Project Cohort Outcome Codebook-20170410.xlsx`
104         */
105        
106        
107        /*
108        From: Xie, Fenglong [mailto:fenglongxie@uabmc.edu]
109        Sent: Wednesday, May 17, 2017 7:03 AM
110        To: Benjamin Chan <chanb@ohsu.edu>
111        Subject: RE: AS project data
112        
113        Hi, Ben
114        
115        The data are stored at UCB library defined as below email.
116        
117        Attached please find the cohort list.
118        
119        No exclusion was done except excluded for higher level exposure in six month
120        baseline.
121        
122        You need to do appropriate censor (such as censor for discontinues of
123        exposure, switch to same level or higher lever exposure ...).
124        
125        If you have question, please let me know.
126         */
127        
128        
129        /*
130        Call interstitial lung disease macro
131         */
132        %include "lib\IPP_2IPSOPplusPX_ILD.sas" / source2;
NOTE: %INCLUDE (level 1) file lib\IPP_2IPSOPplusPX_ILD.sas is file U:\studies\AS\pgms\bchan\lib\IPP_2IPSOPplusPX_ILD.sas.
133       +/*
134       +Interstitial lung disease;
135       +1)  One or more diagnosis codes for ILD from primary discharge
136       +Or
137       +2)  (Two or more diagnosis codes for ILD from secondary discharge or physician EMM ) plus one or more diagnosis tests within 90 days prior
137      !+to (inclusive) one of the diagnosis code for ILD
138       +*/
139       +%macro IPP_2IPSOPplusPX_ILD(outdata=,ids=,Dxs=, Pxs=);
140       +*DXs=diagnosis code in followup, Pxs=CPT code in follow up;
141       +*do not name outData as IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
142       +
143       +data IPPILD dxIPSILD dxOPILD;
144       +set &dxs();
145       +length dx1_date 4;
146       +format dx1_date mmddyy10.;
147       +dx1_date=min(ADMIT_DATE,  BEGIN_DATE);
148       +
149       +if dx in :('515','51630','51631','51632','51633','51634','51635','51636','51637',
150       +           '5164','5165','5166','5168','5169','71481');
151       +
152       +if enc_type='IP' and pdx='P'
153       +    then output IPPILD;
154       +if enc_type='IP' and pdx ne 'P'
155       +    then output dxIPSILD;
156       +if enc_type not in ('IP','IF', 'OT', " ")
157       +    then output dxOPILD;
158       +run;
159       +
160       +data dxIPSOPILD; *ILD from secondary discharge or physician EMM;
161       +set dxIPSILD dxOPILD;
162       +run;
163       +
164       +data pxILD; *diagnosis tests;
165       +set &pxs();
166       +if (px_type='09' and px in ('8741','8742')) or
167       +   (px_type='C1' and px in ('71250','71260','71270','71275','31625','31628',
168       +                             '31629','31632','31633','32095','32096','32097',
169       +                             '32098','32400','32405','32604','32606','32607',
3                                                                   The SAS System                                     11:10 Thursday, August 31, 2017

170       +                             '32608','32609'));
171       +run;
172       +proc sort data=pxILD nodupkey; by &IDS px_date;run; * drop duplicate PX date and keep only one;
173       +
174       +proc sql;
175       +/*one or more diagnosis tests within 90 days prior to (inclusive) one of the diagnosis code for ILD*/
176       +create table dxpxIPSOPILD as
177       +select a.* , b.px_date
178       +from dxIPSOPILD as a
179       +    ,
180       +     pxILD as b
181       +where a.&IDS=b.&IDS and
182       +      min(b.ADMIT_DATE, b.BEGIN_DATE)-90<=b.px_date<=min(b.ADMIT_DATE, b.BEGIN_DATE);
183       +
184       +/* sencond DX code */
185       +create table IPSOPILD as
186       +select a.*, min(b.ADMIT_DATE, b.BEGIN_DATE) as DX2_date length=4 format mmddyy10.
187       +from dxpxIPSOPILD as a
188       +    ,
189       +     dxIPSOPILD(drop=dx1_date) as b
190       +where a.patid=b.patid and
191       +      (a.ADMIT_DATE ne b.ADMIT_DATE and a.BEGIN_DATE ne b.BEGIN_DATE)
192       +order by &IDS,ADMIT_DATE, BEGIN_DATE;
193       +quit;
194       +
195       +
196       +data &outData;
197       +set IPPILD IPSOPILD;
198       +length outcome $20 outcome_date outcome_start_date 4;
199       +format outcome_date outcome_start_date mmddyy10.;
200       +outcome="ILD";
201       +outcome_date=max(dx1_date, dx2_date, px_date);
202       +outcome_start_date=min(dx1_date, dx2_date, px_date);
203       +drop ADMIT_DATE BEGIN_DATE DISCHARGE_DATE END_DATE;
204       +run;
205       +
206       +proc sort data=&outData;
207       +by &IDS outcome_date descending outcome_start_date descending Enc_type;
208       +run;
209       +
210       +data &outData;
211       +set &outData;
212       +by &IDS outcome_date descending outcome_start_date;
213       +if first.outcome_date;
214       +run;
215       +
216       +proc datasets nolist;
217       +delete IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
218       +quit;run;
219       +%mend IPP_2IPSOPplusPX_ILD;
NOTE: %INCLUDE (level 1) ending.
220        %IPP_2IPSOPplusPX_ILD(outdata = Work.outcome_ILD_MPCD,
221                              IDS = exposureID,
222                              Dxs = UCB.tempIncDxMPCD,
223                              Pxs = UCB.tempIncPxMPCD);

NOTE: There were 134354 observations read from the data set UCB.TEMPINCDXMPCD.
NOTE: The data set WORK.IPPILD has 0 observations and 21 variables.
NOTE: The data set WORK.DXIPSILD has 0 observations and 21 variables.
NOTE: The data set WORK.DXOPILD has 80 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.77 seconds
      cpu time            0.09 seconds
      


NOTE: There were 0 observations read from the data set WORK.DXIPSILD.
NOTE: There were 80 observations read from the data set WORK.DXOPILD.
NOTE: The data set WORK.DXIPSOPILD has 80 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
4                                                                   The SAS System                                     11:10 Thursday, August 31, 2017

      


NOTE: There were 290338 observations read from the data set UCB.TEMPINCPXMPCD.
NOTE: The data set WORK.PXILD has 523 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.85 seconds
      cpu time            0.06 seconds
      


NOTE: There were 523 observations read from the data set WORK.PXILD.
NOTE: 88 observations with duplicate key values were deleted.
NOTE: The data set WORK.PXILD has 435 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

NOTE: Table WORK.DXPXIPSOPILD created, with 155 rows and 22 columns.

NOTE: Table WORK.IPSOPILD created, with 0 rows and 23 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds
      


NOTE: There were 0 observations read from the data set WORK.IPPILD.
NOTE: There were 0 observations read from the data set WORK.IPSOPILD.
NOTE: The data set WORK.OUTCOME_ILD_MPCD has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      


NOTE: Input data set is empty.
NOTE: The data set WORK.OUTCOME_ILD_MPCD has 0 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      


NOTE: There were 0 observations read from the data set WORK.OUTCOME_ILD_MPCD.
NOTE: The data set WORK.OUTCOME_ILD_MPCD has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      


NOTE: Deleting WORK.IPPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSILD (memtype=DATA).
NOTE: Deleting WORK.DXOPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.PXILD (memtype=DATA).
NOTE: Deleting WORK.DXPXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.IPSOPILD (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

224        %IPP_2IPSOPplusPX_ILD(outdata = Work.outcome_ILD_UCB,
225                              IDS = exposureID,
226                              Dxs = UCB.tempIncDxUCB,
227                              Pxs = UCB.tempIncPxUCB);

NOTE: There were 259640 observations read from the data set UCB.TEMPINCDXUCB.
5                                                                   The SAS System                                     11:10 Thursday, August 31, 2017

NOTE: The data set WORK.IPPILD has 4 observations and 21 variables.
NOTE: The data set WORK.DXIPSILD has 60 observations and 21 variables.
NOTE: The data set WORK.DXOPILD has 28 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.87 seconds
      cpu time            0.11 seconds
      


NOTE: There were 60 observations read from the data set WORK.DXIPSILD.
NOTE: There were 28 observations read from the data set WORK.DXOPILD.
NOTE: The data set WORK.DXIPSOPILD has 88 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1232826 observations read from the data set UCB.TEMPINCPXUCB.
NOTE: The data set WORK.PXILD has 2128 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           3.27 seconds
      cpu time            0.28 seconds
      


NOTE: There were 2128 observations read from the data set WORK.PXILD.
NOTE: 300 observations with duplicate key values were deleted.
NOTE: The data set WORK.PXILD has 1828 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

NOTE: Table WORK.DXPXIPSOPILD created, with 146 rows and 22 columns.

NOTE: Table WORK.IPSOPILD created, with 158 rows and 23 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.10 seconds
      cpu time            0.04 seconds
      


NOTE: There were 4 observations read from the data set WORK.IPPILD.
NOTE: There were 158 observations read from the data set WORK.IPSOPILD.
NOTE: The data set WORK.OUTCOME_ILD_UCB has 162 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      


NOTE: There were 162 observations read from the data set WORK.OUTCOME_ILD_UCB.
NOTE: The data set WORK.OUTCOME_ILD_UCB has 162 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      


NOTE: There were 162 observations read from the data set WORK.OUTCOME_ILD_UCB.
NOTE: The data set WORK.OUTCOME_ILD_UCB has 14 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      


NOTE: Deleting WORK.IPPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSILD (memtype=DATA).
NOTE: Deleting WORK.DXOPILD (memtype=DATA).
6                                                                   The SAS System                                     11:10 Thursday, August 31, 2017

NOTE: Deleting WORK.DXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.PXILD (memtype=DATA).
NOTE: Deleting WORK.DXPXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.IPSOPILD (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

228        %IPP_2IPSOPplusPX_ILD(outdata = Work.outcome_ILD_SABR,
229                              IDS = exposureID,
230                              Dxs = UCB.tempIncDxSABR,
231                              Pxs = UCB.tempIncPxSABR);

NOTE: There were 6933129 observations read from the data set UCB.TEMPINCDXSABR.
NOTE: The data set WORK.IPPILD has 53 observations and 21 variables.
NOTE: The data set WORK.DXIPSILD has 797 observations and 21 variables.
NOTE: The data set WORK.DXOPILD has 2680 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           19.31 seconds
      cpu time            2.60 seconds
      


NOTE: There were 797 observations read from the data set WORK.DXIPSILD.
NOTE: There were 2680 observations read from the data set WORK.DXOPILD.
NOTE: The data set WORK.DXIPSOPILD has 3477 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      


NOTE: There were 6367119 observations read from the data set UCB.TEMPINCPXSABR.
NOTE: The data set WORK.PXILD has 240 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           14.83 seconds
      cpu time            1.60 seconds
      


NOTE: There were 240 observations read from the data set WORK.PXILD.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.PXILD has 240 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
      

NOTE: Table WORK.DXPXIPSOPILD created, with 61 rows and 22 columns.

NOTE: Table WORK.IPSOPILD created, with 49 rows and 23 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.09 seconds
      cpu time            0.03 seconds
      


NOTE: There were 53 observations read from the data set WORK.IPPILD.
NOTE: There were 49 observations read from the data set WORK.IPSOPILD.
NOTE: The data set WORK.OUTCOME_ILD_SABR has 102 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      


NOTE: There were 102 observations read from the data set WORK.OUTCOME_ILD_SABR.
NOTE: The data set WORK.OUTCOME_ILD_SABR has 102 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
7                                                                   The SAS System                                     11:10 Thursday, August 31, 2017

      cpu time            0.00 seconds
      


NOTE: There were 102 observations read from the data set WORK.OUTCOME_ILD_SABR.
NOTE: The data set WORK.OUTCOME_ILD_SABR has 63 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      


NOTE: Deleting WORK.IPPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSILD (memtype=DATA).
NOTE: Deleting WORK.DXOPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.PXILD (memtype=DATA).
NOTE: Deleting WORK.DXPXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.IPSOPILD (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

232        
233        
234        /*
235        Process fracture episodes data set
236         */
237        proc sql;
238          create table Work.fractures as
239            select database,
240                   exposure,
241                   patid,
242                   exposureStart,
243                   exposureEnd,
244                   exposureID,
245                   "Osteoporotic fracture" as outcomeCategory,
246                   fractureType as disease,
247                   fractureEpisodeStart as begin_date
248            from DT.fractureEpisodesInc
249            where ^missing(fractureType);
NOTE: Table WORK.FRACTURES created, with 7148 rows and 9 columns.

250        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

251        
252        
253        proc sql;
254        
255          create table Work.defOutcomes as
256            select *
257            from DT.defOutcomes
258            where disease ^in ("Interstitial lung disease");
NOTE: Table WORK.DEFOUTCOMES created, with 2664 rows and 6 columns.

259          create table Work.lookupDisease as
260            select distinct outcomeCategory, disease
261            from DT.defOutcomes;
NOTE: Table WORK.LOOKUPDISEASE created, with 21 rows and 2 columns.

262          insert into Work.lookupDisease (outcomeCategory, disease)
263            values ("Osteoporotic fracture", "Clinical vertebral fracture")
264            values ("Osteoporotic fracture", "Non-vertebral osteoporotic fracture");
NOTE: 2 rows were inserted into WORK.LOOKUPDISEASE.

265        
266          %let select1 = select A.*, B.outcomeCategory, B.disease;
8                                                                   The SAS System                                     11:10 Thursday, August 31, 2017

267          %let join1 = inner join Work.defOutcomes B on (A.codeType = B.codeType & A.code = B.code);
268          %let where1a = where B.disease ^in ("Myocardial infarction", "Hospitalized infection");
269          %let where1b = | (B.disease in ("Myocardial infarction", "Hospitalized infection") & A.enc_type = "IP");
270          %let select2 = select database, exposure, patid, exposureID, exposureStart, exposureEnd, enc_type, "Lung disease" as outcomeCategory,
270      ! "Interstitial lung disease" as disease, outcome_start_date as begin_date;
271          create table Work.incidentDisease as
272            select C.database, C.exposureID, C.patid, C.exposure, C.exposureStart, C.exposureEnd,
273                   C.outcomeCategory,
274                   C.disease,
275                   C.begin_date
276            from (&select1 from UCB.tempIncDxMPCD A &join1 &where1a &where1b union corr
277                  &select1 from UCB.tempIncDxUCB  A &join1 &where1a &where1b union corr
278                  &select1 from UCB.tempIncDxSABR A &join1 &where1a &where1b union corr
279                  &select1 from UCB.tempIncPxMPCD A &join1 &where1a union corr
280                  &select1 from UCB.tempIncPxUCB  A &join1 &where1a union corr
281                  &select1 from UCB.tempIncPxSABR A &join1 &where1a union corr
282                  &select2 from Work.outcome_ILD_MPCD union corr
283                  &select2 from Work.outcome_ILD_UCB  union corr
284                  &select2 from Work.outcome_ILD_SABR union corr
285                  select * from Work.fractures) C
286            order by C.database, C.exposureID, C.outcomeCategory, C.disease, C.begin_date;
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Table WORK.INCIDENTDISEASE created, with 170321 rows and 9 columns.

287        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           6.25 seconds
      cpu time            7.14 seconds
      

288        
289        /*
290        Take first occurrence of outcome
291         */
292        proc sort data = Work.incidentDisease nodupkey;
293          by database exposureID outcomeCategory disease;
294        run;

NOTE: There were 170321 observations read from the data set WORK.INCIDENTDISEASE.
NOTE: 134186 observations with duplicate key values were deleted.
NOTE: The data set WORK.INCIDENTDISEASE has 36135 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.17 seconds
      cpu time            0.21 seconds
      

295        
296        /*
297        Join incident disease outcomes to exposure timelines
298        Summarize
299         */
300        proc sql;
301          create table DT.incidentDiseaseTimelines as
302            select A.*,
303                   B.begin_date format = mmddyy10. as outcomeDate,
304                   missing(B.begin_date) as censor,
305                   case
306                     when missing(B.begin_date) then daysExposed
307                     when ^missing(B.begin_date) then B.begin_date - A.exposureStart + 1
308                     else .
309                     end as daysToOutcome
310            from (select A.*, B.*
311                  from DT.exposureTimeline A,
312                       Work.lookupDisease B) A left join
313                 Work.incidentDisease B on (A.exposureID = B.exposureID &
314                                            A.outcomeCategory = B.outcomeCategory &
315                                            A.disease = B.disease);
NOTE: The execution of this query involves performing one or more Cartesian product joins that can not be optimized.
NOTE: Table DT.INCIDENTDISEASETIMELINES created, with 1059265 rows and 14 columns.
9                                                                   The SAS System                                     11:10 Thursday, August 31, 2017


316          create table Work.incidence as
317            select database, exposure, outcomeCategory, disease,
318                 count(distinct exposureID) as n,
319                   sum(censor = 0) as incidence,
320                   sum(daysToOutcome) / 365.25 as personYears,
321                   sum(censor = 0) / (sum(daysToOutcome) / 365.25) * 1000 as incidencePer1000PY
322            from DT.incidentDiseaseTimelines
323            group by database, exposure, outcomeCategory, disease;
NOTE: Table WORK.INCIDENCE created, with 207 rows and 8 columns.

324          select * from Work.incidence;
                                                                  --- AS project ---                               11:10 Thursday, August 31, 2017   1

                                                                                                                                  person    incidence
database    exposure              Disease Category            Disease                                           n  incidence       Years    Per1000PY
-----------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        DMARD                 Cancer                      Hematologic Cancer                              423          1    426.0151     2.347335
MPCD        DMARD                 Cancer                      Non Melanoma Skin Cancer                        423          0     427.165            0
MPCD        DMARD                 Cancer                      Solid Cancer                                    423          8    419.2389      19.0822
MPCD        DMARD                 Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       423          2    426.0534     4.694247
MPCD        DMARD                 Cardiac disease             Conduction Block                                423          0     427.165            0
MPCD        DMARD                 Cardiac disease             Myocardial infarction                           423          0     427.165            0
MPCD        DMARD                 Infection                   Hospitalized infection                          423          0     427.165            0
MPCD        DMARD                 Infection                   Opportunistic infection                         423          5    421.6372     11.85854
MPCD        DMARD                 Inflammatory bowel disease  Crohn’s Disease                                 423         13    416.3176     31.22616
MPCD        DMARD                 Inflammatory bowel disease  Ulcerative Colitis                              423          3    424.7748     7.062566
MPCD        DMARD                 Kidney disease              Amyloidosis                                     423          0     427.165            0
MPCD        DMARD                 Kidney disease              IgA nephropathy                                 423          0     427.165            0
MPCD        DMARD                 Kidney disease              Nephrotic syndrome                              423          0     427.165            0
MPCD        DMARD                 Lung disease                Apical Pulmonary fibrosis                       423          0     427.165            0
MPCD        DMARD                 Lung disease                Interstitial lung disease                       423          0     427.165            0
MPCD        DMARD                 Lung disease                Restrictive lung disease                        423          0     427.165            0
MPCD        DMARD                 Neurological Disease        Cauda Equina syndrome                           423          0     427.165            0
MPCD        DMARD                 Neurological Disease        Spinal Cord compression                         423          0     427.165            0
MPCD        DMARD                 Osteoporotic fracture       Clinical vertebral fracture                     423          1    426.2943     2.345797
MPCD        DMARD                 Osteoporotic fracture       Non-vertebral osteoporotic fracture             423          3    425.4374     7.051567
MPCD        DMARD                 PsO/PsA                     Psoriasis                                       423          4    419.9261     9.525486
MPCD        DMARD                 PsO/PsA                     Psoriatic arthritis                             423         21    409.0623     51.33693
MPCD        DMARD                 Uveitis                     Uveitis                                         423         21    402.4203     52.18425
MPCD        NSAID or no exposure  Cancer                      Hematologic Cancer                             2093         10    2643.526     3.782826
MPCD        NSAID or no exposure  Cancer                      Non Melanoma Skin Cancer                       2093          0    2653.303            0
MPCD        NSAID or no exposure  Cancer                      Solid Cancer                                   2093         94    2540.309     37.00337
MPCD        NSAID or no exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      2093         41    2590.133      15.8293
MPCD        NSAID or no exposure  Cardiac disease             Conduction Block                               2093         15    2633.465     5.695918
MPCD        NSAID or no exposure  Cardiac disease             Myocardial infarction                          2093          0    2653.303            0
MPCD        NSAID or no exposure  Infection                   Hospitalized infection                         2093          6    2644.208      2.26911
MPCD        NSAID or no exposure  Infection                   Opportunistic infection                        2093         12    2636.704     4.551137
MPCD        NSAID or no exposure  Inflammatory bowel disease  Crohn’s Disease                                2093         66    2580.252      25.5789
MPCD        NSAID or no exposure  Inflammatory bowel disease  Ulcerative Colitis                             2093         33    2603.165     12.67688
MPCD        NSAID or no exposure  Kidney disease              Amyloidosis                                    2093          1    2652.865     0.376951
MPCD        NSAID or no exposure  Kidney disease              IgA nephropathy                                2093          3    2648.517     1.132709
MPCD        NSAID or no exposure  Kidney disease              Nephrotic syndrome                             2093          0    2653.303            0
MPCD        NSAID or no exposure  Lung disease                Apical Pulmonary fibrosis                      2093          0    2653.303            0
MPCD        NSAID or no exposure  Lung disease                Interstitial lung disease                      2093          0    2653.303            0
MPCD        NSAID or no exposure  Lung disease                Restrictive lung disease                       2093         40    2614.138     15.30141
MPCD        NSAID or no exposure  Neurological Disease        Cauda Equina syndrome                          2093          2    2651.362     0.754329
MPCD        NSAID or no exposure  Neurological Disease        Spinal Cord compression                        2093          8    2646.459     3.022908
MPCD        NSAID or no exposure  Osteoporotic fracture       Clinical vertebral fracture                    2093         40    2598.634      15.3927
MPCD        NSAID or no exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            2093         71    2571.871     27.60636
MPCD        NSAID or no exposure  PsO/PsA                     Psoriasis                                      2093         40      2598.7     15.39231
MPCD        NSAID or no exposure  PsO/PsA                     Psoriatic arthritis                            2093         43     2612.06      16.4621
MPCD        NSAID or no exposure  Uveitis                     Uveitis                                        2093         98    2531.781     38.70793
MPCD        TNF                   Cancer                      Hematologic Cancer                             1108          3    1501.218     1.998377
MPCD        TNF                   Cancer                      Non Melanoma Skin Cancer                       1108          0    1505.498            0
MPCD        TNF                   Cancer                      Solid Cancer                                   1108         26    1475.765     17.61799
MPCD        TNF                   Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1108         19    1489.517     12.75581
MPCD        TNF                   Cardiac disease             Conduction Block                               1108          5    1499.365     3.334745
MPCD        TNF                   Cardiac disease             Myocardial infarction                          1108          0    1505.498            0
MPCD        TNF                   Infection                   Hospitalized infection                         1108          1    1505.426     0.664264
MPCD        TNF                   Infection                   Opportunistic infection                        1108         13    1493.629     8.703634
MPCD        TNF                   Inflammatory bowel disease  Crohn’s Disease                                1108         66    1429.752     46.16184
MPCD        TNF                   Inflammatory bowel disease  Ulcerative Colitis                             1108         36    1461.092      24.6391
MPCD        TNF                   Kidney disease              Amyloidosis                                    1108          0    1505.498            0
MPCD        TNF                   Kidney disease              IgA nephropathy                                1108          3    1502.891     1.996153
MPCD        TNF                   Kidney disease              Nephrotic syndrome                             1108          0    1505.498            0
MPCD        TNF                   Lung disease                Apical Pulmonary fibrosis                      1108          0    1505.498            0
MPCD        TNF                   Lung disease                Interstitial lung disease                      1108          0    1505.498            0
MPCD        TNF                   Lung disease                Restrictive lung disease                       1108         14    1486.809     9.416139
MPCD        TNF                   Neurological Disease        Cauda Equina syndrome                          1108          0    1505.498            0
MPCD        TNF                   Neurological Disease        Spinal Cord compression                        1108          1    1504.769     0.664554
MPCD        TNF                   Osteoporotic fracture       Clinical vertebral fracture                    1108         14    1491.039     9.389426
MPCD        TNF                   Osteoporotic fracture       Non-vertebral osteoporotic fracture            1108         15    1494.031     10.03995
MPCD        TNF                   PsO/PsA                     Psoriasis                                      1108         49    1456.361     33.64549
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                               11:10 Thursday, August 31, 2017   2

                                                                                                                                  person    incidence
database    exposure              Disease Category            Disease                                           n  incidence       Years    Per1000PY
-----------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        TNF                   PsO/PsA                     Psoriatic arthritis                            1108         73     1422.19     51.32928
MPCD        TNF                   Uveitis                     Uveitis                                        1108         62    1422.713     43.57871
Marketscan  DMARD                 Cancer                      Hematologic Cancer                             1813          8    1792.775     4.462356
Marketscan  DMARD                 Cancer                      Non Melanoma Skin Cancer                       1813          6    1795.573     3.341552
Marketscan  DMARD                 Cancer                      Solid Cancer                                   1813         47     1747.25     26.89942
Marketscan  DMARD                 Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1813          9    1793.216     5.018917
Marketscan  DMARD                 Cardiac disease             Conduction Block                               1813          9    1789.495     5.029352
Marketscan  DMARD                 Cardiac disease             Myocardial infarction                          1813          3    1797.922     1.668593
Marketscan  DMARD                 Infection                   Hospitalized infection                         1813         58    1748.545     33.17044
Marketscan  DMARD                 Infection                   Opportunistic infection                        1813         12    1792.394     6.694956
Marketscan  DMARD                 Inflammatory bowel disease  Crohn’s Disease                                1813         42    1748.912     24.01493
Marketscan  DMARD                 Inflammatory bowel disease  Ulcerative Colitis                             1813         25     1779.94     14.04542
Marketscan  DMARD                 Kidney disease              Amyloidosis                                    1813          0    1799.995            0
Marketscan  DMARD                 Kidney disease              IgA nephropathy                                1813          1    1796.416     0.556664
Marketscan  DMARD                 Kidney disease              Nephrotic syndrome                             1813          1    1799.231     0.555793
Marketscan  DMARD                 Lung disease                Apical Pulmonary fibrosis                      1813          0    1799.995            0
Marketscan  DMARD                 Lung disease                Interstitial lung disease                      1813          1    1798.806     0.555924
Marketscan  DMARD                 Lung disease                Restrictive lung disease                       1813         11    1784.684     6.163555
Marketscan  DMARD                 Neurological Disease        Cauda Equina syndrome                          1813          1    1799.751     0.555632
Marketscan  DMARD                 Neurological Disease        Spinal Cord compression                        1813          3    1797.399     1.669078
Marketscan  DMARD                 Osteoporotic fracture       Clinical vertebral fracture                    1813         10    1793.563     5.575493
Marketscan  DMARD                 Osteoporotic fracture       Non-vertebral osteoporotic fracture            1813         19    1783.858     10.65107
Marketscan  DMARD                 PsO/PsA                     Psoriasis                                      1813         11    1795.663      6.12587
Marketscan  DMARD                 PsO/PsA                     Psoriatic arthritis                            1813         34    1774.858     19.15646
Marketscan  DMARD                 Uveitis                     Uveitis                                        1813         21    1784.723     11.76653
Marketscan  NSAID or no exposure  Cancer                      Hematologic Cancer                             8122         44    9207.058     4.778942
Marketscan  NSAID or no exposure  Cancer                      Non Melanoma Skin Cancer                       8122         23    9237.117     2.489954
Marketscan  NSAID or no exposure  Cancer                      Solid Cancer                                   8122        246    8975.075     27.40924
Marketscan  NSAID or no exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      8122         74    9173.878     8.066381
Marketscan  NSAID or no exposure  Cardiac disease             Conduction Block                               8122         85    9170.921     9.268425
Marketscan  NSAID or no exposure  Cardiac disease             Myocardial infarction                          8122         52    9208.931     5.646692
Marketscan  NSAID or no exposure  Infection                   Hospitalized infection                         8122        473    8738.571     54.12784
Marketscan  NSAID or no exposure  Infection                   Opportunistic infection                        8122         31      9237.9     3.355741
Marketscan  NSAID or no exposure  Inflammatory bowel disease  Crohn’s Disease                                8122        128    9115.847     14.04148
Marketscan  NSAID or no exposure  Inflammatory bowel disease  Ulcerative Colitis                             8122         78    9179.466     8.497226
Marketscan  NSAID or no exposure  Kidney disease              Amyloidosis                                    8122          0     9260.29            0
Marketscan  NSAID or no exposure  Kidney disease              IgA nephropathy                                8122          2    9259.507     0.215994
Marketscan  NSAID or no exposure  Kidney disease              Nephrotic syndrome                             8122          4    9255.589     0.432171
Marketscan  NSAID or no exposure  Lung disease                Apical Pulmonary fibrosis                      8122          0     9260.29            0
Marketscan  NSAID or no exposure  Lung disease                Interstitial lung disease                      8122          5    9257.309     0.540114
Marketscan  NSAID or no exposure  Lung disease                Restrictive lung disease                       8122         81    9174.316     8.828996
Marketscan  NSAID or no exposure  Neurological Disease        Cauda Equina syndrome                          8122          2     9258.39      0.21602
Marketscan  NSAID or no exposure  Neurological Disease        Spinal Cord compression                        8122         11    9253.837     1.188696
Marketscan  NSAID or no exposure  Osteoporotic fracture       Clinical vertebral fracture                    8122        166    9075.762     18.29048
Marketscan  NSAID or no exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            8122        146    9106.313     16.03283
Marketscan  NSAID or no exposure  PsO/PsA                     Psoriasis                                      8122         35    9229.881     3.792032
Marketscan  NSAID or no exposure  PsO/PsA                     Psoriatic arthritis                            8122         47    9215.904     5.099879
Marketscan  NSAID or no exposure  Uveitis                     Uveitis                                        8122         69    9194.779     7.504259
Marketscan  TNF                   Cancer                      Hematologic Cancer                             4824         14     6715.97     2.084583
Marketscan  TNF                   Cancer                      Non Melanoma Skin Cancer                       4824         17     6713.07     2.532373
Marketscan  TNF                   Cancer                      Solid Cancer                                   4824         59    6660.643     8.858003
Marketscan  TNF                   Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4824         39    6685.339     5.833661
Marketscan  TNF                   Cardiac disease             Conduction Block                               4824         33    6684.515     4.936783
Marketscan  TNF                   Cardiac disease             Myocardial infarction                          4824         14    6723.242     2.082329
Marketscan  TNF                   Infection                   Hospitalized infection                         4824        172    6560.214     26.21866
Marketscan  TNF                   Infection                   Opportunistic infection                        4824         21     6710.16     3.129583
Marketscan  TNF                   Inflammatory bowel disease  Crohn’s Disease                                4824        181    6529.643     27.71974
Marketscan  TNF                   Inflammatory bowel disease  Ulcerative Colitis                             4824        100    6619.611     15.10663
Marketscan  TNF                   Kidney disease              Amyloidosis                                    4824          1    6730.754     0.148572
Marketscan  TNF                   Kidney disease              IgA nephropathy                                4824          3    6728.654     0.445854
Marketscan  TNF                   Kidney disease              Nephrotic syndrome                             4824          0    6731.274            0
Marketscan  TNF                   Lung disease                Apical Pulmonary fibrosis                      4824          0    6731.274            0
Marketscan  TNF                   Lung disease                Interstitial lung disease                      4824          3    6729.175      0.44582
Marketscan  TNF                   Lung disease                Restrictive lung disease                       4824         37    6683.995     5.535612
Marketscan  TNF                   Neurological Disease        Cauda Equina syndrome                          4824          1    6730.294     0.148582
Marketscan  TNF                   Neurological Disease        Spinal Cord compression                        4824          4    6727.274     0.594594
Marketscan  TNF                   Osteoporotic fracture       Clinical vertebral fracture                    4824         25      6705.5     3.728283
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                               11:10 Thursday, August 31, 2017   3

                                                                                                                                  person    incidence
database    exposure              Disease Category            Disease                                           n  incidence       Years    Per1000PY
-----------------------------------------------------------------------------------------------------------------------------------------------------
Marketscan  TNF                   Osteoporotic fracture       Non-vertebral osteoporotic fracture            4824         77    6632.172     11.61007
Marketscan  TNF                   PsO/PsA                     Psoriasis                                      4824         54    6671.099     8.094618
Marketscan  TNF                   PsO/PsA                     Psoriatic arthritis                            4824        112    6607.168     16.95129
Marketscan  TNF                   Uveitis                     Uveitis                                        4824         58    6662.683     8.705202
Medicare    DMARD                 Cancer                      Hematologic Cancer                             4304        116    8862.617     13.08868
Medicare    DMARD                 Cancer                      Non Melanoma Skin Cancer                       4304        112    8918.297     12.55845
Medicare    DMARD                 Cancer                      Solid Cancer                                   4304        522    8064.723     64.72634
Medicare    DMARD                 Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4304        217    8643.693     25.10501
Medicare    DMARD                 Cardiac disease             Conduction Block                               4304        224    8696.706     25.75688
Medicare    DMARD                 Cardiac disease             Myocardial infarction                          4304         62    8981.437     6.903127
Medicare    DMARD                 Infection                   Hospitalized infection                         4304        725    7845.054     92.41491
Medicare    DMARD                 Infection                   Opportunistic infection                        4304        182    8798.324     20.68576
Medicare    DMARD                 Inflammatory bowel disease  Crohn’s Disease                                4304        292    8480.178     34.43324
Medicare    DMARD                 Inflammatory bowel disease  Ulcerative Colitis                             4304        191    8687.359     21.98597
Medicare    DMARD                 Kidney disease              Amyloidosis                                    4304          1    9063.617     0.110331
Medicare    DMARD                 Kidney disease              IgA nephropathy                                4304          9    9045.514     0.994968
Medicare    DMARD                 Kidney disease              Nephrotic syndrome                             4304          7    9057.306     0.772857
Medicare    DMARD                 Lung disease                Apical Pulmonary fibrosis                      4304          3    9058.806     0.331169
Medicare    DMARD                 Lung disease                Interstitial lung disease                      4304         17    9045.465     1.879395
Medicare    DMARD                 Lung disease                Restrictive lung disease                       4304        558    8071.395     69.13303
Medicare    DMARD                 Neurological Disease        Cauda Equina syndrome                          4304          5    9057.399     0.552035
Medicare    DMARD                 Neurological Disease        Spinal Cord compression                        4304         40    8990.902     4.448942
Medicare    DMARD                 Osteoporotic fracture       Clinical vertebral fracture                    4304        263    8598.973     30.58505
Medicare    DMARD                 Osteoporotic fracture       Non-vertebral osteoporotic fracture            4304        299    8557.049     34.94195
Medicare    DMARD                 PsO/PsA                     Psoriasis                                      4304        171     8750.27     19.54225
Medicare    DMARD                 PsO/PsA                     Psoriatic arthritis                            4304        357    8367.548     42.66483
Medicare    DMARD                 Uveitis                     Uveitis                                        4304        269    8555.515     31.44171
Medicare    NSAID or no exposure  Cancer                      Hematologic Cancer                            18431        509    38448.15     13.23861
Medicare    NSAID or no exposure  Cancer                      Non Melanoma Skin Cancer                      18431        609    38547.95      15.7985
Medicare    NSAID or no exposure  Cancer                      Solid Cancer                                  18431       2715    34018.78     79.80885
Medicare    NSAID or no exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation     18431       1252    37066.28     33.77733
Medicare    NSAID or no exposure  Cardiac disease             Conduction Block                              18431       1387    36982.72       37.504
Medicare    NSAID or no exposure  Cardiac disease             Myocardial infarction                         18431        359    38895.82     9.229782
Medicare    NSAID or no exposure  Infection                   Hospitalized infection                        18431       4146    32736.04     126.6494
Medicare    NSAID or no exposure  Infection                   Opportunistic infection                       18431        655    38323.41     17.09138
Medicare    NSAID or no exposure  Inflammatory bowel disease  Crohn’s Disease                               18431        846    37519.19     22.54846
Medicare    NSAID or no exposure  Inflammatory bowel disease  Ulcerative Colitis                            18431        570    38144.42     14.94321
Medicare    NSAID or no exposure  Kidney disease              Amyloidosis                                   18431         22    39270.18     0.560221
Medicare    NSAID or no exposure  Kidney disease              IgA nephropathy                               18431         83    39187.08     2.118045
Medicare    NSAID or no exposure  Kidney disease              Nephrotic syndrome                            18431         41    39236.04     1.044958
Medicare    NSAID or no exposure  Lung disease                Apical Pulmonary fibrosis                     18431          7    39308.09      0.17808
Medicare    NSAID or no exposure  Lung disease                Interstitial lung disease                     18431         24    39283.45     0.610944
Medicare    NSAID or no exposure  Lung disease                Restrictive lung disease                      18431       2659    34229.22     77.68216
Medicare    NSAID or no exposure  Neurological Disease        Cauda Equina syndrome                         18431         43     39230.6     1.096083
Medicare    NSAID or no exposure  Neurological Disease        Spinal Cord compression                       18431        258    38871.01     6.637336
Medicare    NSAID or no exposure  Osteoporotic fracture       Clinical vertebral fracture                   18431       1679    36316.84     46.23199
Medicare    NSAID or no exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture           18431       1407    36532.21     38.51395
Medicare    NSAID or no exposure  PsO/PsA                     Psoriasis                                     18431        431    38522.84     11.18817
Medicare    NSAID or no exposure  PsO/PsA                     Psoriatic arthritis                           18431        643    38138.19     16.85974
Medicare    NSAID or no exposure  Uveitis                     Uveitis                                       18431        914    37265.85     24.52647
Medicare    TNF                   Cancer                      Hematologic Cancer                             4937         78    13478.13     5.787153
Medicare    TNF                   Cancer                      Non Melanoma Skin Cancer                       4937        129    13456.19     9.586665
Medicare    TNF                   Cancer                      Solid Cancer                                   4937        503    12441.55     40.42905
Medicare    TNF                   Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4937        248    13087.43     18.94948
Medicare    TNF                   Cardiac disease             Conduction Block                               4937        260    13148.52     19.77409
Medicare    TNF                   Cardiac disease             Myocardial infarction                          4937         52    13553.18     3.836737
Medicare    TNF                   Infection                   Hospitalized infection                         4937        852    12014.07     70.91687
Medicare    TNF                   Infection                   Opportunistic infection                        4937        239    13161.34     18.15924
Medicare    TNF                   Inflammatory bowel disease  Crohn’s Disease                                4937        447    12410.67     36.01739
Medicare    TNF                   Inflammatory bowel disease  Ulcerative Colitis                             4937        285    12877.25     22.13205
Medicare    TNF                   Kidney disease              Amyloidosis                                    4937          8    13594.72     0.588464
Medicare    TNF                   Kidney disease              IgA nephropathy                                4937         29    13556.36     2.139218
Medicare    TNF                   Kidney disease              Nephrotic syndrome                             4937         21    13578.52     1.546561
Medicare    TNF                   Lung disease                Apical Pulmonary fibrosis                      4937          0    13615.52            0
Medicare    TNF                   Lung disease                Interstitial lung disease                      4937          8    13597.45     0.588346
Medicare    TNF                   Lung disease                Restrictive lung disease                       4937        648    12245.46     52.91757
Medicare    TNF                   Neurological Disease        Cauda Equina syndrome                          4937         12    13587.12      0.88319
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                               11:10 Thursday, August 31, 2017   4

                                                                                                                                  person    incidence
database    exposure              Disease Category            Disease                                           n  incidence       Years    Per1000PY
-----------------------------------------------------------------------------------------------------------------------------------------------------
Medicare    TNF                   Neurological Disease        Spinal Cord compression                        4937         53    13509.39     3.923196
Medicare    TNF                   Osteoporotic fracture       Clinical vertebral fracture                    4937        297    12993.19     22.85813
Medicare    TNF                   Osteoporotic fracture       Non-vertebral osteoporotic fracture            4937        367    12818.23     28.63111
Medicare    TNF                   PsO/PsA                     Psoriasis                                      4937        320    12888.99     24.82738
Medicare    TNF                   PsO/PsA                     Psoriatic arthritis                            4937        609    12117.43     50.25819
Medicare    TNF                   Uveitis                     Uveitis                                        4937        505    12285.46      41.1055
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
325        
326        quit;
NOTE: The PROCEDURE SQL printed pages 1-4.
NOTE: PROCEDURE SQL used (Total process time):
      real time           4.27 seconds
      cpu time            5.75 seconds
      

327        
328        
329        proc export
330          data = Work.incidence
331          outfile = "data\processed\&cmt..csv"
332          dbms = csv
333          replace;
334          delimiter = ",";
335        run;

336         /**********************************************************************
337         *   PRODUCT:   SAS
338         *   VERSION:   9.4
339         *   CREATOR:   External File Interface
340         *   DATE:      31AUG17
341         *   DESC:      Generated SAS Datastep Code
342         *   TEMPLATE SOURCE:  (None Specified.)
343         ***********************************************************************/
344            data _null_;
345            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
346            %let _EFIREC_ = 0;     /* clear export record count macro variable */
347            file 'data\processed\queryIncidenceOutcomes.csv' delimiter=',' DSD DROPOVER lrecl=32767;
348            if _n_ = 1 then        /* write column names or labels */
349             do;
350               put
351                  "database"
352               ','
353                  "exposure"
354               ','
355                  "outcomeCategory"
356               ','
357                  "Disease"
358               ','
359                  "n"
360               ','
361                  "incidence"
362               ','
363                  "personYears"
364               ','
365                  "incidencePer1000PY"
366               ;
367             end;
368           set  WORK.INCIDENCE   end=EFIEOD;
369               format database $10. ;
370               format exposure $20. ;
371               format outcomeCategory $26. ;
372               format Disease $41. ;
373               format n best12. ;
374               format incidence best12. ;
375               format personYears best12. ;
376               format incidencePer1000PY best12. ;
377             do;
10                                                                  The SAS System                                     11:10 Thursday, August 31, 2017

378               EFIOUT + 1;
379               put database $ @;
380               put exposure $ @;
381               put outcomeCategory $ @;
382               put Disease $ @;
383               put n @;
384               put incidence @;
385               put personYears @;
386               put incidencePer1000PY ;
387               ;
388             end;
389            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
390            if EFIEOD then call symputx('_EFIREC_',EFIOUT);
391            run;

NOTE: The file 'data\processed\queryIncidenceOutcomes.csv' is:
      Filename=U:\studies\AS\pgms\bchan\data\processed\queryIncidenceOutcomes.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=31Aug2017:11:11:23,
      Create Time=31Aug2017:11:11:23

NOTE: 208 records were written to the file 'data\processed\queryIncidenceOutcomes.csv'.
      The minimum record length was 57.
      The maximum record length was 124.
NOTE: There were 207 observations read from the data set WORK.INCIDENCE.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

207 records created in data\processed\queryIncidenceOutcomes.csv from WORK.INCIDENCE.
  
  
NOTE: "data\processed\queryIncidenceOutcomes.csv" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.09 seconds
      cpu time            0.07 seconds
      

392        
393        
394        ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           52.44 seconds
      cpu time            18.57 seconds
      
