1                                                                                           The SAS System                                                               11:44 Monday, November 5, 2018

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M5) 
      Licensed to UNIVERSITY OF ALABAMA AT BIRMINGHAM - SFA - T&R, Site 70086550.
NOTE: This session is executing on the X64_DS08R2  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 14.3
      SAS/ETS 14.3
      SAS/IML 14.3
      SAS/QC 14.3

NOTE: Additional host information:

 X64_DS08R2 WIN 6.1.7601 Service Pack 1 Server

--- PEER News and Updates ---

: SECURITY REMINDER :
Please remember not to copy any data files that contain PHI (protected health identifiers) to any of the shared folders.

 


NOTE: SAS initialization used:
      real time           4.02 seconds
      cpu time            0.35 seconds
      
1          *  University of Alabama at Birmingham                               *
2          *  AS project                                            *
3          **********************************************************************;
4          options pagesize=74 linesize=150 pageno=1 missing=' ' date FORMCHAR="|----|+|---+=|-/\<>*";
5          * Programmer    : Benjamin Chan <chanb@ohsu.edu>
6          * Creation date :
7          * Modify date   :
8          ;
9          %let cmt=queryIncidenceOutcomes; * type the name of your program here (without the filename extension);
10         %let pgm=&cmt..sas;
11         %include "lib\libname.sas" ;
NOTE: Libref STDC5P was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: H:\studies\osteo\data\STD_files\5pct\
NOTE: Libref STD_SABR was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\data\std_SABER\
NOTE: Libref MPSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\mpcd\data\stddata\
NOTE: Libref UCBSTD was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\stddata\
NOTE: Libref UCB was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB\
NOTE: Libref UCB64 was successfully assigned as follows: 
      Engine:        SPDE 
      Physical Name: q:\studies\AS\data\UCB64\
NOTE: Libref DT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: V:\studies\AS\data
NOTE: Libref NDC was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: W:\onenote\references\drug ndcs\sas data
143        footnote "&pgm.";
144        * footnote2 "%sysfunc(datetime(),datetime14.)";
145        title1 '--- AS project ---';
146        **********************************************************************;
147        options macrogen mlogic mprint symbolgen;
148        options nomacrogen nomlogic nomprint nosymbolgen;
149        
2                                                                   The SAS System                                      11:44 Monday, November 5, 2018

150        
151        ods html
152          body = "output\&cmt..html"
153          style = Statistical;
NOTE: Writing HTML Body file: output\queryIncidenceOutcomes.html
154        
155        
156        /*
157        See the *Compact Outcome Definition* worksheet in `AS Project Cohort Outcome Codebook-20170410.xlsx`
158         */
159        
160        
161        /*
162        From: Xie, Fenglong [mailto:fenglongxie@uabmc.edu]
163        Sent: Wednesday, May 17, 2017 7:03 AM
164        To: Benjamin Chan <chanb@ohsu.edu>
165        Subject: RE: AS project data
166        
167        Hi, Ben
168        
169        The data are stored at UCB library defined as below email.
170        
171        Attached please find the cohort list.
172        
173        No exclusion was done except excluded for higher level exposure in six month
174        baseline.
175        
176        You need to do appropriate censor (such as censor for discontinues of
177        exposure, switch to same level or higher lever exposure ...).
178        
179        If you have question, please let me know.
180         */
181        
182        
183        /*
184        Call interstitial lung disease macro
185         */
186        %include "lib\IPP_2IPSOPplusPX_ILD.sas" / source2;
NOTE: %INCLUDE (level 1) file lib\IPP_2IPSOPplusPX_ILD.sas is file U:\studies\AS\pgms\bchan\lib\IPP_2IPSOPplusPX_ILD.sas.
187       +/*
188       +Interstitial lung disease;
189       +1)  One or more diagnosis codes for ILD from primary discharge
190       +Or
191       +2)  (Two or more diagnosis codes for ILD from secondary discharge or physician EMM ) plus one or more diagnosis tests within 90 days prior
191      !+to (inclusive) one of the diagnosis code for ILD
192       +*/
193       +%macro IPP_2IPSOPplusPX_ILD(outdata=,ids=,Dxs=, Pxs=);
194       +*DXs=diagnosis code in followup, Pxs=CPT code in follow up;
195       +*do not name outData as IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
196       +
197       +data IPPILD dxIPSILD dxOPILD;
198       +set &dxs();
199       +length dx1_date 4;
200       +format dx1_date mmddyy10.;
201       +dx1_date=min(ADMIT_DATE,  BEGIN_DATE);
202       +
203       +if dx in :('515','51630','51631','51632','51633','51634','51635','51636','51637',
204       +           '5164','5165','5166','5168','5169','71481');
205       +
206       +if enc_type='IP' and pdx='P'
207       +    then output IPPILD;
208       +if enc_type='IP' and pdx ne 'P'
209       +    then output dxIPSILD;
210       +if enc_type not in ('IP','IF', 'OT', " ")
211       +    then output dxOPILD;
212       +run;
213       +
214       +data dxIPSOPILD; *ILD from secondary discharge or physician EMM;
215       +set dxIPSILD dxOPILD;
216       +run;
217       +
218       +data pxILD; *diagnosis tests;
3                                                                   The SAS System                                      11:44 Monday, November 5, 2018

219       +set &pxs();
220       +if (px_type='09' and px in ('8741','8742')) or
221       +   (px_type='C1' and px in ('71250','71260','71270','71275','31625','31628',
222       +                             '31629','31632','31633','32095','32096','32097',
223       +                             '32098','32400','32405','32604','32606','32607',
224       +                             '32608','32609'));
225       +run;
226       +proc sort data=pxILD nodupkey; by &IDS px_date;run; * drop duplicate PX date and keep only one;
227       +
228       +proc sql;
229       +/*one or more diagnosis tests within 90 days prior to (inclusive) one of the diagnosis code for ILD*/
230       +create table dxpxIPSOPILD as
231       +select a.* , b.px_date
232       +from dxIPSOPILD as a
233       +    ,
234       +     pxILD as b
235       +where a.&IDS=b.&IDS and
236       +      min(b.ADMIT_DATE, b.BEGIN_DATE)-90<=b.px_date<=min(b.ADMIT_DATE, b.BEGIN_DATE);
237       +
238       +/* sencond DX code */
239       +create table IPSOPILD as
240       +select a.*, min(b.ADMIT_DATE, b.BEGIN_DATE) as DX2_date length=4 format mmddyy10.
241       +from dxpxIPSOPILD as a
242       +    ,
243       +     dxIPSOPILD(drop=dx1_date) as b
244       +where a.patid=b.patid and
245       +      (a.ADMIT_DATE ne b.ADMIT_DATE and a.BEGIN_DATE ne b.BEGIN_DATE)
246       +order by &IDS,ADMIT_DATE, BEGIN_DATE;
247       +quit;
248       +
249       +
250       +data &outData;
251       +set IPPILD IPSOPILD;
252       +length outcome $20 outcome_date outcome_start_date 4;
253       +format outcome_date outcome_start_date mmddyy10.;
254       +outcome="ILD";
255       +outcome_date=max(dx1_date, dx2_date, px_date);
256       +outcome_start_date=min(dx1_date, dx2_date, px_date);
257       +drop ADMIT_DATE BEGIN_DATE DISCHARGE_DATE END_DATE;
258       +run;
259       +
260       +proc sort data=&outData;
261       +by &IDS outcome_date descending outcome_start_date descending Enc_type;
262       +run;
263       +
264       +data &outData;
265       +set &outData;
266       +by &IDS outcome_date descending outcome_start_date;
267       +if first.outcome_date;
268       +run;
269       +
270       +proc datasets nolist;
271       +delete IPPILD dxIPSILD dxOPILD dxIPSOPILD pxILD dxpxIPSOPILD IPSOPILD;
272       +quit;run;
273       +%mend IPP_2IPSOPplusPX_ILD;
NOTE: %INCLUDE (level 1) ending.
274        %IPP_2IPSOPplusPX_ILD(outdata = Work.outcome_ILD_All,
275                              IDS = exposureID,
276                              Dxs = UCB64.tempIncDxAll,
277                              Pxs = UCB64.tempIncPxAll);

NOTE: There were 2978141 observations read from the data set UCB64.TEMPINCDXALL.
NOTE: The data set WORK.IPPILD has 30 observations and 26 variables.
NOTE: The data set WORK.DXIPSILD has 346 observations and 26 variables.
NOTE: The data set WORK.DXOPILD has 1772 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           1.31 seconds
      cpu time            1.17 seconds
      


NOTE: There were 346 observations read from the data set WORK.DXIPSILD.
4                                                                   The SAS System                                      11:44 Monday, November 5, 2018

NOTE: There were 1772 observations read from the data set WORK.DXOPILD.
NOTE: The data set WORK.DXIPSOPILD has 2118 observations and 26 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4293010 observations read from the data set UCB64.TEMPINCPXALL.
NOTE: The data set WORK.PXILD has 7027 observations and 23 variables.
NOTE: DATA statement used (Total process time):
      real time           1.46 seconds
      cpu time            1.43 seconds
      


NOTE: There were 7027 observations read from the data set WORK.PXILD.
NOTE: 613 observations with duplicate key values were deleted.
NOTE: The data set WORK.PXILD has 6414 observations and 23 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

NOTE: Table WORK.DXPXIPSOPILD created, with 4037 rows and 27 columns.

NOTE: Table WORK.IPSOPILD created, with 22427 rows and 28 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.29 seconds
      cpu time            0.20 seconds
      


NOTE: There were 30 observations read from the data set WORK.IPPILD.
NOTE: There were 22427 observations read from the data set WORK.IPSOPILD.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 22457 observations and 27 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      


NOTE: There were 22457 observations read from the data set WORK.OUTCOME_ILD_ALL.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 22457 observations and 27 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      


NOTE: There were 22457 observations read from the data set WORK.OUTCOME_ILD_ALL.
NOTE: The data set WORK.OUTCOME_ILD_ALL has 539 observations and 27 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      


NOTE: Deleting WORK.IPPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSILD (memtype=DATA).
NOTE: Deleting WORK.DXOPILD (memtype=DATA).
NOTE: Deleting WORK.DXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.PXILD (memtype=DATA).
NOTE: Deleting WORK.DXPXIPSOPILD (memtype=DATA).
NOTE: Deleting WORK.IPSOPILD (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

278        proc sql;
5                                                                   The SAS System                                      11:44 Monday, November 5, 2018

279          create table Work.ILD as
280            select database,
281                   exposure,
282                   patid,
283                   exposureStart,
284                   exposureEnd,
285                   exposureID,
286                   "Lung disease" as outcomeCategory,
287                   "Interstitial lung disease" as disease,
288                   outcome_start_date as begin_date
289            from Work.outcome_ILD_All;
NOTE: Table WORK.ILD created, with 539 rows and 9 columns.

290          select database, exposure, disease, count(distinct exposureID) as n
291            from Work.ILD
292            group by database, exposure, disease;
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018   1

                                             database    exposure     disease                           n
                                             ------------------------------------------------------------
                                             Marketscan  No exposure  Interstitial lung disease         6
                                             Marketscan  TNF          Interstitial lung disease         4
                                             Medicare    DMARD        Interstitial lung disease        19
                                             Medicare    NSAID        Interstitial lung disease        10
                                             Medicare    No exposure  Interstitial lung disease        48
                                             Medicare    TNF          Interstitial lung disease        19
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
293        quit;
NOTE: The PROCEDURE SQL printed page 1.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.10 seconds
      cpu time            0.04 seconds
      

294        
295        
296        /*
297        Process fracture episodes data set
298         */
299        proc sql;
300          create table Work.fractures as
301            select database,
302                   exposure,
303                   patid,
304                   exposureStart,
305                   exposureEnd,
306                   exposureID,
307                   "Osteoporotic fracture" as outcomeCategory,
308                   fractureType as disease,
309                   fractureEpisodeStart as begin_date
310            from DT.fractureEpisodesInc
311            where ^missing(fractureType);
NOTE: Table WORK.FRACTURES created, with 2236 rows and 9 columns.

312          select database, exposure, disease, count(distinct exposureID) as n
313            from Work.fractures
314            group by database, exposure, disease;
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018   2

                                        database    exposure     disease                                     n
                                        ----------------------------------------------------------------------
                                        MPCD        DMARD        Clinical vertebral fracture                 2
                                        MPCD        DMARD        Non-vertebral osteoporotic fracture         4
                                        MPCD        NSAID        Clinical vertebral fracture                 1
                                        MPCD        NSAID        Non-vertebral osteoporotic fracture         5
                                        MPCD        No exposure  Clinical vertebral fracture                27
                                        MPCD        No exposure  Non-vertebral osteoporotic fracture        36
                                        MPCD        TNF          Clinical vertebral fracture                 8
                                        MPCD        TNF          Non-vertebral osteoporotic fracture        10
                                        Marketscan  DMARD        Clinical vertebral fracture                 2
                                        Marketscan  DMARD        Non-vertebral osteoporotic fracture        12
                                        Marketscan  NSAID        Clinical vertebral fracture                13
                                        Marketscan  NSAID        Non-vertebral osteoporotic fracture        19
                                        Marketscan  No exposure  Clinical vertebral fracture                42
                                        Marketscan  No exposure  Non-vertebral osteoporotic fracture        46
                                        Marketscan  TNF          Clinical vertebral fracture                15
                                        Marketscan  TNF          Non-vertebral osteoporotic fracture        43
                                        Medicare    DMARD        Clinical vertebral fracture                33
                                        Medicare    DMARD        Non-vertebral osteoporotic fracture        48
                                        Medicare    NSAID        Clinical vertebral fracture               105
                                        Medicare    NSAID        Non-vertebral osteoporotic fracture       137
                                        Medicare    No exposure  Clinical vertebral fracture               404
                                        Medicare    No exposure  Non-vertebral osteoporotic fracture       509
                                        Medicare    TNF          Clinical vertebral fracture                28
                                        Medicare    TNF          Non-vertebral osteoporotic fracture        43
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
315        quit;
NOTE: The PROCEDURE SQL printed page 2.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.12 seconds
      cpu time            0.03 seconds
      

316        
317        
318        /*
319        Process hospitalized infection data set
320         */
321        proc sql;
322          create table Work.hospInf as
323            select database,
324                   exposure,
325                   patid,
326                   exposureStart,
327                   exposureEnd,
328                   exposureID,
329                   "Infection" as outcomeCategory,
330                   "Hospitalized infection" as disease,
331                   outcome_start_date as begin_date
332            from DT.hospitalizedInfectionEpisodesInc;
NOTE: Table WORK.HOSPINF created, with 7949 rows and 9 columns.

6                                                                   The SAS System                                      11:44 Monday, November 5, 2018

333          select database, exposure, disease, count(distinct exposureID) as n
334            from Work.hospInf
335            group by database, exposure, disease;
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018   3

                                              database    exposure     disease                        n
                                              ---------------------------------------------------------
                                              MPCD        DMARD        Hospitalized infection         4
                                              MPCD        NSAID        Hospitalized infection         4
                                              MPCD        No exposure  Hospitalized infection        69
                                              MPCD        TNF          Hospitalized infection        23
                                              Marketscan  DMARD        Hospitalized infection        33
                                              Marketscan  NSAID        Hospitalized infection        65
                                              Marketscan  No exposure  Hospitalized infection       197
                                              Marketscan  TNF          Hospitalized infection       227
                                              Medicare    DMARD        Hospitalized infection       350
                                              Medicare    NSAID        Hospitalized infection       686
                                              Medicare    No exposure  Hospitalized infection      1896
                                              Medicare    TNF          Hospitalized infection       552
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
336        quit;
NOTE: The PROCEDURE SQL printed page 3.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.14 seconds
      cpu time            0.12 seconds
      

337        
338        
339        /*
340        Process opportunistic infection data set
341         */
342        proc sql;
343          create table Work.oppInf as
344            select database,
345                   exposure,
346                   patid,
347                   exposureStart,
348                   exposureEnd,
349                   exposureID,
350                   "Infection" as outcomeCategory,
351                   "Opportunistic infection" as disease,
352                   outcome_start_date as begin_date
353            from DT.opportunInfectionEpisodesInc;
NOTE: Table WORK.OPPINF created, with 2586 rows and 9 columns.

354          select database, exposure, disease, count(distinct exposureID) as n
355            from Work.oppInf
356            group by database, exposure, disease;
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018   4

                                              database    exposure     disease                         n
                                              ----------------------------------------------------------
                                              MPCD        DMARD        Opportunistic infection         3
                                              MPCD        NSAID        Opportunistic infection         1
                                              MPCD        No exposure  Opportunistic infection        11
                                              MPCD        TNF          Opportunistic infection        15
                                              Marketscan  DMARD        Opportunistic infection         9
                                              Marketscan  NSAID        Opportunistic infection        19
                                              Marketscan  No exposure  Opportunistic infection        47
                                              Marketscan  TNF          Opportunistic infection        55
                                              Medicare    DMARD        Opportunistic infection       100
                                              Medicare    NSAID        Opportunistic infection       123
                                              Medicare    No exposure  Opportunistic infection       458
                                              Medicare    TNF          Opportunistic infection       137
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
357        quit;
NOTE: The PROCEDURE SQL printed page 4.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.12 seconds
      cpu time            0.03 seconds
      

358        
359        
360        /*
361        Query for incident MI
362        
363        * Requires at least a 1-day inpatient admission
364         */
365        proc sql;
366          create table Work.incidentMI as
367            select C.database, C.exposureID, C.patid, C.exposure, C.exposureStart, C.exposureEnd,
368                   C.outcomeCategory,
369                   C.disease,
370                   C.begin_date
371            from (select A.*, B.outcomeCategory, B.disease
372                  from UCB64.tempIncDxAll A inner join
373                       (select * from DT.defOutcomes where disease = "Myocardial infarction") B on (A.codeType = B.codeType & A.code = B.code)
374                  where B.disease = "Myocardial infarction"  &
375                        A.enc_type = "IP" &
376                        . < A.admit_date < A.discharge_date) C
377            order by C.database, C.exposureID, C.outcomeCategory, C.disease, C.begin_date;
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Table WORK.INCIDENTMI created, with 708 rows and 9 columns.

378          select database, exposure, disease, count(distinct exposureID) as n
379            from Work.incidentMI
380            group by database, exposure, disease;
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018   5

                                     database    exposure     Disease                                           n
                                     ----------------------------------------------------------------------------
                                     MPCD        No exposure  Myocardial infarction                             3
                                     MPCD        TNF          Myocardial infarction                             1
                                     Marketscan  DMARD        Myocardial infarction                             1
                                     Marketscan  NSAID        Myocardial infarction                             1
                                     Marketscan  No exposure  Myocardial infarction                            15
                                     Marketscan  TNF          Myocardial infarction                             6
                                     Medicare    DMARD        Myocardial infarction                            30
                                     Medicare    NSAID        Myocardial infarction                            43
                                     Medicare    No exposure  Myocardial infarction                           223
                                     Medicare    TNF          Myocardial infarction                            31
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
381        quit;
NOTE: The PROCEDURE SQL printed page 5.
NOTE: PROCEDURE SQL used (Total process time):
      real time           1.04 seconds
      cpu time            1.07 seconds
      

7                                                                   The SAS System                                      11:44 Monday, November 5, 2018

382        
383        
384        /*
385        Process the data sets created by the cancer scripts
386         */
387        proc sql;
388          create table Work.cancer as
389            select database,
390                   exposure,
391                   patid,
392                   exposureStart,
393                   exposureEnd,
394                   exposureID,
395                   "Cancer" as outcomeCategory,
396                   cancer as disease,
397                   outcome_start_date as begin_date
398            from (select * from DT.cancerSetoguchiEpisodesInc union corr
399                  select * from DT.cancerNMSCEpisodesInc );
NOTE: Table WORK.CANCER created, with 2791 rows and 9 columns.

400          select database, exposure, disease,
401                 count(distinct patid) as countDistinctPatid,
402                 count(distinct exposureID) as countDistinctEpisodes
403            from Work.cancer
404            group by database, exposure, disease;
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018   6

                                                                                              count         count
                                                                                           Distinct      Distinct
                                    database    exposure     disease                          Patid      Episodes
                                    -----------------------------------------------------------------------------
                                    MPCD        DMARD        Non Melanoma Skin Cancer             2             2
                                    MPCD        DMARD        Solid Cancer                         3             3
                                    MPCD        NSAID        Hematologic Cancer                   1             1
                                    MPCD        NSAID        Non Melanoma Skin Cancer             1             1
                                    MPCD        NSAID        Solid Cancer                         5             5
                                    MPCD        No exposure  Hematologic Cancer                   3             3
                                    MPCD        No exposure  Non Melanoma Skin Cancer            25            25
                                    MPCD        No exposure  Solid Cancer                        25            25
                                    MPCD        TNF          Hematologic Cancer                   2             2
                                    MPCD        TNF          Non Melanoma Skin Cancer            12            12
                                    MPCD        TNF          Solid Cancer                         5             5
                                    Marketscan  DMARD        Hematologic Cancer                   2             2
                                    Marketscan  DMARD        Non Melanoma Skin Cancer             5             5
                                    Marketscan  DMARD        Solid Cancer                        10            10
                                    Marketscan  NSAID        Hematologic Cancer                   3             3
                                    Marketscan  NSAID        Non Melanoma Skin Cancer             2             2
                                    Marketscan  NSAID        Solid Cancer                        10            10
                                    Marketscan  No exposure  Hematologic Cancer                   9             9
                                    Marketscan  No exposure  Non Melanoma Skin Cancer            34            34
                                    Marketscan  No exposure  Solid Cancer                        51            51
                                    Marketscan  TNF          Hematologic Cancer                   4             4
                                    Marketscan  TNF          Non Melanoma Skin Cancer            21            21
                                    Marketscan  TNF          Solid Cancer                        21            21
                                    Medicare    DMARD        Hematologic Cancer                  10            10
                                    Medicare    DMARD        Non Melanoma Skin Cancer            51            51
                                    Medicare    DMARD        Solid Cancer                        66            67
                                    Medicare    NSAID        Hematologic Cancer                  20            20
                                    Medicare    NSAID        Non Melanoma Skin Cancer            82            85
                                    Medicare    NSAID        Solid Cancer                       103           103
                                    Medicare    No exposure  Hematologic Cancer                  73            73
                                    Medicare    No exposure  Non Melanoma Skin Cancer           518           518
                                    Medicare    No exposure  Solid Cancer                       481           481
                                    Medicare    TNF          Hematologic Cancer                  14            14
                                    Medicare    TNF          Non Melanoma Skin Cancer            81            82
                                    Medicare    TNF          Solid Cancer                        63            63
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
405        quit;
NOTE: The PROCEDURE SQL printed page 6.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.24 seconds
      cpu time            0.14 seconds
      

406        
407        
408        proc sql;
409        
410          create table Work.defOutcomes as
411            select *
412            from DT.defOutcomes
413            where disease ^in ("Interstitial lung disease",
414                               "Myocardial infarction",
415                               "Hospitalized infection",
416                               "Opportunistic infection");
NOTE: Table WORK.DEFOUTCOMES created, with 750 rows and 6 columns.

417          create table Work.lookupDisease as
418            select distinct outcomeCategory, disease
419            from DT.defOutcomes;
NOTE: Table WORK.LOOKUPDISEASE created, with 21 rows and 2 columns.

420          insert into Work.lookupDisease (outcomeCategory, disease)
421            values ("Osteoporotic fracture", "Clinical vertebral fracture")
422            values ("Osteoporotic fracture", "Non-vertebral osteoporotic fracture");
NOTE: 2 rows were inserted into WORK.LOOKUPDISEASE.

423        
424          %let select1 = select A.*, B.outcomeCategory, B.disease;
425          %let join1 = inner join Work.defOutcomes B on (A.codeType = B.codeType & A.code = B.code);
426          create table Work.incidentDisease as
427            select C.database, C.exposureID, C.patid, C.exposure, C.exposureStart, C.exposureEnd,
428                   C.outcomeCategory,
429                   C.disease,
430                   C.begin_date
431            from (&select1 from UCB64.tempIncDxAll A &join1 union corr
432                  &select1 from UCB64.tempIncPxAll A &join1 union corr
433                  select * from Work.cancer union corr
434                  select * from Work.ILD union corr
435                  select * from Work.incidentMI union corr
436                  select * from Work.hospInf union corr
437                  select * from Work.oppInf  union corr
438                  select * from Work.fractures) C
439            order by C.database, C.exposureID, C.outcomeCategory, C.disease, C.begin_date;
8                                                                   The SAS System                                      11:44 Monday, November 5, 2018

NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Parallel WHERE evaluation suppressed due to sort order on table.
NOTE: Table WORK.INCIDENTDISEASE created, with 59775 rows and 9 columns.

440        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           3.05 seconds
      cpu time            4.11 seconds
      

441        
442        /*
443        Take first occurrence of outcome
444         */
445        proc sort data = Work.incidentDisease nodupkey;
446          by database exposureID outcomeCategory disease;
447        run;

NOTE: There were 59775 observations read from the data set WORK.INCIDENTDISEASE.
NOTE: 39178 observations with duplicate key values were deleted.
NOTE: The data set WORK.INCIDENTDISEASE has 20597 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.10 seconds
      cpu time            0.06 seconds
      

448        
449        /*
450        For all but NMSC and infection (hospitalized and opportunistic),
451        keep first incident outcome within patient ID
452         */
453        data Work.incidentDiseaseSubsetA Work.incidentDiseaseSubsetB;
454          set Work.incidentDisease;
455          if disease in ("Non Melanoma Skin Cancer",
456                         "Hospitalized infection") then output Work.incidentDiseaseSubsetA;
457          else output Work.incidentDiseaseSubsetB;
458        run;

NOTE: There were 20597 observations read from the data set WORK.INCIDENTDISEASE.
NOTE: The data set WORK.INCIDENTDISEASESUBSETA has 5035 observations and 9 variables.
NOTE: The data set WORK.INCIDENTDISEASESUBSETB has 15562 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

459        proc sort data = Work.incidentDiseaseSubsetB;
460          by database patid outcomeCategory disease begin_date;
461        run;

NOTE: There were 15562 observations read from the data set WORK.INCIDENTDISEASESUBSETB.
NOTE: The data set WORK.INCIDENTDISEASESUBSETB has 15562 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

462        proc sort data = Work.incidentDiseaseSubsetB nodupkey;
463          by database patid outcomeCategory disease;
464        run;

NOTE: There were 15562 observations read from the data set WORK.INCIDENTDISEASESUBSETB.
NOTE: 1865 observations with duplicate key values were deleted.
NOTE: The data set WORK.INCIDENTDISEASESUBSETB has 13697 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.07 seconds
      cpu time            0.04 seconds
      

465        proc sql;
466          create table Work.incidentDisease as
467            select * from Work.incidentDiseaseSubsetA union corr
9                                                                   The SAS System                                      11:44 Monday, November 5, 2018

468            select * from Work.incidentDiseaseSubsetB ;
NOTE: Table WORK.INCIDENTDISEASE created, with 18732 rows and 9 columns.

469        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.18 seconds
      cpu time            0.14 seconds
      

470        
471        
472        /*
473        Join incident disease outcomes to exposure timelines
474        Summarize
475         */
476        proc sql;
477          create table DT.incidentDiseaseTimelines as
478            select A.*,
479                   D.begin_date format = mmddyy10. as outcomeDate,
480                   F.earliestOutcome,
481                   case
482                     when ^missing(D.begin_date) & missing(F.earliestOutcome) then 0
483                     when ^missing(D.begin_date) & A.exposureStart <= F.earliestOutcome <= A.exposureEnd then 0
484                     when . < F.earliestOutcome < A.exposureStart then 1
485                     when missing(D.begin_date) then 1
486                     else .
487                     end as censor,
488                   case
489                     when ^missing(D.begin_date) & missing(F.earliestOutcome) then D.begin_date - A.exposureStart + 1
490                     when ^missing(D.begin_date) & A.exposureStart <= F.earliestOutcome <= A.exposureEnd then D.begin_date - A.exposureStart + 1
491                     when . < F.earliestOutcome < A.exposureStart then 0
492                     when missing(D.begin_date) then daysExposed
493                     else .
494                     end as daysAtRisk
495            from (select B.*, C.*
496                  from DT.exposureTimeline B,
497                       Work.lookupDisease C) A left join
498                 Work.incidentDisease D on (A.database = D.database &
499                                            A.patid = D.patid &
500                                            A.exposure = D.exposure &
501                                            A.exposureStart = D.exposureStart &
502                                            A.outcomeCategory = D.outcomeCategory &
503                                            A.disease = D.disease) left join
504                 (select E.database, E.patid, E.outcomeCategory, E.disease,
505                         min(E.begin_date) format = mmddyy10. as earliestOutcome
506                  from Work.incidentDisease E
507                  where E.disease ^in ("Non Melanoma Skin Cancer",
508                                       "Hospitalized infection")
509                  group by E.database, E.patid, E.outcomeCategory, E.disease) F on (A.database = F.database &
510                                                                                    A.patid = F.patid &
511                                                                                    A.outcomeCategory = F.outcomeCategory &
512                                                                                    A.disease = F.disease)
513            order by A.database, A.patid, A.outcomeCategory, A.disease, A.exposureStart;
NOTE: The execution of this query involves performing one or more Cartesian product joins that can not be optimized.
NOTE: Table DT.INCIDENTDISEASETIMELINES created, with 985483 rows and 19 columns.

514          create table Work.incidence as
515            select database, exposure, outcomeCategory, disease,
516                   count(distinct exposureID) as n,
517                   sum(censor = 0) as incidence,
518                   sum(daysAtRisk) / 365.25 as personYears,
519                   100 as scale,
520                   sum(censor = 0) / (sum(daysAtRisk) / 365.25) * calculated scale as incidenceRate
521            from DT.incidentDiseaseTimelines
522            group by database, exposure, outcomeCategory, disease;
NOTE: Table WORK.INCIDENCE created, with 276 rows and 9 columns.

523          select * from Work.incidence;
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018   7

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        DMARD        Cancer                      Hematologic Cancer                              420          0    322.3929       100            0
MPCD        DMARD        Cancer                      Non Melanoma Skin Cancer                        420          2     323.499       100      0.61824
MPCD        DMARD        Cancer                      Solid Cancer                                    420         10    312.2628       100      3.20243
MPCD        DMARD        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       420          1     325.974       100     0.306773
MPCD        DMARD        Cardiac disease             Conduction Block                                420          0    326.5325       100            0
MPCD        DMARD        Cardiac disease             Myocardial infarction                           420          0    326.5325       100            0
MPCD        DMARD        Infection                   Hospitalized infection                          420          4     321.399       100     1.244559
MPCD        DMARD        Infection                   Opportunistic infection                         420          3    321.0212       100     0.934518
MPCD        DMARD        Inflammatory bowel disease  Crohn’s Disease                                 420          5    320.8706       100      1.55826
MPCD        DMARD        Inflammatory bowel disease  Ulcerative Colitis                              420          1    325.9165       100     0.306827
MPCD        DMARD        Kidney disease              Amyloidosis                                     420          0    326.5325       100            0
MPCD        DMARD        Kidney disease              IgA nephropathy                                 420          0    326.5325       100            0
MPCD        DMARD        Kidney disease              Nephrotic syndrome                              420          0    326.5325       100            0
MPCD        DMARD        Lung disease                Apical Pulmonary fibrosis                       420          0    326.5325       100            0
MPCD        DMARD        Lung disease                Interstitial lung disease                       420          0    326.5325       100            0
MPCD        DMARD        Lung disease                Restrictive lung disease                        420          0    325.1034       100            0
MPCD        DMARD        Neurological Disease        Cauda Equina syndrome                           420          0    326.5325       100            0
MPCD        DMARD        Neurological Disease        Spinal Cord compression                         420          0    326.5325       100            0
MPCD        DMARD        Osteoporotic fracture       Clinical vertebral fracture                     420          1    321.7276       100     0.310822
MPCD        DMARD        Osteoporotic fracture       Non-vertebral osteoporotic fracture             420          4    322.7105       100     1.239501
MPCD        DMARD        PsO/PsA                     Psoriasis                                       420          4    323.4497       100     1.236668
MPCD        DMARD        PsO/PsA                     Psoriatic arthritis                             420         15    312.5695       100     4.798933
MPCD        DMARD        Uveitis                     Uveitis                                         420         10    311.1869       100     3.213503
MPCD        NSAID        Cancer                      Hematologic Cancer                              578          1    419.4743       100     0.238394
MPCD        NSAID        Cancer                      Non Melanoma Skin Cancer                        578          1    420.3149       100     0.237917
MPCD        NSAID        Cancer                      Solid Cancer                                    578          8    411.3566       100     1.944785
MPCD        NSAID        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       578          2     416.553       100     0.480131
MPCD        NSAID        Cardiac disease             Conduction Block                                578          2    418.2259       100      0.47821
MPCD        NSAID        Cardiac disease             Myocardial infarction                           578          0    421.0897       100            0
MPCD        NSAID        Infection                   Hospitalized infection                          578          4    416.4983       100     0.960388
MPCD        NSAID        Infection                   Opportunistic infection                         578          1    418.1629       100     0.239141
MPCD        NSAID        Inflammatory bowel disease  Crohn’s Disease                                 578          3    420.1123       100     0.714095
MPCD        NSAID        Inflammatory bowel disease  Ulcerative Colitis                              578          2    417.4921       100     0.479051
MPCD        NSAID        Kidney disease              Amyloidosis                                     578          0    421.0897       100            0
MPCD        NSAID        Kidney disease              IgA nephropathy                                 578          1    420.7228       100     0.237686
MPCD        NSAID        Kidney disease              Nephrotic syndrome                              578          0    421.0897       100            0
MPCD        NSAID        Lung disease                Apical Pulmonary fibrosis                       578          0    421.0897       100            0
MPCD        NSAID        Lung disease                Interstitial lung disease                       578          0    421.0897       100            0
MPCD        NSAID        Lung disease                Restrictive lung disease                        578          5    416.1588       100     1.201464
MPCD        NSAID        Neurological Disease        Cauda Equina syndrome                           578          0    421.0897       100            0
MPCD        NSAID        Neurological Disease        Spinal Cord compression                         578          1     420.104       100     0.238036
MPCD        NSAID        Osteoporotic fracture       Clinical vertebral fracture                     578          1    419.5291       100     0.238362
MPCD        NSAID        Osteoporotic fracture       Non-vertebral osteoporotic fracture             578          5    415.9014       100     1.202208
MPCD        NSAID        PsO/PsA                     Psoriasis                                       578          2    415.3155       100     0.481562
MPCD        NSAID        PsO/PsA                     Psoriatic arthritis                             578          6    414.9405       100     1.445991
MPCD        NSAID        Uveitis                     Uveitis                                         578          7    414.8255       100     1.687457
MPCD        No exposure  Cancer                      Hematologic Cancer                             1307         11    1593.788       100      0.69018
MPCD        No exposure  Cancer                      Non Melanoma Skin Cancer                       1307         25     1569.27       100     1.593097
MPCD        No exposure  Cancer                      Solid Cancer                                   1307         82    1502.201       100     5.458656
MPCD        No exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1307         29    1563.732       100     1.854538
MPCD        No exposure  Cardiac disease             Conduction Block                               1307         18    1585.566       100     1.135241
MPCD        No exposure  Cardiac disease             Myocardial infarction                          1307          3    1599.269       100     0.187586
MPCD        No exposure  Infection                   Hospitalized infection                         1307         69    1528.487       100     4.514267
MPCD        No exposure  Infection                   Opportunistic infection                        1307         10    1593.487       100     0.627555
MPCD        No exposure  Inflammatory bowel disease  Crohn’s Disease                                1307         32    1572.307       100     2.035226
MPCD        No exposure  Inflammatory bowel disease  Ulcerative Colitis                             1307         21     1585.15       100     1.324796
MPCD        No exposure  Kidney disease              Amyloidosis                                    1307          3     1602.79       100     0.187174
MPCD        No exposure  Kidney disease              IgA nephropathy                                1307          1    1602.396       100     0.062407
MPCD        No exposure  Kidney disease              Nephrotic syndrome                             1307          0    1603.992       100            0
MPCD        No exposure  Lung disease                Apical Pulmonary fibrosis                      1307          1    1603.272       100     0.062372
MPCD        No exposure  Lung disease                Interstitial lung disease                      1307          0    1603.992       100            0
MPCD        No exposure  Lung disease                Restrictive lung disease                       1307         16    1592.862       100     1.004481
MPCD        No exposure  Neurological Disease        Cauda Equina syndrome                          1307          1    1603.403       100     0.062367
MPCD        No exposure  Neurological Disease        Spinal Cord compression                        1307          2    1603.863       100     0.124699
MPCD        No exposure  Osteoporotic fracture       Clinical vertebral fracture                    1307         27    1574.289       100      1.71506
MPCD        No exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            1307         36    1568.674       100     2.294933
MPCD        No exposure  PsO/PsA                     Psoriasis                                      1307         30    1572.389       100     1.907925
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018   8

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
MPCD        No exposure  PsO/PsA                     Psoriatic arthritis                            1307         42    1554.396       100     2.702015
MPCD        No exposure  Uveitis                     Uveitis                                        1307         61    1533.689       100     3.977338
MPCD        TNF          Cancer                      Hematologic Cancer                              994          2    1096.454       100     0.182406
MPCD        TNF          Cancer                      Non Melanoma Skin Cancer                        994         12    1085.153       100     1.105835
MPCD        TNF          Cancer                      Solid Cancer                                    994         16     1075.17       100     1.488136
MPCD        TNF          Cardiac disease             Aortic Insufficiency/Aortic Regurgitation       994          9    1089.506       100     0.826063
MPCD        TNF          Cardiac disease             Conduction Block                                994          2    1096.454       100     0.182406
MPCD        TNF          Cardiac disease             Myocardial infarction                           994          1    1095.466       100     0.091285
MPCD        TNF          Infection                   Hospitalized infection                          994         23    1076.841       100     2.135878
MPCD        TNF          Infection                   Opportunistic infection                         994         13     1080.66       100     1.202969
MPCD        TNF          Inflammatory bowel disease  Crohn’s Disease                                 994         48    1037.952       100     4.624491
MPCD        TNF          Inflammatory bowel disease  Ulcerative Colitis                              994         20     1071.74       100     1.866124
MPCD        TNF          Kidney disease              Amyloidosis                                     994          1    1097.719       100     0.091098
MPCD        TNF          Kidney disease              IgA nephropathy                                 994          3    1094.858       100     0.274008
MPCD        TNF          Kidney disease              Nephrotic syndrome                              994          2    1095.255       100     0.182606
MPCD        TNF          Lung disease                Apical Pulmonary fibrosis                       994          0    1098.218       100            0
MPCD        TNF          Lung disease                Interstitial lung disease                       994          0    1098.218       100            0
MPCD        TNF          Lung disease                Restrictive lung disease                        994          4    1092.361       100     0.366179
MPCD        TNF          Neurological Disease        Cauda Equina syndrome                           994          0    1098.218       100            0
MPCD        TNF          Neurological Disease        Spinal Cord compression                         994          0    1098.218       100            0
MPCD        TNF          Osteoporotic fracture       Clinical vertebral fracture                     994          8    1089.933       100      0.73399
MPCD        TNF          Osteoporotic fracture       Non-vertebral osteoporotic fracture             994         10    1086.669       100     0.920243
MPCD        TNF          PsO/PsA                     Psoriasis                                       994         33    1052.805       100     3.134484
MPCD        TNF          PsO/PsA                     Psoriatic arthritis                             994         56    1016.641       100     5.508338
MPCD        TNF          Uveitis                     Uveitis                                         994         38    1032.287       100     3.681145
Marketscan  DMARD        Cancer                      Hematologic Cancer                             1661          5    1307.326       100      0.38246
Marketscan  DMARD        Cancer                      Non Melanoma Skin Cancer                       1661          6    1310.839       100     0.457722
Marketscan  DMARD        Cancer                      Solid Cancer                                   1661         36    1271.302       100     2.831743
Marketscan  DMARD        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      1661          4    1313.607       100     0.304505
Marketscan  DMARD        Cardiac disease             Conduction Block                               1661          4    1313.413       100      0.30455
Marketscan  DMARD        Cardiac disease             Myocardial infarction                          1661          1    1318.404       100     0.075849
Marketscan  DMARD        Infection                   Hospitalized infection                         1661         33     1287.77       100     2.562569
Marketscan  DMARD        Infection                   Opportunistic infection                        1661          9     1312.46       100     0.685735
Marketscan  DMARD        Inflammatory bowel disease  Crohn’s Disease                                1661         19    1293.018       100      1.46943
Marketscan  DMARD        Inflammatory bowel disease  Ulcerative Colitis                             1661         20    1288.446       100     1.552257
Marketscan  DMARD        Kidney disease              Amyloidosis                                    1661          0    1320.022       100            0
Marketscan  DMARD        Kidney disease              IgA nephropathy                                1661          0    1320.022       100            0
Marketscan  DMARD        Kidney disease              Nephrotic syndrome                             1661          0    1320.022       100            0
Marketscan  DMARD        Lung disease                Apical Pulmonary fibrosis                      1661          0    1320.022       100            0
Marketscan  DMARD        Lung disease                Interstitial lung disease                      1661          0    1320.022       100            0
Marketscan  DMARD        Lung disease                Restrictive lung disease                       1661          2    1310.549       100     0.152608
Marketscan  DMARD        Neurological Disease        Cauda Equina syndrome                          1661          0    1320.022       100            0
Marketscan  DMARD        Neurological Disease        Spinal Cord compression                        1661          0    1320.022       100            0
Marketscan  DMARD        Osteoporotic fracture       Clinical vertebral fracture                    1661          2    1318.645       100     0.151671
Marketscan  DMARD        Osteoporotic fracture       Non-vertebral osteoporotic fracture            1661         11    1305.164       100     0.842806
Marketscan  DMARD        PsO/PsA                     Psoriasis                                      1661         35    1284.753       100     2.724259
Marketscan  DMARD        PsO/PsA                     Psoriatic arthritis                            1661         83    1249.027       100     6.645174
Marketscan  DMARD        Uveitis                     Uveitis                                        1661         38    1268.739       100     2.995099
Marketscan  NSAID        Cancer                      Hematologic Cancer                             2890          7    2223.978       100     0.314751
Marketscan  NSAID        Cancer                      Non Melanoma Skin Cancer                       2890          3    2227.039       100     0.134708
Marketscan  NSAID        Cancer                      Solid Cancer                                   2890         37    2155.948       100     1.716182
Marketscan  NSAID        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      2890         12    2210.798       100      0.54279
Marketscan  NSAID        Cardiac disease             Conduction Block                               2890         13    2205.933       100      0.58932
Marketscan  NSAID        Cardiac disease             Myocardial infarction                          2890          1    2225.322       100     0.044937
Marketscan  NSAID        Infection                   Hospitalized infection                         2890         65    2174.984       100     2.988527
Marketscan  NSAID        Infection                   Opportunistic infection                        2890         18    2204.827       100     0.816391
Marketscan  NSAID        Inflammatory bowel disease  Crohn’s Disease                                2890         14    2192.991       100     0.638397
Marketscan  NSAID        Inflammatory bowel disease  Ulcerative Colitis                             2890         14    2200.225       100     0.636299
Marketscan  NSAID        Kidney disease              Amyloidosis                                    2890          0    2228.241       100            0
Marketscan  NSAID        Kidney disease              IgA nephropathy                                2890          0    2228.241       100            0
Marketscan  NSAID        Kidney disease              Nephrotic syndrome                             2890          0    2228.241       100            0
Marketscan  NSAID        Lung disease                Apical Pulmonary fibrosis                      2890          0    2228.241       100            0
Marketscan  NSAID        Lung disease                Interstitial lung disease                      2890          0    2228.241       100            0
Marketscan  NSAID        Lung disease                Restrictive lung disease                       2890          9    2209.385       100     0.407353
Marketscan  NSAID        Neurological Disease        Cauda Equina syndrome                          2890          1    2227.989       100     0.044884
Marketscan  NSAID        Neurological Disease        Spinal Cord compression                        2890          2    2227.398       100     0.089791
Marketscan  NSAID        Osteoporotic fracture       Clinical vertebral fracture                    2890         12    2213.593       100     0.542105
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018   9

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
Marketscan  NSAID        Osteoporotic fracture       Non-vertebral osteoporotic fracture            2890         18    2203.173       100     0.817003
Marketscan  NSAID        PsO/PsA                     Psoriasis                                      2890         23    2199.466       100     1.045708
Marketscan  NSAID        PsO/PsA                     Psoriatic arthritis                            2890         16    2184.334       100     0.732489
Marketscan  NSAID        Uveitis                     Uveitis                                        2890         49    2152.003       100     2.276949
Marketscan  No exposure  Cancer                      Hematologic Cancer                             3947         26     3848.09       100      0.67566
Marketscan  No exposure  Cancer                      Non Melanoma Skin Cancer                       3947         42    3831.357       100     1.096217
Marketscan  No exposure  Cancer                      Solid Cancer                                   3947        138    3722.166       100     3.707519
Marketscan  No exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      3947         46    3820.931       100     1.203895
Marketscan  No exposure  Cardiac disease             Conduction Block                               3947         50     3835.71       100      1.30354
Marketscan  No exposure  Cardiac disease             Myocardial infarction                          3947         15    3859.934       100     0.388608
Marketscan  No exposure  Infection                   Hospitalized infection                         3947        197    3667.691       100     5.371227
Marketscan  No exposure  Infection                   Opportunistic infection                        3947         45    3841.969       100     1.171275
Marketscan  No exposure  Inflammatory bowel disease  Crohn’s Disease                                3947        123     3767.05       100     3.265154
Marketscan  No exposure  Inflammatory bowel disease  Ulcerative Colitis                             3947        104    3784.019       100       2.7484
Marketscan  No exposure  Kidney disease              Amyloidosis                                    3947          0    3881.248       100            0
Marketscan  No exposure  Kidney disease              IgA nephropathy                                3947          4    3875.173       100     0.103221
Marketscan  No exposure  Kidney disease              Nephrotic syndrome                             3947          1    3880.438       100      0.02577
Marketscan  No exposure  Lung disease                Apical Pulmonary fibrosis                      3947          0    3881.248       100            0
Marketscan  No exposure  Lung disease                Interstitial lung disease                      3947          6    3872.194       100     0.154951
Marketscan  No exposure  Lung disease                Restrictive lung disease                       3947         41    3841.467       100       1.0673
Marketscan  No exposure  Neurological Disease        Cauda Equina syndrome                          3947          2     3879.97       100     0.051547
Marketscan  No exposure  Neurological Disease        Spinal Cord compression                        3947          2    3880.345       100     0.051542
Marketscan  No exposure  Osteoporotic fracture       Clinical vertebral fracture                    3947         42    3829.511       100     1.096746
Marketscan  No exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            3947         46    3830.606       100     1.200854
Marketscan  No exposure  PsO/PsA                     Psoriasis                                      3947         90    3813.837       100     2.359828
Marketscan  No exposure  PsO/PsA                     Psoriatic arthritis                            3947        129    3786.149       100     3.407156
Marketscan  No exposure  Uveitis                     Uveitis                                        3947        201     3687.91       100     5.450242
Marketscan  TNF          Cancer                      Hematologic Cancer                             4768          7    5445.306       100     0.128551
Marketscan  TNF          Cancer                      Non Melanoma Skin Cancer                       4768         33    5401.574       100     0.610933
Marketscan  TNF          Cancer                      Solid Cancer                                   4768         70    5342.062       100     1.310356
Marketscan  TNF          Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4768         30    5399.904       100     0.555565
Marketscan  TNF          Cardiac disease             Conduction Block                               4768         20    5420.296       100     0.368984
Marketscan  TNF          Cardiac disease             Myocardial infarction                          4768          6    5450.557       100      0.11008
Marketscan  TNF          Infection                   Hospitalized infection                         4768        227    5217.684       100     4.350589
Marketscan  TNF          Infection                   Opportunistic infection                        4768         55    5390.897       100     1.020238
Marketscan  TNF          Inflammatory bowel disease  Crohn’s Disease                                4768        176    5218.097       100     3.372877
Marketscan  TNF          Inflammatory bowel disease  Ulcerative Colitis                             4768        109     5285.81       100     2.062125
Marketscan  TNF          Kidney disease              Amyloidosis                                    4768          2    5452.561       100      0.03668
Marketscan  TNF          Kidney disease              IgA nephropathy                                4768          4    5449.766       100     0.073398
Marketscan  TNF          Kidney disease              Nephrotic syndrome                             4768          1    5449.615       100      0.01835
Marketscan  TNF          Lung disease                Apical Pulmonary fibrosis                      4768          0      5453.5       100            0
Marketscan  TNF          Lung disease                Interstitial lung disease                      4768          4    5450.921       100     0.073382
Marketscan  TNF          Lung disease                Restrictive lung disease                       4768         27    5419.682       100     0.498184
Marketscan  TNF          Neurological Disease        Cauda Equina syndrome                          4768          1    5450.716       100     0.018346
Marketscan  TNF          Neurological Disease        Spinal Cord compression                        4768          9    5443.636       100     0.165331
Marketscan  TNF          Osteoporotic fracture       Clinical vertebral fracture                    4768         15    5429.454       100     0.276271
Marketscan  TNF          Osteoporotic fracture       Non-vertebral osteoporotic fracture            4768         43    5392.424       100     0.797415
Marketscan  TNF          PsO/PsA                     Psoriasis                                      4768        164     5255.54       100     3.120517
Marketscan  TNF          PsO/PsA                     Psoriatic arthritis                            4768        267    5087.159       100     5.248509
Marketscan  TNF          Uveitis                     Uveitis                                        4768        205     5117.41       100     4.005933
Medicare    DMARD        Cancer                      Hematologic Cancer                             3824         21    8345.741       100     0.251625
Medicare    DMARD        Cancer                      Non Melanoma Skin Cancer                       3824         58    8272.189       100     0.701145
Medicare    DMARD        Cancer                      Solid Cancer                                   3824        160    7677.596       100     2.083986
Medicare    DMARD        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      3824         68    8148.255       100     0.834535
Medicare    DMARD        Cardiac disease             Conduction Block                               3824         60    8246.732       100     0.727561
Medicare    DMARD        Cardiac disease             Myocardial infarction                          3824         29    8393.112       100     0.345521
Medicare    DMARD        Infection                   Hospitalized infection                         3824        352    7661.889       100     4.594167
Medicare    DMARD        Infection                   Opportunistic infection                        3824         85    8124.189       100     1.046258
Medicare    DMARD        Inflammatory bowel disease  Crohn’s Disease                                3824         68    8102.664       100      0.83923
Medicare    DMARD        Inflammatory bowel disease  Ulcerative Colitis                             3824         49    8148.375       100     0.601347
Medicare    DMARD        Kidney disease              Amyloidosis                                    3824          0    8470.204       100            0
Medicare    DMARD        Kidney disease              IgA nephropathy                                3824          4    8462.982       100     0.047265
Medicare    DMARD        Kidney disease              Nephrotic syndrome                             3824          1    8462.171       100     0.011817
Medicare    DMARD        Lung disease                Apical Pulmonary fibrosis                      3824          1    8470.642       100     0.011805
Medicare    DMARD        Lung disease                Interstitial lung disease                      3824         13    8400.074       100     0.154761
Medicare    DMARD        Lung disease                Restrictive lung disease                       3824         66    8191.737       100      0.80569
Medicare    DMARD        Neurological Disease        Cauda Equina syndrome                          3824          1    8471.893       100     0.011804
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018  10

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare    DMARD        Neurological Disease        Spinal Cord compression                        3824          5    8453.525       100     0.059147
Medicare    DMARD        Osteoporotic fracture       Clinical vertebral fracture                    3824         29    8305.435       100     0.349169
Medicare    DMARD        Osteoporotic fracture       Non-vertebral osteoporotic fracture            3824         46    8240.487       100     0.558219
Medicare    DMARD        PsO/PsA                     Psoriasis                                      3824         88     8115.11       100     1.084397
Medicare    DMARD        PsO/PsA                     Psoriatic arthritis                            3824        156    7889.218       100     1.977382
Medicare    DMARD        Uveitis                     Uveitis                                        3824         84    8069.161       100        1.041
Medicare    NSAID        Cancer                      Hematologic Cancer                             8856         52    16086.29       100     0.323257
Medicare    NSAID        Cancer                      Non Melanoma Skin Cancer                       8856         99    16054.74       100     0.616641
Medicare    NSAID        Cancer                      Solid Cancer                                   8856        262    14703.83       100     1.781848
Medicare    NSAID        Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      8856        127    15505.97       100     0.819039
Medicare    NSAID        Cardiac disease             Conduction Block                               8856        101    15699.97       100     0.643313
Medicare    NSAID        Cardiac disease             Myocardial infarction                          8856         41    16131.12       100     0.254167
Medicare    NSAID        Infection                   Hospitalized infection                         8856        686    15011.95       100     4.569693
Medicare    NSAID        Infection                   Opportunistic infection                        8856        105    15631.92       100     0.671703
Medicare    NSAID        Inflammatory bowel disease  Crohn’s Disease                                8856         70    15848.91       100     0.441671
Medicare    NSAID        Inflammatory bowel disease  Ulcerative Colitis                             8856         52    15991.84       100     0.325166
Medicare    NSAID        Kidney disease              Amyloidosis                                    8856          1    16275.39       100     0.006144
Medicare    NSAID        Kidney disease              IgA nephropathy                                8856          5    16259.17       100     0.030752
Medicare    NSAID        Kidney disease              Nephrotic syndrome                             8856          1    16276.03       100     0.006144
Medicare    NSAID        Lung disease                Apical Pulmonary fibrosis                      8856          0    16272.34       100            0
Medicare    NSAID        Lung disease                Interstitial lung disease                      8856          4    16243.54       100     0.024625
Medicare    NSAID        Lung disease                Restrictive lung disease                       8856         89    15780.42       100      0.56399
Medicare    NSAID        Neurological Disease        Cauda Equina syndrome                          8856          3    16255.79       100     0.018455
Medicare    NSAID        Neurological Disease        Spinal Cord compression                        8856          9    16234.25       100     0.055438
Medicare    NSAID        Osteoporotic fracture       Clinical vertebral fracture                    8856         84    15733.96       100     0.533877
Medicare    NSAID        Osteoporotic fracture       Non-vertebral osteoporotic fracture            8856        119    15501.11       100     0.767687
Medicare    NSAID        PsO/PsA                     Psoriasis                                      8856         65    15806.42       100     0.411225
Medicare    NSAID        PsO/PsA                     Psoriatic arthritis                            8856         72    15873.26       100     0.453593
Medicare    NSAID        Uveitis                     Uveitis                                        8856         74    15880.48       100     0.465981
Medicare    No exposure  Cancer                      Hematologic Cancer                             9257        156    23221.82       100     0.671782
Medicare    No exposure  Cancer                      Non Melanoma Skin Cancer                       9257        554    21879.29       100     2.532075
Medicare    No exposure  Cancer                      Solid Cancer                                   9257       1120    20672.62       100     5.417795
Medicare    No exposure  Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      9257        660    21650.93       100     3.048368
Medicare    No exposure  Cardiac disease             Conduction Block                               9257        542     22162.4       100     2.445584
Medicare    No exposure  Cardiac disease             Myocardial infarction                          9257        223    23115.81       100     0.964708
Medicare    No exposure  Infection                   Hospitalized infection                         9257       1896    19147.16       100     9.902251
Medicare    No exposure  Infection                   Opportunistic infection                        9257        430    22431.49       100     1.916948
Medicare    No exposure  Inflammatory bowel disease  Crohn’s Disease                                9257        344    22687.52       100     1.516252
Medicare    No exposure  Inflammatory bowel disease  Ulcerative Colitis                             9257        232    22891.12       100     1.013493
Medicare    No exposure  Kidney disease              Amyloidosis                                    9257          8    23554.89       100     0.033963
Medicare    No exposure  Kidney disease              IgA nephropathy                                9257         20    23515.56       100      0.08505
Medicare    No exposure  Kidney disease              Nephrotic syndrome                             9257         12    23536.64       100     0.050984
Medicare    No exposure  Lung disease                Apical Pulmonary fibrosis                      9257          2    23564.25       100     0.008487
Medicare    No exposure  Lung disease                Interstitial lung disease                      9257         48    23454.46       100     0.204652
Medicare    No exposure  Lung disease                Restrictive lung disease                       9257        367    22571.33       100     1.625956
Medicare    No exposure  Neurological Disease        Cauda Equina syndrome                          9257         10    23542.83       100     0.042476
Medicare    No exposure  Neurological Disease        Spinal Cord compression                        9257         27    23498.45       100     0.114901
Medicare    No exposure  Osteoporotic fracture       Clinical vertebral fracture                    9257        404    22555.37       100     1.791147
Medicare    No exposure  Osteoporotic fracture       Non-vertebral osteoporotic fracture            9257        509     22292.6       100     2.283269
Medicare    No exposure  PsO/PsA                     Psoriasis                                      9257        319    22661.18       100     1.407694
Medicare    No exposure  PsO/PsA                     Psoriatic arthritis                            9257        230    23010.85       100     0.999528
Medicare    No exposure  Uveitis                     Uveitis                                        9257        218    23013.65       100     0.947264
Medicare    TNF          Cancer                      Hematologic Cancer                             4345         25    14212.32       100     0.175904
Medicare    TNF          Cancer                      Non Melanoma Skin Cancer                       4345         94    13981.45       100     0.672319
Medicare    TNF          Cancer                      Solid Cancer                                   4345        169    13482.97       100     1.253433
Medicare    TNF          Cardiac disease             Aortic Insufficiency/Aortic Regurgitation      4345        112     13788.5       100     0.812271
Medicare    TNF          Cardiac disease             Conduction Block                               4345        109     13926.9       100     0.782658
Medicare    TNF          Cardiac disease             Myocardial infarction                          4345         31    14174.65       100       0.2187
Medicare    TNF          Infection                   Hospitalized infection                         4345        552    12707.86       100     4.343767
Medicare    TNF          Infection                   Opportunistic infection                        4345        124    13791.88       100      0.89908
Medicare    TNF          Inflammatory bowel disease  Crohn’s Disease                                4345        198    13159.72       100     1.504592
Medicare    TNF          Inflammatory bowel disease  Ulcerative Colitis                             4345        110    13680.82       100     0.804045
Medicare    TNF          Kidney disease              Amyloidosis                                    4345          4    14287.83       100     0.027996
Medicare    TNF          Kidney disease              IgA nephropathy                                4345          9    14256.18       100     0.063131
Medicare    TNF          Kidney disease              Nephrotic syndrome                             4345          8    14281.78       100     0.056015
Medicare    TNF          Lung disease                Apical Pulmonary fibrosis                      4345          0    14302.34       100            0
Medicare    TNF          Lung disease                Interstitial lung disease                      4345         18    14252.78       100     0.126291
 
                                                              queryIncidenceOutcomes.sas
                                                                  --- AS project ---                                11:44 Monday, November 5, 2018  11

                                                                                                                         person              incidence
database    exposure     Disease Category            Disease                                           n  incidence       Years     scale         Rate
------------------------------------------------------------------------------------------------------------------------------------------------------
Medicare    TNF          Lung disease                Restrictive lung disease                       4345         92    13869.95       100     0.663305
Medicare    TNF          Neurological Disease        Cauda Equina syndrome                          4345          4    14280.45       100      0.02801
Medicare    TNF          Neurological Disease        Spinal Cord compression                        4345          8    14271.98       100     0.056054
Medicare    TNF          Osteoporotic fracture       Clinical vertebral fracture                    4345         28    14173.83       100     0.197547
Medicare    TNF          Osteoporotic fracture       Non-vertebral osteoporotic fracture            4345         42    14119.73       100     0.297456
Medicare    TNF          PsO/PsA                     Psoriasis                                      4345        196    13421.08       100     1.460389
Medicare    TNF          PsO/PsA                     Psoriatic arthritis                            4345        276    13082.08       100     2.109757
Medicare    TNF          Uveitis                     Uveitis                                        4345        207     13255.6       100     1.561604
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
                                                              queryIncidenceOutcomes.sas
524        quit;
NOTE: The PROCEDURE SQL printed pages 7-11.
NOTE: PROCEDURE SQL used (Total process time):
      real time           5.16 seconds
10                                                                  The SAS System                                      11:44 Monday, November 5, 2018

      cpu time            9.29 seconds
      

525        
526        
527        ods html close;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           28.56 seconds
      cpu time            18.93 seconds
      
