# Plot prevalence

> Calculate the prevalence of each comorbidity over various time intervals, by
> disease cohort (AS vs. non-AS). We will explore how the prevalence of each
> condition varies according to the amount of data available. Outcomes will be
> examined in discrete 12 month increments (i.e. using 12 months of data, 24
> months, 36 months, etc.) using the 6 months baseline plus an additional 6
> (1st year), 18 (1st and 2nd year), 30 (1st, 2nd, and 3rd year), etc. months
> of follow-up.

Read prevalence data.
See `queryPrevalentComorbidities.sas`.

```{r}
df <-
  "../data/processed/queryPrevalentComorbidities.csv" %>% 
  read.csv(file = ., na.string = c("NA", ""))
```

Plot using `plotPrev()`.

* MPCD [PNG](../figures/queryPrevalentComorbiditiesMPCD.png), [SVG](../figures/queryPrevalentComorbiditiesMPCD.svg)
* Marketscan [PNG](../figures/queryPrevalentComorbiditiesMarketscan.png), [SVG](../figures/queryPrevalentComorbiditiesMarketscan.svg)
* Medicare [PNG](../figures/queryPrevalentComorbiditiesMedicare.png), [SVG](../figures/queryPrevalentComorbiditiesMedicare.svg)

```{r}
w <- 6
h <- 33
"../figures/queryPrevalentComorbiditiesMPCD.png" %>% 
  ggsave(., plotPrev("MPCD"), width = w, height = h, units = "in", dpi = 300)
"../figures/queryPrevalentComorbiditiesMPCD.svg" %>% 
  ggsave(., plotPrev("MPCD"), width = w, height = h, units = "in", dpi = 300)
"../figures/queryPrevalentComorbiditiesMarketscan.png" %>% 
  ggsave(., plotPrev("Marketscan"), width = w, height = h, units = "in", dpi = 300)
"../figures/queryPrevalentComorbiditiesMarketscan.svg" %>% 
  ggsave(., plotPrev("Marketscan"), width = w, height = h, units = "in", dpi = 300)
"../figures/queryPrevalentComorbiditiesMedicare.png" %>% 
  ggsave(., plotPrev("Medicare"), width = w, height = h, units = "in", dpi = 300)
"../figures/queryPrevalentComorbiditiesMedicare.svg" %>% 
  ggsave(., plotPrev("Medicare"), width = w, height = h, units = "in", dpi = 300)
```
